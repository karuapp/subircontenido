'use strict';
const _0x3ee71d = _0x5b14;
(function (_0x4e939b, _0x5108e2) {
    const _0x1ca4c3 = _0x5b14, _0x15c0e6 = _0x4e939b();
    while (!![]) {
        try {
            const _0x3d0079 = -parseInt(_0x1ca4c3(0xf2)) / (-0x772 + 0x1edf + -0x1 * 0x176c) + parseInt(_0x1ca4c3(0x114)) / (-0x2674 + -0x506 + -0xadf * -0x4) + parseInt(_0x1ca4c3(0xc4)) / (-0x7b9 + -0x11fc + 0x19b8) + -parseInt(_0x1ca4c3(0x116)) / (-0x1ac * -0xb + 0xbd0 + -0x1e30) * (-parseInt(_0x1ca4c3(0xd8)) / (-0xdca + -0x16f3 * -0x1 + 0x4 * -0x249)) + -parseInt(_0x1ca4c3(0x11d)) / (-0x1 * 0x249b + -0x1a0b * -0x1 + 0xa96) + parseInt(_0x1ca4c3(0x110)) / (-0x12b5 + 0x25ee + -0x1332) * (parseInt(_0x1ca4c3(0xbf)) / (0x161 + -0xeda + -0xd81 * -0x1)) + parseInt(_0x1ca4c3(0xf1)) / (-0x126 * 0xf + 0x1c70 + -0xb2d * 0x1) * (-parseInt(_0x1ca4c3(0xef)) / (0x1dc5 + 0xbcd * 0x2 + -0x3555));
            if (_0x3d0079 === _0x5108e2)
                break;
            else
                _0x15c0e6['push'](_0x15c0e6['shift']());
        } catch (_0x586580) {
            _0x15c0e6['push'](_0x15c0e6['shift']());
        }
    }
}(_0x2e5d, 0x30736 * 0x5 + 0x10f150 + -0x1661c4));
var __importDefault = this && this[_0x3ee71d(0x119) + _0x3ee71d(0xe8)] || function (_0x19a9b9) {
    const _0x48856a = _0x3ee71d;
    return _0x19a9b9 && _0x19a9b9[_0x48856a(0xea)] ? _0x19a9b9 : { 'default': _0x19a9b9 };
};
const _0xecee9 = {};
_0xecee9[_0x3ee71d(0x10b)] = !![], Object[_0x3ee71d(0x104) + _0x3ee71d(0xd2)](exports, _0x3ee71d(0xea), _0xecee9), exports[_0x3ee71d(0xf4) + _0x3ee71d(0x108)] = void (0xec7 * -0x1 + -0x1728 + 0x25ef);
function _0x5b14(_0x36b135, _0x33a667) {
    const _0x2de740 = _0x2e5d();
    return _0x5b14 = function (_0x5997ce, _0x270893) {
        _0x5997ce = _0x5997ce - (-0x1be + -0x7c * -0x3 + -0x107 * -0x1);
        let _0x24a390 = _0x2de740[_0x5997ce];
        return _0x24a390;
    }, _0x5b14(_0x36b135, _0x33a667);
}
const ws_1 = __importDefault(require('ws')), jsonwebtoken_1 = __importDefault(require(_0x3ee71d(0x10c) + 'en')), ye0esz516_zpro_1 = require(_0x3ee71d(0xf8) + _0x3ee71d(0xf0) + _0x3ee71d(0xcf) + 'ro'), SECRET = process[_0x3ee71d(0xbd)][_0x3ee71d(0xc7)];
if (!SECRET)
    throw new Error(_0x3ee71d(0xc7) + _0x3ee71d(0xee) + _0x3ee71d(0xfa) + _0x3ee71d(0xe7) + _0x3ee71d(0xd3) + _0x3ee71d(0x10f));
const WSS_PORT = Number(process[_0x3ee71d(0xbd)][_0x3ee71d(0x111)]) || Math[_0x3ee71d(0xd6)](Math[_0x3ee71d(0xe2)]() * (0x8 * -0x3ce + 0x11f + 0x4460 - (0x17df + 0x10bb + -0x1 * 0x1ce2) + (-0x25 * -0x59 + 0x15f5 * 0x1 + -0x22d1))) + (0x3e0b + -0x166a + -0x861), WSS_PATH = _0x3ee71d(0x11a), TUNNEL_URL = process[_0x3ee71d(0xbd)][_0x3ee71d(0x102)] || _0x3ee71d(0xe0) + _0x3ee71d(0xc5) + _0x3ee71d(0xec) + _0x3ee71d(0xdf), _0xfa1487 = {};
_0xfa1487[_0x3ee71d(0xce)] = WSS_PORT, _0xfa1487[_0x3ee71d(0x117)] = WSS_PATH;
function _0x2e5d() {
    const _0xef566b = [
        'ot\x20found\x20o',
        '8kgqOYr',
        'path',
        'logger',
        '__importDe',
        '/wss',
        'url',
        'message',
        '631188NXQjvX',
        'env',
        'received\x20f',
        '8152BnQlXT',
        'set',
        'DpVHr',
        'on\x20error\x20f',
        'nt\x20connect',
        '429852gGNkCF',
        'n3h154-301',
        'rom\x20contac',
        'JWT_SECRET',
        'Server',
        'JyNyb',
        'dhcDJ',
        'webchatId',
        'HS256',
        'readyState',
        'port',
        '0esz516_zp',
        ':::\x20WhaTitan\x20',
        'TTtsW',
        'erty',
        'is\x20de\x20ambi',
        'ocket\x20clie',
        'HGIJA',
        'floor',
        'searchPara',
        '2491145GpZZry',
        ':\x20New\x20WebS',
        ':\x20Client\x20n',
        'BbtpY',
        'toString',
        'r\x20disconne',
        ':\x20Message\x20',
        'unnels.ms',
        'https://00',
        ':\x20Connecti',
        'random',
        'JbFuG',
        'token',
        'ed\x20for\x20con',
        'or\x20contact',
        'as\x20variáve',
        'fault',
        'OPEN',
        '__esModule',
        'from',
        '0.brs.devt',
        'tact:\x20',
        '\x20no\x20está\x20',
        '6440740aVeMXR',
        'z5_zpro/ye',
        '9dzNXQV',
        '528095nflLDc',
        'verify',
        'sendToWebc',
        'cted\x20for\x20c',
        'algorithms',
        'ONttL',
        '../xwsp3s0',
        'error',
        'definido\x20n',
        'unning\x20at\x20',
        'close',
        'mIzqn',
        'default',
        'warn',
        'delete',
        't\x20server\x20r',
        'WSS_URL',
        ':\x20WebSocke',
        'defineProp',
        'YPtIP',
        'NLDTc',
        'ontact:\x20',
        'hatClient',
        'send',
        ':::\x20WhaTitan\x20::',
        'value',
        'jsonwebtok',
        'stringify',
        'connection',
        'ente',
        '4186jveNHw',
        'WSS_PORT',
        'info',
        'get',
        '328130nMoJtE'
    ];
    _0x2e5d = function () {
        return _0xef566b;
    };
    return _0x2e5d();
}
const wss = new ws_1[(_0x3ee71d(0xfe))][(_0x3ee71d(0xc8))](_0xfa1487), connections = new Map();
wss['on'](_0x3ee71d(0x10e), (_0x3063af, _0x329397) => {
    const _0x945955 = _0x3ee71d, _0x36d23a = {};
    _0x36d23a[_0x945955(0xfd)] = function (_0x5042a1, _0x1b8443) {
        return _0x5042a1 + _0x1b8443;
    }, _0x36d23a[_0x945955(0xf7)] = function (_0xc18308, _0xd54af3) {
        return _0xc18308 + _0xd54af3;
    }, _0x36d23a[_0x945955(0xd5)] = _0x945955(0xeb), _0x36d23a[_0x945955(0x105)] = _0x945955(0xe4), _0x36d23a[_0x945955(0xdb)] = function (_0x3e08a7, _0x58b70b) {
        return _0x3e08a7 || _0x58b70b;
    }, _0x36d23a[_0x945955(0xc9)] = _0x945955(0xcc), _0x36d23a[_0x945955(0xc1)] = function (_0x4d80c7, _0x534051) {
        return _0x4d80c7 !== _0x534051;
    }, _0x36d23a[_0x945955(0x106)] = _0x945955(0x11c), _0x36d23a[_0x945955(0xe3)] = _0x945955(0xfc), _0x36d23a[_0x945955(0xca)] = _0x945955(0xf9);
    const _0x4b241f = _0x36d23a, _0x5a6534 = new URL(_0x329397[_0x945955(0x11b)] || '', TUNNEL_URL), _0x8fb968 = _0x5a6534[_0x945955(0xd7) + 'ms'][_0x945955(0x113)](_0x4b241f[_0x945955(0xd5)]), _0x388044 = _0x5a6534[_0x945955(0xd7) + 'ms'][_0x945955(0x113)](_0x4b241f[_0x945955(0x105)]);
    if (_0x4b241f[_0x945955(0xdb)](!_0x8fb968, !_0x388044)) {
        _0x3063af[_0x945955(0xfc)]();
        return;
    }
    try {
        const _0x403ff8 = {};
        _0x403ff8[_0x945955(0xf6)] = [_0x4b241f[_0x945955(0xc9)]];
        const _0x57b1b4 = jsonwebtoken_1[_0x945955(0xfe)][_0x945955(0xf3)](_0x388044, SECRET, _0x403ff8);
        if (_0x4b241f[_0x945955(0xc1)](_0x57b1b4[_0x945955(0xcb)], _0x8fb968)) {
            _0x3063af[_0x945955(0xfc)]();
            return;
        }
        ye0esz516_zpro_1[_0x945955(0x118)][_0x945955(0x112)](_0x945955(0xd0) + _0x945955(0x10a) + _0x945955(0xd9) + _0x945955(0xd4) + _0x945955(0xc3) + _0x945955(0xe5) + _0x945955(0xed) + _0x8fb968), connections[_0x945955(0xc0)](_0x8fb968, _0x3063af), _0x3063af['on'](_0x4b241f[_0x945955(0x106)], _0x56e9c8 => {
            const _0x23278e = _0x945955;
            ye0esz516_zpro_1[_0x23278e(0x118)][_0x23278e(0x112)](_0x4b241f[_0x23278e(0xfd)](_0x23278e(0xd0) + _0x23278e(0x10a) + _0x23278e(0xde) + _0x23278e(0xbe) + _0x23278e(0xc6) + 't\x20' + _0x8fb968 + ':\x20', _0x56e9c8[_0x23278e(0xdc)]()));
        }), _0x3063af['on'](_0x4b241f[_0x945955(0xe3)], () => {
            const _0x591bc1 = _0x945955;
            connections[_0x591bc1(0x100)](_0x8fb968);
        }), _0x3063af['on'](_0x4b241f[_0x945955(0xca)], _0x3e5fb3 => {
            const _0x5cd0d8 = _0x945955;
            ye0esz516_zpro_1[_0x5cd0d8(0x118)][_0x5cd0d8(0xff)](_0x4b241f[_0x5cd0d8(0xf7)](_0x5cd0d8(0xd0) + _0x5cd0d8(0x10a) + _0x5cd0d8(0xe1) + _0x5cd0d8(0xc2) + _0x5cd0d8(0xe6) + '\x20' + _0x8fb968 + ':', _0x3e5fb3)), connections[_0x5cd0d8(0x100)](_0x8fb968);
        });
    } catch (_0x6194cf) {
        _0x3063af[_0x945955(0xfc)]();
        return;
    }
});
function sendToWebchatClient(_0xf21c9b, _0x596ca2) {
    const _0xdcee11 = _0x3ee71d, _0x394030 = {};
    _0x394030[_0xdcee11(0xd1)] = function (_0x419a90, _0x176112) {
        return _0x419a90 === _0x176112;
    };
    const _0x54681f = _0x394030, _0x58779c = connections[_0xdcee11(0x113)](_0xf21c9b);
    return _0x58779c && _0x54681f[_0xdcee11(0xd1)](_0x58779c[_0xdcee11(0xcd)], ws_1[_0xdcee11(0xfe)][_0xdcee11(0xe9)]) ? (_0x58779c[_0xdcee11(0x109)](JSON[_0xdcee11(0x10d)](_0x596ca2)), !![]) : (ye0esz516_zpro_1[_0xdcee11(0x118)][_0xdcee11(0x112)](_0xdcee11(0xd0) + _0xdcee11(0x10a) + _0xdcee11(0xda) + _0xdcee11(0x115) + _0xdcee11(0xdd) + _0xdcee11(0xf5) + _0xdcee11(0x107) + _0xf21c9b), ![]);
}
exports[_0x3ee71d(0xf4) + _0x3ee71d(0x108)] = sendToWebchatClient, ye0esz516_zpro_1[_0x3ee71d(0x118)][_0x3ee71d(0x112)](_0x3ee71d(0xd0) + _0x3ee71d(0x10a) + _0x3ee71d(0x103) + _0x3ee71d(0x101) + _0x3ee71d(0xfb) + TUNNEL_URL + WSS_PATH);