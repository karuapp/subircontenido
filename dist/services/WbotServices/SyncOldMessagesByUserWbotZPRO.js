'use strict';
const _0x29cb6d = _0x9073;
(function (_0x7c0c06, _0x3ae17b) {
    const _0x3b54c3 = _0x9073, _0x271ecb = _0x7c0c06();
    while (!![]) {
        try {
            const _0x296f27 = parseInt(_0x3b54c3(0x99)) / (0x1b * 0x47 + 0x3 * 0xf1 + -0xa4f) + parseInt(_0x3b54c3(0x118)) / (0x13 * -0x1d3 + 0x1c0b + 0x6a0) + -parseInt(_0x3b54c3(0xea)) / (-0x1 * 0x123 + -0x1 * -0x2bb + -0x195) * (parseInt(_0x3b54c3(0xb6)) / (0xe34 + -0x13f6 + -0x2e3 * -0x2)) + parseInt(_0x3b54c3(0xc1)) / (-0x23 * -0x5f + -0x24a + -0xaae) + -parseInt(_0x3b54c3(0xc2)) / (-0xb49 + 0x6f0 + 0x45f) + parseInt(_0x3b54c3(0x10e)) / (-0x778 + 0xb3 * -0x13 + -0x23 * -0x98) * (parseInt(_0x3b54c3(0xe0)) / (-0x80b + 0x1 * -0x148d + 0x1ca0)) + -parseInt(_0x3b54c3(0xe9)) / (-0x14e * 0x8 + -0x1c7a + -0x26f3 * -0x1);
            if (_0x296f27 === _0x3ae17b)
                break;
            else
                _0x271ecb['push'](_0x271ecb['shift']());
        } catch (_0x24987b) {
            _0x271ecb['push'](_0x271ecb['shift']());
        }
    }
}(_0x1d7e, -0x16d571 + 0xca0 * 0xd4 + 0x19d2b2));
function _0x9073(_0x580e2a, _0x1d8e4b) {
    const _0x56974e = _0x1d7e();
    return _0x9073 = function (_0x4c6e5c, _0x1ebd41) {
        _0x4c6e5c = _0x4c6e5c - (-0xf81 + 0xa0 + 0xf7a);
        let _0x257917 = _0x56974e[_0x4c6e5c];
        return _0x257917;
    }, _0x9073(_0x580e2a, _0x1d8e4b);
}
function _0x1d7e() {
    const _0x4c232e = [
        'number',
        '/ye0esz516',
        'unreadMess',
        'ezone',
        'c8_zpro/wa',
        'xkAfZ',
        '../../q09u',
        'o/73nz_zpr',
        '../../xwsp',
        'update',
        'getChat',
        'TicketServ',
        'PRO',
        'whatsappId',
        'hasMedia',
        'emit',
        '\x20already\x20e',
        '\x20HH:mm:ss.',
        'o_Paulo',
        '__importDe',
        'Ekrsv',
        '917vWmbMf',
        'ervices/Fi',
        'DD/MM/YY\x20H',
        'logger',
        'next',
        'VerifyMedi',
        'or:\x20',
        'VerifyMess',
        'aFbhX',
        '504h0e_zpr',
        '215116vHNfqu',
        'timestamp',
        '_zpro',
        'fault',
        'done',
        'default',
        '../TicketS',
        'throw',
        'sage\x20ticke',
        'erty',
        '857621OkJJJU',
        'aNexZ',
        'xzyVX',
        'afpFm',
        'wsOUW',
        'sages',
        'moment-tim',
        ':::\x20WhaTitan\x20::',
        'Jthqb',
        'pkWrC',
        'ls/TicketZ',
        'chat:updat',
        'findOne',
        'ls/Message',
        'channel',
        'unreadCoun',
        'zpro',
        'DPrha',
        'xists',
        'messageId',
        'iceZPRO',
        'VpbSM',
        'getContact',
        'value',
        'tenantId',
        'H:mm:ss',
        '../../mode',
        'aMessageZP',
        'contact',
        '4JwgyHE',
        '../../ludp',
        'synced',
        'apiConfig',
        'ges',
        'ukKlE',
        'umYWZ',
        'type',
        'VerifyCont',
        'getIO',
        'xcnte',
        '8218385OFBbTe',
        '1018338jRLVLf',
        'xMhMX',
        'info',
        'limit',
        'JzIaR',
        '3s0z5_zpro',
        'format',
        'apply',
        ':importMes',
        'defineProp',
        'ndOrCreate',
        'then',
        'YYYY-MM-DD',
        'reverse',
        'ages',
        ':\x20Sync\x20err',
        'BnusJ',
        'isSync',
        'AXjpc',
        '__awaiter',
        'FEBCf',
        'ksedbc_zpr',
        'payload',
        'fetchMessa',
        'ruRPD',
        'ById',
        './helpers/',
        '52_zpro/g2',
        'actZPRO',
        'HxFsN',
        '61912YjCPGk',
        'vVZrl',
        'whatsapp',
        '__esModule',
        '../../84as',
        'TWgDu',
        'quotedMsg',
        't:\x20',
        'JHRXm',
        '16329807FfjbfY',
        '2272290nRKIoz',
        'unix',
        ':\x20Sync\x20mes',
        'SSSZ',
        'ZPRO',
        'wRBel',
        'BDQVQ',
        'ageZPRO',
        'America/Sa',
        'PxjwG',
        'posxjtgen_',
        ':::\x20WhaTitan\x20',
        'where',
        'nEUHR',
        'ticket'
    ];
    _0x1d7e = function () {
        return _0x4c232e;
    };
    return _0x1d7e();
}
var __awaiter = this && this[_0x29cb6d(0xd5)] || function (_0x332cbf, _0x372249, _0x53cb56, _0x307801) {
        const _0x467fe9 = _0x29cb6d, _0x312930 = {
                'TWgDu': function (_0x47a4ea, _0x47e956) {
                    return _0x47a4ea(_0x47e956);
                },
                'Ekrsv': function (_0x59a689, _0x29fc55) {
                    return _0x59a689 instanceof _0x29fc55;
                },
                'xzyVX': function (_0x4adb83, _0x3e024d) {
                    return _0x4adb83(_0x3e024d);
                },
                'Jthqb': _0x467fe9(0x11f),
                'AXjpc': function (_0x307870, _0x3f500d) {
                    return _0x307870(_0x3f500d);
                },
                'aFbhX': function (_0x464eeb, _0x1f5a4a) {
                    return _0x464eeb(_0x1f5a4a);
                }
            };
        function _0x2412d8(_0x59b649) {
            const _0x51807e = _0x467fe9, _0xaf9b22 = {
                    'vVZrl': function (_0x10d417, _0x21cd2c) {
                        const _0x5a4cf1 = _0x9073;
                        return _0x312930[_0x5a4cf1(0xe5)](_0x10d417, _0x21cd2c);
                    }
                };
            return _0x312930[_0x51807e(0x10d)](_0x59b649, _0x53cb56) ? _0x59b649 : new _0x53cb56(function (_0x29e499) {
                const _0x198759 = _0x51807e;
                _0xaf9b22[_0x198759(0xe1)](_0x29e499, _0x59b649);
            });
        }
        return new (_0x53cb56 || (_0x53cb56 = Promise))(function (_0x58a7a0, _0x28c0e3) {
            const _0x371892 = _0x467fe9, _0x415031 = {
                    'umYWZ': function (_0x523b09, _0x101b58) {
                        const _0x1390fb = _0x9073;
                        return _0x312930[_0x1390fb(0x9b)](_0x523b09, _0x101b58);
                    },
                    'wsOUW': _0x312930[_0x371892(0xa1)],
                    'JHRXm': function (_0x3a5d9c, _0x5e6a6f) {
                        const _0x4d4d98 = _0x371892;
                        return _0x312930[_0x4d4d98(0xd4)](_0x3a5d9c, _0x5e6a6f);
                    }
                };
            function _0x445ada(_0x1637ef) {
                const _0x3fcfe9 = _0x371892;
                try {
                    _0x415031[_0x3fcfe9(0xbc)](_0x3485d9, _0x307801[_0x3fcfe9(0x112)](_0x1637ef));
                } catch (_0x3e56ca) {
                    _0x415031[_0x3fcfe9(0xbc)](_0x28c0e3, _0x3e56ca);
                }
            }
            function _0x1154b1(_0x3cb371) {
                const _0x42cbcf = _0x371892;
                try {
                    _0x415031[_0x42cbcf(0xbc)](_0x3485d9, _0x307801[_0x415031[_0x42cbcf(0x9d)]](_0x3cb371));
                } catch (_0x411638) {
                    _0x415031[_0x42cbcf(0xbc)](_0x28c0e3, _0x411638);
                }
            }
            function _0x3485d9(_0x1048fd) {
                const _0x3b0399 = _0x371892;
                _0x1048fd[_0x3b0399(0x11c)] ? _0x415031[_0x3b0399(0xbc)](_0x58a7a0, _0x1048fd[_0x3b0399(0xb0)]) : _0x415031[_0x3b0399(0xe8)](_0x2412d8, _0x1048fd[_0x3b0399(0xb0)])[_0x3b0399(0xcd)](_0x445ada, _0x1154b1);
            }
            _0x312930[_0x371892(0x116)](_0x3485d9, (_0x307801 = _0x307801[_0x371892(0xc9)](_0x332cbf, _0x372249 || []))[_0x371892(0x112)]());
        });
    }, __importDefault = this && this[_0x29cb6d(0x10c) + _0x29cb6d(0x11b)] || function (_0x43f77e) {
        const _0x413983 = _0x29cb6d;
        return _0x43f77e && _0x43f77e[_0x413983(0xe3)] ? _0x43f77e : { 'default': _0x43f77e };
    };
const _0x4cc27a = {};
_0x4cc27a[_0x29cb6d(0xb0)] = !![], Object[_0x29cb6d(0xcb) + _0x29cb6d(0x121)](exports, _0x29cb6d(0xe3), _0x4cc27a);
const ye0esz516_zpro_1 = require(_0x29cb6d(0x101) + _0x29cb6d(0xc7) + _0x29cb6d(0xfa) + _0x29cb6d(0x11a)), FindOrCreateTicketServiceZPRO_1 = __importDefault(require(_0x29cb6d(0x11e) + _0x29cb6d(0x10f) + _0x29cb6d(0xcc) + _0x29cb6d(0x104) + _0x29cb6d(0xad))), VerifyContactZPRO_1 = __importDefault(require(_0x29cb6d(0xdc) + _0x29cb6d(0xbe) + _0x29cb6d(0xde))), VerifyMediaMessageZPRO_1 = __importDefault(require(_0x29cb6d(0xdc) + _0x29cb6d(0x113) + _0x29cb6d(0xb4) + 'RO')), VerifyMessageZPRO_1 = __importDefault(require(_0x29cb6d(0xdc) + _0x29cb6d(0x115) + _0x29cb6d(0xf1))), _73nz_zpro_1 = __importDefault(require(_0x29cb6d(0xe4) + _0x29cb6d(0x117) + _0x29cb6d(0x100) + 'o')), MessageZPRO_1 = __importDefault(require(_0x29cb6d(0xb3) + _0x29cb6d(0xa6) + _0x29cb6d(0xee))), TicketZPRO_1 = __importDefault(require(_0x29cb6d(0xb3) + _0x29cb6d(0xa3) + _0x29cb6d(0x105))), waposxjtgen_zpro_1 = __importDefault(require(_0x29cb6d(0xb7) + _0x29cb6d(0xfd) + _0x29cb6d(0xf4) + _0x29cb6d(0xa9))), moment_timezone_1 = __importDefault(require(_0x29cb6d(0x9f) + _0x29cb6d(0xfc))), g2ksedbc_zpro_1 = require(_0x29cb6d(0xff) + _0x29cb6d(0xdd) + _0x29cb6d(0xd7) + 'o'), delay = _0x3f42f1 => new Promise(_0x4b3fcd => setTimeout(_0x4b3fcd, _0x3f42f1)), SyncOldMessagesByUserWbot = (_0x480228, _0x61725e, _0x2b8c28, _0xf45458) => __awaiter(void (-0x254c + 0x17f2 + 0x1 * 0xd5a), void (-0x1 * -0x160f + 0xa3 * -0x39 + 0x38f * 0x4), void (0x1 * 0x582 + 0xb24 + -0x2 * 0x853), function* () {
        const _0xee0e17 = _0x29cb6d, _0x4cf285 = {
                'VpbSM': function (_0x1054ec, _0x52541e) {
                    return _0x1054ec + _0x52541e;
                },
                'JzIaR': _0xee0e17(0xf5) + _0xee0e17(0xa0) + _0xee0e17(0xec) + _0xee0e17(0x120) + _0xee0e17(0xe7),
                'aNexZ': _0xee0e17(0xe2),
                'HxFsN': _0xee0e17(0x109) + _0xee0e17(0xab),
                'pkWrC': _0xee0e17(0xb5),
                'ruRPD': _0xee0e17(0xf8),
                'ukKlE': _0xee0e17(0xb1),
                'afpFm': _0xee0e17(0xb9),
                'PxjwG': _0xee0e17(0xe6),
                'xcnte': _0xee0e17(0xf2) + _0xee0e17(0x10b),
                'nEUHR': _0xee0e17(0xce) + _0xee0e17(0x10a) + _0xee0e17(0xed),
                'wRBel': _0xee0e17(0xb8),
                'FEBCf': _0xee0e17(0xa4) + 'e',
                'DPrha': _0xee0e17(0x102),
                'xkAfZ': _0xee0e17(0x110) + _0xee0e17(0xb2),
                'BnusJ': function (_0x9654dd, _0x377783) {
                    return _0x9654dd + _0x377783;
                },
                'xMhMX': function (_0x3c96ec, _0x26e019) {
                    return _0x3c96ec(_0x26e019);
                },
                'BDQVQ': _0xee0e17(0xf5) + _0xee0e17(0xa0) + _0xee0e17(0xd1) + _0xee0e17(0x114)
            };
        try {
            const _0x484404 = yield (0x57 * -0x1 + 0xc05 + -0xbae, _73nz_zpro_1[_0xee0e17(0x11d)])(_0x480228), _0x169a0e = yield _0x484404[_0xee0e17(0xaf) + _0xee0e17(0xdb)](_0xf45458), _0x438b89 = yield _0x169a0e[_0xee0e17(0x103)](), _0xdc1785 = {};
            _0xdc1785[_0xee0e17(0xc5)] = _0x2b8c28;
            let _0xe1e66d = yield _0x438b89[_0xee0e17(0xd9) + _0xee0e17(0xba)](_0xdc1785);
            ye0esz516_zpro_1[_0xee0e17(0x111)][_0xee0e17(0xc4)](_0x4cf285[_0xee0e17(0xae)](_0x4cf285[_0xee0e17(0xc6)], _0xf45458)), _0xe1e66d = _0xe1e66d[_0xee0e17(0xcf)]();
            for (const _0x18ed17 of _0xe1e66d) {
                const _0x646215 = yield _0x438b89[_0xee0e17(0xaf)](), _0xcf8b92 = yield (0x1 * -0x5c0 + -0x7f7 * -0x3 + -0x1225, VerifyContactZPRO_1[_0xee0e17(0x11d)])(_0x646215, _0x61725e), _0x5a417d = {};
                _0x5a417d[_0xee0e17(0xb5)] = _0xcf8b92, _0x5a417d[_0xee0e17(0x106)] = _0x480228, _0x5a417d[_0xee0e17(0xfb) + _0xee0e17(0xd0)] = _0x438b89[_0xee0e17(0xa8) + 't'], _0x5a417d[_0xee0e17(0xb1)] = _0x61725e, _0x5a417d[_0xee0e17(0xd3)] = !![], _0x5a417d[_0xee0e17(0xa7)] = _0x4cf285[_0xee0e17(0x9a)];
                const _0x81524f = yield (0x1 * 0x6bf + 0x1f8c + -0x1 * 0x264b, FindOrCreateTicketServiceZPRO_1[_0xee0e17(0x11d)])(_0x5a417d), _0x46d7cc = {};
                _0x46d7cc[_0xee0e17(0xac)] = _0x18ed17['id']['id'], _0x46d7cc[_0xee0e17(0xb1)] = _0x61725e;
                const _0x5b6b5e = {};
                _0x5b6b5e[_0xee0e17(0xf6)] = _0x46d7cc;
                const _0x2f3da1 = yield MessageZPRO_1[_0xee0e17(0x11d)][_0xee0e17(0xa5)](_0x5b6b5e);
                _0x2f3da1 && ye0esz516_zpro_1[_0xee0e17(0x111)][_0xee0e17(0xc4)](_0x4cf285[_0xee0e17(0xae)](_0x18ed17['id']['id'], _0x4cf285[_0xee0e17(0xdf)]));
                if (!_0x2f3da1) {
                    _0x18ed17[_0xee0e17(0x107)] ? yield (-0x5 * -0x56d + 0x5dc + -0x20fd, VerifyMediaMessageZPRO_1[_0xee0e17(0x11d)])(_0x18ed17, _0x81524f, _0xcf8b92) : yield (-0x11e3 + -0x24eb + 0x36ce, VerifyMessageZPRO_1[_0xee0e17(0x11d)])(_0x18ed17, _0x81524f, _0xcf8b92);
                    const _0xb8f58e = {};
                    _0xb8f58e[_0xee0e17(0xac)] = _0x18ed17['id']['id'];
                    const _0x5e3b78 = yield MessageZPRO_1[_0xee0e17(0x11d)][_0xee0e17(0xa5)]({
                        'where': _0xb8f58e,
                        'include': [
                            _0x4cf285[_0xee0e17(0xa2)],
                            {
                                'model': TicketZPRO_1[_0xee0e17(0x11d)],
                                'as': _0x4cf285[_0xee0e17(0xda)],
                                'attributes': [
                                    'id',
                                    _0x4cf285[_0xee0e17(0xbb)],
                                    _0x4cf285[_0xee0e17(0x9c)]
                                ]
                            },
                            {
                                'model': MessageZPRO_1[_0xee0e17(0x11d)],
                                'as': _0x4cf285[_0xee0e17(0xf3)],
                                'include': [_0x4cf285[_0xee0e17(0xa2)]]
                            }
                        ]
                    });
                    if (_0x5e3b78) {
                        const _0x36a5aa = moment_timezone_1[_0xee0e17(0x11d)][_0xee0e17(0xeb)](_0x18ed17[_0xee0e17(0x119)])['tz'](_0x4cf285[_0xee0e17(0xc0)]), _0x1a5101 = _0x36a5aa[_0xee0e17(0xc8)](_0x4cf285[_0xee0e17(0xf7)]);
                        yield _0x5e3b78[_0xee0e17(0x102)]({
                            'ack': 0x2,
                            'syncTime': _0x4cf285[_0xee0e17(0xef)],
                            'importedAt': new Date(_0x1a5101)
                        });
                        const {ticket: _0x255929} = _0x5e3b78, _0x2fc44f = {};
                        _0x2fc44f[_0xee0e17(0xb1)] = _0x255929[_0xee0e17(0xb1)], _0x2fc44f[_0xee0e17(0xbd)] = _0x4cf285[_0xee0e17(0xd6)], _0x2fc44f[_0xee0e17(0xd8)] = _0x5e3b78, (-0xb * 0x8b + -0x2b * -0x82 + -0xfdd, waposxjtgen_zpro_1[_0xee0e17(0x11d)])(_0x2fc44f);
                        const _0x1e9bf5 = (0x11ae + -0x1808 * 0x1 + -0x65a * -0x1, g2ksedbc_zpro_1[_0xee0e17(0xbf)])();
                        _0x1e9bf5[_0xee0e17(0x108)](_0x61725e + (_0xee0e17(0xca) + _0xee0e17(0x9e)), {
                            'action': _0x4cf285[_0xee0e17(0xaa)],
                            'status': {
                                'this': _0xcf8b92[_0xee0e17(0xf9)],
                                'all': _0x2b8c28,
                                'date': moment_timezone_1[_0xee0e17(0x11d)][_0xee0e17(0xeb)](_0x18ed17[_0xee0e17(0x119)])[_0xee0e17(0xc8)](_0x4cf285[_0xee0e17(0xfe)])
                            }
                        });
                    }
                    ye0esz516_zpro_1[_0xee0e17(0x111)][_0xee0e17(0xc4)](_0x4cf285[_0xee0e17(0xd2)](_0x4cf285[_0xee0e17(0xc6)], _0x18ed17['id']['id']));
                }
                yield _0x4cf285[_0xee0e17(0xc3)](delay, 0x1828 + -0x21e9 + 0x1 * 0x1961);
            }
        } catch (_0x3e1ecd) {
            ye0esz516_zpro_1[_0xee0e17(0x111)][_0xee0e17(0xc4)](_0x4cf285[_0xee0e17(0xf0)], _0x3e1ecd);
        }
    });
exports[_0x29cb6d(0x11d)] = SyncOldMessagesByUserWbot;