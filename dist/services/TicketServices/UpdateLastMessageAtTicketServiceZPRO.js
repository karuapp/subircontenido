'use strict';
const _0xa636fe = _0x4e75;
(function (_0x3b7673, _0x37206e) {
    const _0xac6023 = _0x4e75, _0x336d0d = _0x3b7673();
    while (!![]) {
        try {
            const _0x2e31e0 = parseInt(_0xac6023(0x158)) / (-0x1 * 0x2022 + -0x1 * 0x533 + 0x6 * 0x639) * (parseInt(_0xac6023(0x159)) / (0x1406 + -0x21dc + 0xdd8)) + -parseInt(_0xac6023(0x153)) / (-0x2 * -0x1277 + -0x25d2 + 0xe7) + -parseInt(_0xac6023(0x133)) / (0x635 * 0x2 + 0x1 * -0xaeb + -0x17b) * (parseInt(_0xac6023(0x163)) / (-0x17bd + 0x131c + 0x4a6)) + parseInt(_0xac6023(0x13f)) / (0xa1f * -0x2 + -0x3b * -0x2 + 0x5 * 0x3f6) * (parseInt(_0xac6023(0x149)) / (-0x2 * -0x111a + -0x7cd * 0x1 + -0x1a60)) + parseInt(_0xac6023(0x14a)) / (-0x9d * -0x22 + 0xf05 + -0x23d7) * (-parseInt(_0xac6023(0x164)) / (-0xaf3 * -0x2 + -0x1b47 * 0x1 + 0x1ce * 0x3)) + -parseInt(_0xac6023(0x14e)) / (-0x733 + -0x1 * 0x1a87 + -0x21c4 * -0x1) + parseInt(_0xac6023(0x156)) / (-0x6ae + -0x48b * 0x2 + 0xfcf);
            if (_0x2e31e0 === _0x37206e)
                break;
            else
                _0x336d0d['push'](_0x336d0d['shift']());
        } catch (_0x4c598f) {
            _0x336d0d['push'](_0x336d0d['shift']());
        }
    }
}(_0x350e, -0x1 * -0x15f9b + -0xc9bbb + 0x1 * 0x1399c3));
var __awaiter = this && this[_0xa636fe(0x15f)] || function (_0x33f677, _0x2e972f, _0x1a60ca, _0x329a89) {
        const _0x43ed9c = _0xa636fe, _0x3fa07b = {
                'rNBDI': function (_0x4e2f85, _0x419c60) {
                    return _0x4e2f85(_0x419c60);
                },
                'bjDMz': function (_0x1c26c9, _0x20ac61) {
                    return _0x1c26c9 instanceof _0x20ac61;
                },
                'RHfxi': function (_0x23d3bd, _0x139698) {
                    return _0x23d3bd(_0x139698);
                },
                'mWkmU': _0x43ed9c(0x142),
                'ZRTAS': function (_0x10dca2, _0x324295) {
                    return _0x10dca2(_0x324295);
                }
            };
        function _0x3c7630(_0x13247d) {
            const _0x283a22 = _0x43ed9c;
            return _0x3fa07b[_0x283a22(0x157)](_0x13247d, _0x1a60ca) ? _0x13247d : new _0x1a60ca(function (_0x5049ef) {
                const _0x422cab = _0x283a22;
                _0x3fa07b[_0x422cab(0x135)](_0x5049ef, _0x13247d);
            });
        }
        return new (_0x1a60ca || (_0x1a60ca = Promise))(function (_0x3c50c4, _0x356209) {
            const _0x59c6cf = _0x43ed9c, _0x33ad1e = {
                    'dqFYQ': function (_0xbadc02, _0x3c0698) {
                        const _0x1378d1 = _0x4e75;
                        return _0x3fa07b[_0x1378d1(0x146)](_0xbadc02, _0x3c0698);
                    }
                };
            function _0x3b17ba(_0x20bc46) {
                const _0x4ffb0a = _0x4e75;
                try {
                    _0x33ad1e[_0x4ffb0a(0x155)](_0x5578e2, _0x329a89[_0x4ffb0a(0x168)](_0x20bc46));
                } catch (_0x111b46) {
                    _0x33ad1e[_0x4ffb0a(0x155)](_0x356209, _0x111b46);
                }
            }
            function _0x5c3491(_0x3297d6) {
                const _0x51bfa9 = _0x4e75;
                try {
                    _0x3fa07b[_0x51bfa9(0x140)](_0x5578e2, _0x329a89[_0x3fa07b[_0x51bfa9(0x160)]](_0x3297d6));
                } catch (_0x345efd) {
                    _0x3fa07b[_0x51bfa9(0x140)](_0x356209, _0x345efd);
                }
            }
            function _0x5578e2(_0x26185d) {
                const _0x22b695 = _0x4e75;
                _0x26185d[_0x22b695(0x154)] ? _0x33ad1e[_0x22b695(0x155)](_0x3c50c4, _0x26185d[_0x22b695(0x13a)]) : _0x33ad1e[_0x22b695(0x155)](_0x3c7630, _0x26185d[_0x22b695(0x13a)])[_0x22b695(0x166)](_0x3b17ba, _0x5c3491);
            }
            _0x3fa07b[_0x59c6cf(0x146)](_0x5578e2, (_0x329a89 = _0x329a89[_0x59c6cf(0x14f)](_0x33f677, _0x2e972f || []))[_0x59c6cf(0x168)]());
        });
    }, __importDefault = this && this[_0xa636fe(0x162) + _0xa636fe(0x13c)] || function (_0x42555d) {
        const _0x4ad97e = _0xa636fe;
        return _0x42555d && _0x42555d[_0x4ad97e(0x148)] ? _0x42555d : { 'default': _0x42555d };
    };
function _0x4e75(_0x35d98f, _0x22074c) {
    const _0x203d75 = _0x350e();
    return _0x4e75 = function (_0x8e981, _0x4c3c7e) {
        _0x8e981 = _0x8e981 - (0x61 * 0x29 + 0xb39 + 0x332 * -0x8);
        let _0x46e8de = _0x203d75[_0x8e981];
        return _0x46e8de;
    }, _0x4e75(_0x35d98f, _0x22074c);
}
const _0x15bb40 = {};
function _0x350e() {
    const _0x38ad0e = [
        'rNBDI',
        'tenantId',
        'findOne',
        'PRO',
        'length',
        'value',
        'default',
        'fault',
        'ls/TicketZ',
        'XinFF',
        '12BgXyAm',
        'RHfxi',
        'DESC',
        'throw',
        'ticketId',
        'erty',
        '../../mode',
        'ZRTAS',
        'TLnQA',
        '__esModule',
        '723674rQrXVP',
        '19568bUMaoo',
        'gsd6i9a_zp',
        'ZPRO',
        'createdAt',
        '4898160aWDqEV',
        'apply',
        'KETS_FOUND',
        'ERR_NO_TIC',
        'mxx_zpro',
        '3243021BGWhsd',
        'done',
        'dqFYQ',
        '26056217FWRfCn',
        'bjDMz',
        '5828IujQux',
        '254chvijN',
        'update',
        'defineProp',
        'ro/0yv1ei6',
        'findAll',
        'getTime',
        '__awaiter',
        'mWkmU',
        'order',
        '__importDe',
        '595YhrsXu',
        '1044pnNMBY',
        '../../dmkb',
        'then',
        'ls/Message',
        'next',
        'where',
        'attributes',
        '30684FzhvDJ',
        'USAmg'
    ];
    _0x350e = function () {
        return _0x38ad0e;
    };
    return _0x350e();
}
_0x15bb40[_0xa636fe(0x13a)] = !![], Object[_0xa636fe(0x15b) + _0xa636fe(0x144)](exports, _0xa636fe(0x148), _0x15bb40);
const _0yv1ei6mxx_zpro_1 = __importDefault(require(_0xa636fe(0x165) + _0xa636fe(0x14b) + _0xa636fe(0x15c) + _0xa636fe(0x152))), TicketZPRO_1 = __importDefault(require(_0xa636fe(0x145) + _0xa636fe(0x13d) + _0xa636fe(0x138))), MessageZPRO_1 = __importDefault(require(_0xa636fe(0x145) + _0xa636fe(0x167) + _0xa636fe(0x14c))), UpdateLastMessageAtTicketService = ({tenantId: _0x2e549d}) => __awaiter(void (0x1d03 + 0x3 * -0x475 + -0x11e * 0xe), void (-0x193f + 0x7 * 0x2b + -0x1a * -0xed), void (-0x53 * 0x7 + 0xcc7 + -0xa82), function* () {
        const _0x404ee3 = _0xa636fe, _0x52e746 = {};
        _0x52e746[_0x404ee3(0x13e)] = _0x404ee3(0x151) + _0x404ee3(0x150), _0x52e746[_0x404ee3(0x147)] = _0x404ee3(0x14d), _0x52e746[_0x404ee3(0x134)] = _0x404ee3(0x141);
        const _0x4bc92c = _0x52e746, _0x4ce707 = {};
        _0x4ce707[_0x404ee3(0x136)] = _0x2e549d;
        const _0x3e2292 = {};
        _0x3e2292[_0x404ee3(0x169)] = _0x4ce707, _0x3e2292[_0x404ee3(0x132)] = ['id'];
        const _0x273fdc = yield TicketZPRO_1[_0x404ee3(0x13b)][_0x404ee3(0x15d)](_0x3e2292);
        if (!_0x273fdc[_0x404ee3(0x139)])
            throw new _0yv1ei6mxx_zpro_1[(_0x404ee3(0x13b))](_0x4bc92c[_0x404ee3(0x13e)], 0xfd * -0x1f + 0x1 * -0x157f + 0x35b6);
        for (const _0x4b9eb3 of _0x273fdc) {
            const _0x2679dc = {};
            _0x2679dc[_0x404ee3(0x143)] = _0x4b9eb3['id'];
            const _0x35eeb7 = {};
            _0x35eeb7[_0x404ee3(0x169)] = _0x2679dc, _0x35eeb7[_0x404ee3(0x161)] = [[
                    _0x4bc92c[_0x404ee3(0x147)],
                    _0x4bc92c[_0x404ee3(0x134)]
                ]];
            const _0x178288 = yield MessageZPRO_1[_0x404ee3(0x13b)][_0x404ee3(0x137)](_0x35eeb7);
            if (_0x178288) {
                const _0x106e55 = new Date(_0x178288[_0x404ee3(0x14d)])[_0x404ee3(0x15e)]();
                yield _0x4b9eb3[_0x404ee3(0x15a)]({
                    'lastMessageAt': _0x106e55,
                    'updatedAt': new Date(_0x106e55)
                });
            }
        }
    });
exports[_0xa636fe(0x13b)] = UpdateLastMessageAtTicketService;