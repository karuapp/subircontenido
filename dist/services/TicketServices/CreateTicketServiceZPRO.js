'use strict';
const _0x3f3558 = _0x4b07;
(function (_0x5100da, _0x9f1e73) {
    const _0x38edbd = _0x4b07, _0x10dcde = _0x5100da();
    while (!![]) {
        try {
            const _0x3c902a = -parseInt(_0x38edbd(0x11a)) / (-0x17cd * 0x1 + -0x2420 + 0x3 * 0x13fa) + -parseInt(_0x38edbd(0x12f)) / (0x1408 + 0x639 + -0x1a3f * 0x1) + -parseInt(_0x38edbd(0xfa)) / (0x1c * -0x132 + -0x1172 + -0x32ed * -0x1) * (-parseInt(_0x38edbd(0x147)) / (-0x2299 + -0x1bb7 + 0x3e54)) + parseInt(_0x38edbd(0x11d)) / (0x14e6 + -0x4f8 + -0x1 * 0xfe9) + parseInt(_0x38edbd(0x109)) / (-0x2353 + -0x3 * -0x5db + 0x11c8) + parseInt(_0x38edbd(0xe3)) / (0x6e * -0x19 + -0x2d2 * 0x2 + 0x1 * 0x1069) * (-parseInt(_0x38edbd(0xee)) / (-0xb08 + 0x171 + 0x99f)) + -parseInt(_0x38edbd(0x13d)) / (0xfb + -0x123 * -0x13 + 0xc7 * -0x1d) * (-parseInt(_0x38edbd(0x130)) / (-0x24c2 + 0x1ad0 + -0x47 * -0x24));
            if (_0x3c902a === _0x9f1e73)
                break;
            else
                _0x10dcde['push'](_0x10dcde['shift']());
        } catch (_0x93088e) {
            _0x10dcde['push'](_0x10dcde['shift']());
        }
    }
}(_0x15cf, -0x40547 + 0x2f * 0x1c4f + -0x42c3 * -0x9));
var __awaiter = this && this[_0x3f3558(0x14c)] || function (_0x236cd5, _0x4c0afa, _0x5ee42b, _0x2b672f) {
        const _0x53b5fd = _0x3f3558, _0x2156fa = {
                'IyZCm': function (_0x2c2196, _0x43fe88) {
                    return _0x2c2196(_0x43fe88);
                },
                'marMm': function (_0x316f06, _0x3f1bbb) {
                    return _0x316f06 instanceof _0x3f1bbb;
                },
                'ZQaxJ': function (_0x5a154e, _0x13ca77) {
                    return _0x5a154e(_0x13ca77);
                },
                'KGOut': function (_0x515e80, _0x260543) {
                    return _0x515e80(_0x260543);
                },
                'CbBdK': _0x53b5fd(0x156),
                'pdMHk': function (_0x24b7fc, _0x12e9fa) {
                    return _0x24b7fc(_0x12e9fa);
                },
                'kFDKq': function (_0x167916, _0x145ec5) {
                    return _0x167916(_0x145ec5);
                }
            };
        function _0x326533(_0x347501) {
            const _0x5877b5 = _0x53b5fd, _0x512f53 = {
                    'DWnTr': function (_0x4aba76, _0x4e7c50) {
                        const _0x13ff39 = _0x4b07;
                        return _0x2156fa[_0x13ff39(0xe2)](_0x4aba76, _0x4e7c50);
                    }
                };
            return _0x2156fa[_0x5877b5(0x118)](_0x347501, _0x5ee42b) ? _0x347501 : new _0x5ee42b(function (_0x536810) {
                const _0x1fc8d0 = _0x5877b5;
                _0x512f53[_0x1fc8d0(0xfb)](_0x536810, _0x347501);
            });
        }
        return new (_0x5ee42b || (_0x5ee42b = Promise))(function (_0x4efb91, _0x493729) {
            const _0x22af67 = _0x53b5fd, _0x8564a3 = {
                    'skJwH': function (_0x15f5ba, _0x45c2fb) {
                        const _0x572977 = _0x4b07;
                        return _0x2156fa[_0x572977(0x101)](_0x15f5ba, _0x45c2fb);
                    },
                    'VeVZG': function (_0x59a929, _0x22bd97) {
                        const _0x34eee4 = _0x4b07;
                        return _0x2156fa[_0x34eee4(0x11e)](_0x59a929, _0x22bd97);
                    },
                    'jCbVE': _0x2156fa[_0x22af67(0x136)],
                    'UlAxj': function (_0x426c78, _0x2407c4) {
                        const _0x4adb11 = _0x22af67;
                        return _0x2156fa[_0x4adb11(0xe1)](_0x426c78, _0x2407c4);
                    }
                };
            function _0x47c331(_0x50b0a4) {
                const _0x52e559 = _0x22af67;
                try {
                    _0x8564a3[_0x52e559(0xf5)](_0x2d76a6, _0x2b672f[_0x52e559(0x12b)](_0x50b0a4));
                } catch (_0x37263d) {
                    _0x8564a3[_0x52e559(0x106)](_0x493729, _0x37263d);
                }
            }
            function _0x2776be(_0x52fe60) {
                const _0x4f1da0 = _0x22af67;
                try {
                    _0x8564a3[_0x4f1da0(0x106)](_0x2d76a6, _0x2b672f[_0x8564a3[_0x4f1da0(0x13f)]](_0x52fe60));
                } catch (_0x361e6b) {
                    _0x8564a3[_0x4f1da0(0x106)](_0x493729, _0x361e6b);
                }
            }
            function _0x2d76a6(_0x496fd0) {
                const _0x405424 = _0x22af67;
                _0x496fd0[_0x405424(0x137)] ? _0x8564a3[_0x405424(0xf5)](_0x4efb91, _0x496fd0[_0x405424(0xf4)]) : _0x8564a3[_0x405424(0xe6)](_0x326533, _0x496fd0[_0x405424(0xf4)])[_0x405424(0xfd)](_0x47c331, _0x2776be);
            }
            _0x2156fa[_0x22af67(0xfe)](_0x2d76a6, (_0x2b672f = _0x2b672f[_0x22af67(0x132)](_0x236cd5, _0x4c0afa || []))[_0x22af67(0x12b)]());
        });
    }, __importDefault = this && this[_0x3f3558(0x131) + _0x3f3558(0x151)] || function (_0x1db057) {
        const _0x2ac92b = _0x3f3558;
        return _0x1db057 && _0x1db057[_0x2ac92b(0x158)] ? _0x1db057 : { 'default': _0x1db057 };
    };
const _0x3d43cd = {};
_0x3d43cd[_0x3f3558(0xf4)] = !![], Object[_0x3f3558(0x14e) + _0x3f3558(0x11c)](exports, _0x3f3558(0x158), _0x3d43cd);
const _0yv1ei6mxx_zpro_1 = __importDefault(require(_0x3f3558(0x157) + _0x3f3558(0x153) + _0x3f3558(0xeb) + _0x3f3558(0xed))), _9xtv849wtgj_zpro_1 = __importDefault(require(_0x3f3558(0xf8) + _0x3f3558(0x144) + _0x3f3558(0x152) + _0x3f3558(0x111))), crlc1wm_zpro_1 = __importDefault(require(_0x3f3558(0xf8) + _0x3f3558(0x144) + _0x3f3558(0x110) + _0x3f3558(0x142))), waposxjtgen_zpro_1 = __importDefault(require(_0x3f3558(0xea) + _0x3f3558(0xf3) + _0x3f3558(0xe7) + _0x3f3558(0x141))), TicketZPRO_1 = __importDefault(require(_0x3f3558(0x145) + _0x3f3558(0x155) + _0x3f3558(0x121))), ShowContactServiceZPRO_1 = __importDefault(require(_0x3f3558(0x10b) + _0x3f3558(0x150) + _0x3f3558(0x149) + _0x3f3558(0xef) + 'O')), CreateLogTicketServiceZPRO_1 = __importDefault(require(_0x3f3558(0x116) + _0x3f3558(0x114) + _0x3f3558(0x14f))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x3f3558(0x113) + _0x3f3558(0x124) + _0x3f3558(0x121))), sequelize_1 = require(_0x3f3558(0x148)), ye0esz516_zpro_1 = require(_0x3f3558(0xf6) + _0x3f3558(0x138) + _0x3f3558(0x12c) + _0x3f3558(0x142)), CreateTicketService = ({
        contactId: _0x5e7cd9,
        status: _0x571b98,
        userId: _0x4d5bd5,
        tenantId: _0x5c7933,
        channel: _0x4c4ccc,
        channelId: channelId = undefined
    }) => __awaiter(void (0xe61 + -0x283 * 0x7 + 0xa4 * 0x5), void (-0x1832 + 0x23f3 * 0x1 + 0x3b * -0x33), void (0x23b * -0x5 + -0x1 * 0x2390 + 0x2eb7), function* () {
        const _0xfa8b18 = _0x3f3558, _0x59944f = {};
        _0x59944f[_0xfa8b18(0x14b)] = function (_0xb4df48, _0x4de102) {
            return _0xb4df48 === _0x4de102;
        }, _0x59944f[_0xfa8b18(0x14d)] = _0xfa8b18(0xf7), _0x59944f[_0xfa8b18(0x12d)] = function (_0x8730d7, _0x33fd10) {
            return _0x8730d7 === _0x33fd10;
        }, _0x59944f[_0xfa8b18(0x12e)] = _0xfa8b18(0xf9), _0x59944f[_0xfa8b18(0xe0)] = _0xfa8b18(0x128), _0x59944f[_0xfa8b18(0x103)] = _0xfa8b18(0x13b), _0x59944f[_0xfa8b18(0x115)] = _0xfa8b18(0x12a), _0x59944f[_0xfa8b18(0x126)] = _0xfa8b18(0x11b) + _0xfa8b18(0x13a), _0x59944f[_0xfa8b18(0x102)] = _0xfa8b18(0x112), _0x59944f[_0xfa8b18(0x133)] = _0xfa8b18(0xfc) + _0xfa8b18(0xe8), _0x59944f[_0xfa8b18(0xf0)] = _0xfa8b18(0x119), _0x59944f[_0xfa8b18(0x10f)] = _0xfa8b18(0xe4) + _0xfa8b18(0x108);
        const _0x2963d8 = _0x59944f, _0x2a6f99 = yield (-0x1 * -0x98d + 0x1be4 + 0x1b * -0x163, crlc1wm_zpro_1[_0xfa8b18(0x11f)])(_0x5c7933, channelId);
        if (_0x2963d8[_0xfa8b18(0x14b)](_0x571b98, _0x2963d8[_0xfa8b18(0x14d)]) || _0x2963d8[_0xfa8b18(0x12d)](_0x571b98, _0x2963d8[_0xfa8b18(0x12e)]))
            yield (-0x643 * -0x5 + 0xee1 + 0x2e30 * -0x1, _9xtv849wtgj_zpro_1[_0xfa8b18(0x11f)])(_0x5e7cd9, channelId);
        const _0x286284 = {};
        _0x286284['id'] = _0x5e7cd9, _0x286284[_0xfa8b18(0xf1)] = _0x5c7933;
        const {isGroup: _0x4159ee} = yield (0x1bec + 0x3 * -0x9a3 + 0xfd * 0x1, ShowContactServiceZPRO_1[_0xfa8b18(0x11f)])(_0x286284), {id: _0x2c32f4} = yield _0x2a6f99[_0xfa8b18(0x13c)](_0x2963d8[_0xfa8b18(0xe0)], {
                'contactId': _0x5e7cd9,
                'status': _0x571b98,
                'isGroup': _0x4159ee,
                'userId': _0x4d5bd5,
                'isActiveDemand': !![],
                'channel': _0x4c4ccc,
                'tenantId': _0x5c7933,
                'lastMessageAt': new Date()[_0xfa8b18(0x123)]()
            }), _0x186603 = {};
        _0x186603['id'] = _0x2c32f4, _0x186603[_0xfa8b18(0xf1)] = _0x5c7933;
        const _0x151d72 = yield (0xced + 0x9c2 + -0x16af * 0x1, ShowTicketServiceZPRO_1[_0xfa8b18(0x11f)])(_0x186603);
        if (_0x2963d8[_0xfa8b18(0x12d)](_0x151d72[_0xfa8b18(0x100)], _0x2963d8[_0xfa8b18(0x103)]) || _0x151d72[_0xfa8b18(0x100)][_0xfa8b18(0x120)](_0x2963d8[_0xfa8b18(0x115)]))
            try {
                const _0x5413f8 = {};
                _0x5413f8[_0xfa8b18(0xf2)] = _0x151d72[_0xfa8b18(0xf2)], _0x5413f8[_0xfa8b18(0xf1)] = _0x151d72[_0xfa8b18(0xf1)], _0x5413f8[_0xfa8b18(0x10e)] = _0x151d72[_0xfa8b18(0x10e)], _0x5413f8['id'] = { [sequelize_1['Op']['ne']]: _0x151d72['id'] }, _0x5413f8[_0xfa8b18(0x11b) + _0xfa8b18(0x13a)] = { [sequelize_1['Op']['ne']]: null };
                const _0x1ff5b9 = {};
                _0x1ff5b9[_0xfa8b18(0x134)] = _0x5413f8, _0x1ff5b9[_0xfa8b18(0x135)] = [[
                        _0x2963d8[_0xfa8b18(0x126)],
                        _0x2963d8[_0xfa8b18(0x102)]
                    ]], _0x1ff5b9[_0xfa8b18(0x117)] = [
                    'id',
                    _0x2963d8[_0xfa8b18(0x126)]
                ];
                const _0x224d04 = yield TicketZPRO_1[_0xfa8b18(0x11f)][_0xfa8b18(0x107)](_0x1ff5b9);
                if (_0x224d04 && _0x224d04[_0xfa8b18(0x11b) + _0xfa8b18(0x13a)]) {
                    const _0x51c931 = {};
                    _0x51c931[_0xfa8b18(0x11b) + _0xfa8b18(0x13a)] = _0x224d04[_0xfa8b18(0x11b) + _0xfa8b18(0x13a)], yield _0x151d72[_0xfa8b18(0xe9)](_0x51c931), ye0esz516_zpro_1[_0xfa8b18(0x125)][_0xfa8b18(0xff)](_0xfa8b18(0x122) + _0xfa8b18(0x127) + _0xfa8b18(0x14a) + _0xfa8b18(0x146) + _0xfa8b18(0x105) + _0xfa8b18(0x13e) + '\x20' + _0x224d04['id'] + (_0xfa8b18(0x143) + _0xfa8b18(0x139)) + _0x151d72['id']);
                }
            } catch (_0x5270f5) {
                ye0esz516_zpro_1[_0xfa8b18(0x125)][_0xfa8b18(0x104)](_0xfa8b18(0x122) + _0xfa8b18(0x127) + _0xfa8b18(0x10a) + _0xfa8b18(0xec) + _0xfa8b18(0x129) + _0xfa8b18(0xe5) + _0x5270f5);
            }
        if (!_0x151d72)
            throw new _0yv1ei6mxx_zpro_1[(_0xfa8b18(0x11f))](_0x2963d8[_0xfa8b18(0x133)]);
        const _0x545e22 = {};
        _0x545e22[_0xfa8b18(0x10c)] = _0x4d5bd5, _0x545e22[_0xfa8b18(0xf1)] = _0x151d72[_0xfa8b18(0xf1)], _0x545e22[_0xfa8b18(0x140)] = _0x151d72['id'], _0x545e22[_0xfa8b18(0x154)] = _0x2963d8[_0xfa8b18(0xf0)], yield (-0x49 * -0x15 + -0x19d1 * -0x1 + -0x162 * 0x17, CreateLogTicketServiceZPRO_1[_0xfa8b18(0x11f)])(_0x545e22);
        const _0x4b3f40 = {};
        return _0x4b3f40[_0xfa8b18(0xf1)] = _0x5c7933, _0x4b3f40[_0xfa8b18(0x154)] = _0x2963d8[_0xfa8b18(0x10f)], _0x4b3f40[_0xfa8b18(0x10d)] = _0x151d72, (-0xc1d + 0x39e + 0x87f, waposxjtgen_zpro_1[_0xfa8b18(0x11f)])(_0x4b3f40), _0x151d72;
    });
function _0x4b07(_0x347824, _0x3345ae) {
    const _0x191207 = _0x15cf();
    return _0x4b07 = function (_0x44e355, _0x2857c7) {
        _0x44e355 = _0x44e355 - (0x162 + 0x22 * -0x2f + -0x4 * -0x16f);
        let _0x2ca409 = _0x191207[_0x44e355];
        return _0x2ca409;
    }, _0x4b07(_0x347824, _0x3345ae);
}
exports[_0x3f3558(0x11f)] = CreateTicketService;
function _0x15cf() {
    const _0xd16f8d = [
        '../../ludp',
        'ro/0yv1ei6',
        'pying\x20last',
        'mxx_zpro',
        '424NUQQZB',
        'ServiceZPR',
        'hrLQK',
        'tenantId',
        'contactId',
        'c8_zpro/wa',
        'value',
        'skJwH',
        '../../xwsp',
        'open',
        '../../y6rf',
        'pending',
        '3vlOKqj',
        'DWnTr',
        'ERR_CREATI',
        'then',
        'kFDKq',
        'info',
        'channel',
        'ZQaxJ',
        'opmzO',
        'LZMli',
        'error',
        'Received\x20f',
        'VeVZG',
        'findOne',
        'ate',
        '1152672TsGqoy',
        ':\x20Error\x20co',
        '../Contact',
        'userId',
        'payload',
        'whatsappId',
        'wCvgn',
        'ro/crlc1wm',
        'wtgj_zpro',
        'DESC',
        './ShowTick',
        'gTicketSer',
        'xTnzx',
        './CreateLo',
        'attributes',
        'marMm',
        'create',
        '130702BBuqRD',
        'lastMessag',
        'erty',
        '1284860fdPyBc',
        'KGOut',
        'default',
        'includes',
        'PRO',
        ':::\x20WhaTitan\x20',
        'getTime',
        'etServiceZ',
        'logger',
        'BDevw',
        ':::\x20WhaTitan\x20::',
        'ticket',
        'MessageRec',
        'hub',
        'next',
        '/ye0esz516',
        'escLI',
        'CsWhR',
        '74040TJEmTw',
        '18640GPDszl',
        '__importDe',
        'apply',
        'ECTPk',
        'where',
        'order',
        'CbBdK',
        'done',
        '3s0z5_zpro',
        'cket\x20',
        'eReceived',
        'waba',
        '$create',
        '207NhjFrF',
        'rom\x20ticket',
        'jCbVE',
        'ticketId',
        'zpro',
        '_zpro',
        '\x20to\x20new\x20ti',
        'ill7kzn_zp',
        '../../mode',
        'astMessage',
        '1178212uQxEel',
        'sequelize',
        'howContact',
        ':\x20Copied\x20l',
        'xNRdj',
        '__awaiter',
        'xWfaD',
        'defineProp',
        'viceZPRO',
        'Services/S',
        'fault',
        'ro/9xtv849',
        'gsd6i9a_zp',
        'type',
        'ls/TicketZ',
        'throw',
        '../../dmkb',
        '__esModule',
        'IXIDT',
        'pdMHk',
        'IyZCm',
        '51226rVdeFw',
        'ticket:upd',
        'eived:\x20',
        'UlAxj',
        'posxjtgen_',
        'NG_TICKET',
        'update'
    ];
    _0x15cf = function () {
        return _0xd16f8d;
    };
    return _0x15cf();
}