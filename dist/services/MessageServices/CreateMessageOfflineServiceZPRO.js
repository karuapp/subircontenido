'use strict';
const _0x155522 = _0x4b00;
(function (_0x27aec7, _0x25b253) {
    const _0x216ef4 = _0x4b00, _0x39c2f0 = _0x27aec7();
    while (!![]) {
        try {
            const _0xb50749 = parseInt(_0x216ef4(0x1d9)) / (0x8e5 + -0x111a + 0x1 * 0x836) * (-parseInt(_0x216ef4(0x1f2)) / (0xf59 + 0x55f + -0x14b6)) + parseInt(_0x216ef4(0x216)) / (0x335 * 0x1 + -0x198b + -0x3 * -0x773) + -parseInt(_0x216ef4(0x231)) / (-0x260b + 0xc * -0x61 + -0xd * -0x347) * (-parseInt(_0x216ef4(0x1de)) / (-0xca9 * 0x1 + 0x5 * -0x709 + -0x2fdb * -0x1)) + parseInt(_0x216ef4(0x226)) / (-0x1 * -0xddc + -0x531 * -0x2 + -0x1838) + -parseInt(_0x216ef4(0x1ef)) / (-0x407 * 0x2 + -0x1 * -0x1f46 + 0x1 * -0x1731) * (parseInt(_0x216ef4(0x233)) / (-0xbef * -0x1 + -0x96d + -0x27a)) + parseInt(_0x216ef4(0x236)) / (-0x2605 * -0x1 + -0x1e8c + -0x770) * (-parseInt(_0x216ef4(0x234)) / (0x241b + 0x139f * 0x1 + 0x2c * -0x144)) + parseInt(_0x216ef4(0x20c)) / (0x256f + 0x2 * 0x8e8 + 0x1 * -0x3734) * (-parseInt(_0x216ef4(0x20a)) / (0x1 * 0x2b3 + -0x35 * -0x27 + -0x55d * 0x2));
            if (_0xb50749 === _0x25b253)
                break;
            else
                _0x39c2f0['push'](_0x39c2f0['shift']());
        } catch (_0x4e59b7) {
            _0x39c2f0['push'](_0x39c2f0['shift']());
        }
    }
}(_0xfa1d, -0x2aeeb + -0x50c46 + 0x14eca3));
var __awaiter = this && this[_0x155522(0x1c0)] || function (_0x11aa6b, _0x30fbac, _0x2b30c1, _0x239a7f) {
        const _0x15b59b = _0x155522, _0x487315 = {
                'lezTD': function (_0x109dd8, _0x1615a4) {
                    return _0x109dd8(_0x1615a4);
                },
                'aKySc': function (_0x76ba4a, _0xd3fc2) {
                    return _0x76ba4a instanceof _0xd3fc2;
                },
                'eckWp': function (_0x9bf0b0, _0x430432) {
                    return _0x9bf0b0(_0x430432);
                },
                'nJZyA': _0x15b59b(0x24a),
                'TUVcP': function (_0x5e7805, _0x5d661a) {
                    return _0x5e7805(_0x5d661a);
                },
                'PnraI': function (_0x2c13cb, _0x57b4cd) {
                    return _0x2c13cb(_0x57b4cd);
                },
                'xRACR': function (_0x584419, _0x5ce954) {
                    return _0x584419(_0x5ce954);
                }
            };
        function _0x3a2580(_0x1600ce) {
            const _0x5cce81 = _0x15b59b, _0x272b54 = {
                    'vHQwW': function (_0xf62ab1, _0x1a7aee) {
                        const _0x370a6f = _0x4b00;
                        return _0x487315[_0x370a6f(0x1c2)](_0xf62ab1, _0x1a7aee);
                    }
                };
            return _0x487315[_0x5cce81(0x21a)](_0x1600ce, _0x2b30c1) ? _0x1600ce : new _0x2b30c1(function (_0x464a65) {
                const _0x51eff6 = _0x5cce81;
                _0x272b54[_0x51eff6(0x1d2)](_0x464a65, _0x1600ce);
            });
        }
        return new (_0x2b30c1 || (_0x2b30c1 = Promise))(function (_0x5bd3c3, _0x3ca78d) {
            const _0x5b5be8 = _0x15b59b, _0x34aca2 = {
                    'pyabK': function (_0xc9cd46, _0x9fc99d) {
                        const _0x331a80 = _0x4b00;
                        return _0x487315[_0x331a80(0x220)](_0xc9cd46, _0x9fc99d);
                    },
                    'jzWVG': function (_0x502578, _0x1e3e22) {
                        const _0x321f65 = _0x4b00;
                        return _0x487315[_0x321f65(0x1bf)](_0x502578, _0x1e3e22);
                    },
                    'CTDKl': function (_0x33703a, _0x4b26bc) {
                        const _0x55d704 = _0x4b00;
                        return _0x487315[_0x55d704(0x1e7)](_0x33703a, _0x4b26bc);
                    }
                };
            function _0x42b46b(_0xa239d7) {
                const _0x10deb6 = _0x4b00;
                try {
                    _0x34aca2[_0x10deb6(0x248)](_0x7de06b, _0x239a7f[_0x10deb6(0x244)](_0xa239d7));
                } catch (_0x163e84) {
                    _0x34aca2[_0x10deb6(0x248)](_0x3ca78d, _0x163e84);
                }
            }
            function _0x289d57(_0x4d42b3) {
                const _0x29de5f = _0x4b00;
                try {
                    _0x487315[_0x29de5f(0x220)](_0x7de06b, _0x239a7f[_0x487315[_0x29de5f(0x20b)]](_0x4d42b3));
                } catch (_0x534980) {
                    _0x487315[_0x29de5f(0x1ce)](_0x3ca78d, _0x534980);
                }
            }
            function _0x7de06b(_0x17ff5e) {
                const _0x456355 = _0x4b00;
                _0x17ff5e[_0x456355(0x1fc)] ? _0x34aca2[_0x456355(0x243)](_0x5bd3c3, _0x17ff5e[_0x456355(0x22b)]) : _0x34aca2[_0x456355(0x23f)](_0x3a2580, _0x17ff5e[_0x456355(0x22b)])[_0x456355(0x1f6)](_0x42b46b, _0x289d57);
            }
            _0x487315[_0x5b5be8(0x220)](_0x7de06b, (_0x239a7f = _0x239a7f[_0x5b5be8(0x239)](_0x11aa6b, _0x30fbac || []))[_0x5b5be8(0x244)]());
        });
    }, __importDefault = this && this[_0x155522(0x249) + _0x155522(0x23d)] || function (_0x302196) {
        const _0xbc3dcf = _0x155522;
        return _0x302196 && _0x302196[_0xbc3dcf(0x1b6)] ? _0x302196 : { 'default': _0x302196 };
    };
const _0x194f95 = {};
function _0xfa1d() {
    const _0x494039 = [
        'base64',
        'writeFile',
        'extname',
        'indexOf',
        '../../mode',
        'PRO',
        'default',
        '-appMessag',
        'ticket',
        '../../xwsp',
        'eStream',
        'lastIndexO',
        'tenantId',
        '5703408kxgkyB',
        'nJZyA',
        '11kJUYyi',
        'FeENC',
        'ticketId',
        '\x20Error:\x20',
        'uuid',
        'util',
        'end',
        'error',
        '.mp3',
        'replace',
        '4566492EYLAfj',
        ':\x20CreateMe',
        'chat',
        'OffLineZPR',
        'aKySc',
        ':\x20Encoding',
        '/ye0esz516',
        'ZpPsU',
        'UHFfh',
        'efoPy',
        'eckWp',
        '3s0z5_zpro',
        'emit',
        'public',
        'timestamp',
        'fromMe',
        '1415844Fbfusx',
        'update',
        'mimetype',
        'VYsTi',
        'mp3',
        'value',
        'KNmIt',
        'wId',
        'peg',
        'UFAJU',
        'ath',
        '197408gHXYHZ',
        'status',
        '760nKTamL',
        '275750ZeMcvK',
        'contact',
        '396FtPmVb',
        ':::\x20WhaTitan\x20::',
        'message',
        'apply',
        'logger',
        'bqyvl',
        'pipe',
        'fault',
        'getTime',
        'CTDKl',
        'XbaNp',
        'assign',
        'WJzWq',
        'jzWVG',
        'next',
        'inputForma',
        'NNwhv',
        'path',
        'pyabK',
        '__importDe',
        'throw',
        'rzHji',
        'ls/TicketZ',
        'ion',
        '__esModule',
        'mediaUrl',
        '../../q09u',
        'LaLoM',
        '-notificat',
        'create',
        'ZPRO',
        'lKSkS',
        'buffer',
        'PnraI',
        '__awaiter',
        'ogg',
        'lezTD',
        'erty',
        'getIO',
        'neService',
        'all',
        'dirname',
        'ssageOffLi',
        'UYFYA',
        'contactId',
        'mediaType',
        'staller/ff',
        '.ogg',
        'TUVcP',
        'toFormat',
        'toString',
        'substring',
        'vHQwW',
        'createWrit',
        'WwSlL',
        'GNQvz',
        'pEPUa',
        '52_zpro/g2',
        'QYzez',
        '509pgffib',
        'read',
        'setFfmpegP',
        'fzVti',
        'join',
        '110LnVxJr',
        'NG_MESSAGE',
        'split',
        'promisify',
        'fluent-ffm',
        'basename',
        'filename',
        'info',
        'ERR_CREATI',
        'xRACR',
        'defineProp',
        'body',
        '@ffmpeg-in',
        'userId',
        'quotedMsg',
        'substr',
        'ksedbc_zpr',
        '7616WhKXiF',
        ':::\x20WhaTitan\x20',
        'map',
        '736oxDGEP',
        'findByPk',
        'mpeg',
        'SRrmv',
        'then',
        'ls/Message',
        'QqRnw',
        '_zpro',
        'include',
        'bjPmL',
        'done'
    ];
    _0xfa1d = function () {
        return _0x494039;
    };
    return _0xfa1d();
}
_0x194f95[_0x155522(0x22b)] = !![], Object[_0x155522(0x1e8) + _0x155522(0x1c3)](exports, _0x155522(0x1b6), _0x194f95);
function _0x4b00(_0x4a6812, _0xf95ad2) {
    const _0x2dca1a = _0xfa1d();
    return _0x4b00 = function (_0x5a44e4, _0x16684b) {
        _0x5a44e4 = _0x5a44e4 - (-0x1fb6 + 0xe * -0x103 + 0x1 * 0x2f95);
        let _0x4e7788 = _0x2dca1a[_0x5a44e4];
        return _0x4e7788;
    }, _0x4b00(_0x4a6812, _0xf95ad2);
}
const fs_1 = require('fs'), util_1 = require(_0x155522(0x211)), path_1 = require(_0x155522(0x247)), ye0esz516_zpro_1 = require(_0x155522(0x206) + _0x155522(0x221) + _0x155522(0x21c) + _0x155522(0x1f9)), MessageOffLineZPRO_1 = __importDefault(require(_0x155522(0x201) + _0x155522(0x1f7) + _0x155522(0x219) + 'O')), g2ksedbc_zpro_1 = require(_0x155522(0x1b8) + _0x155522(0x1d7) + _0x155522(0x1ee) + 'o'), TicketZPRO_1 = __importDefault(require(_0x155522(0x201) + _0x155522(0x24c) + _0x155522(0x202))), MessageZPRO_1 = __importDefault(require(_0x155522(0x201) + _0x155522(0x1f7) + _0x155522(0x1bc))), fluent_ffmpeg_1 = __importDefault(require(_0x155522(0x1e2) + _0x155522(0x22e))), ffmpeg_1 = require(_0x155522(0x1ea) + _0x155522(0x1cc) + _0x155522(0x1f4)), fs_2 = __importDefault(require('fs')), path_2 = __importDefault(require(_0x155522(0x247))), uuid_1 = require(_0x155522(0x210)), writeFileAsync = (0x2 * -0xc9d + -0x1 * 0x36d + 0x1ca7, util_1[_0x155522(0x1e1)])(fs_1[_0x155522(0x1fe)]), convertOggToMp3 = (_0x5a1188, _0x23502a) => {
        const _0xa2f488 = _0x155522, _0xa77423 = {
                'UYFYA': function (_0x2bc07c, _0xc29a85) {
                    return _0x2bc07c(_0xc29a85);
                },
                'rzHji': function (_0x16b463) {
                    return _0x16b463();
                },
                'FeENC': _0xa2f488(0x1c1),
                'WJzWq': _0xa2f488(0x22a),
                'QqRnw': _0xa2f488(0x213),
                'efoPy': _0xa2f488(0x212)
            };
        return new Promise((_0x6629be, _0x5e69e8) => {
            const _0x4139fd = _0xa2f488, _0x18e6ba = {
                    'UHFfh': function (_0x5dc158) {
                        const _0x42b78d = _0x4b00;
                        return _0xa77423[_0x42b78d(0x24b)](_0x5dc158);
                    }
                }, _0x257cd8 = fs_2[_0x4139fd(0x203)][_0x4139fd(0x1d3) + _0x4139fd(0x207)](_0x23502a);
            fluent_ffmpeg_1[_0x4139fd(0x203)][_0x4139fd(0x1db) + _0x4139fd(0x230)](ffmpeg_1[_0x4139fd(0x247)]);
            const _0x2cba67 = {};
            _0x2cba67[_0x4139fd(0x212)] = !![], (-0xc8 + 0x1 * 0x613 + 0x1 * -0x54b, fluent_ffmpeg_1[_0x4139fd(0x203)])(_0x5a1188)[_0x4139fd(0x245) + 't'](_0xa77423[_0x4139fd(0x20d)])[_0x4139fd(0x1cf)](_0xa77423[_0x4139fd(0x242)])['on'](_0xa77423[_0x4139fd(0x1f8)], _0x4cbe6c => {
                const _0x28a624 = _0x4139fd;
                ye0esz516_zpro_1[_0x28a624(0x23a)][_0x28a624(0x1e5)](_0x28a624(0x1f0) + _0x28a624(0x237) + _0x28a624(0x21b) + _0x28a624(0x20f) + _0x4cbe6c[_0x28a624(0x238)]), _0xa77423[_0x28a624(0x1c9)](_0x5e69e8, _0x4cbe6c);
            })['on'](_0xa77423[_0x4139fd(0x21f)], () => {
                const _0x351c74 = _0x4139fd;
                _0x18e6ba[_0x351c74(0x21e)](_0x6629be);
            })[_0x4139fd(0x23c)](_0x257cd8, _0x2cba67);
        });
    }, CreateMessageOffilineService = ({
        msg: _0x13d84,
        tenantId: _0x8beb97,
        medias: _0x598dee,
        ticket: _0x34133f,
        userId: _0x248158
    }) => __awaiter(void (-0x1963 + 0x16cc * -0x1 + 0x302f), void (0x2105 * -0x1 + 0x1fd4 + 0x131), void (0xcc6 + -0x9 * 0x6e + -0x474 * 0x2), function* () {
        const _0x12da83 = _0x155522, _0x42c442 = {
                'ZpPsU': function (_0x155d7f, _0x3b5718, _0x12857b, _0x129339) {
                    return _0x155d7f(_0x3b5718, _0x12857b, _0x129339);
                },
                'lKSkS': _0x12da83(0x223),
                'SRrmv': _0x12da83(0x1fd),
                'KNmIt': function (_0x3a2adc, _0x3decfa) {
                    return _0x3a2adc < _0x3decfa;
                },
                'pEPUa': function (_0x5c7263, _0x2ec148) {
                    return _0x5c7263 === _0x2ec148;
                },
                'UFAJU': _0x12da83(0x1cd),
                'bqyvl': function (_0x316d80, _0x5055e7, _0x2dc398) {
                    return _0x316d80(_0x5055e7, _0x2dc398);
                },
                'fzVti': function (_0x40c76c, _0xa9c9dc) {
                    return _0x40c76c(_0xa9c9dc);
                },
                'NNwhv': _0x12da83(0x235),
                'XbaNp': _0x12da83(0x205),
                'LaLoM': _0x12da83(0x1ec),
                'GNQvz': _0x12da83(0x1e6) + _0x12da83(0x1df),
                'VYsTi': _0x12da83(0x1bb),
                'bjPmL': _0x12da83(0x218),
                'WwSlL': function (_0x370163, _0x550426) {
                    return _0x370163(_0x550426);
                },
                'QYzez': _0x12da83(0x1f0) + _0x12da83(0x237) + _0x12da83(0x217) + _0x12da83(0x1c8) + _0x12da83(0x1c5)
            }, _0x5e7f50 = (-0x1b35 + -0x890 + 0x23c5, g2ksedbc_zpro_1[_0x12da83(0x1c4)])(), _0x5d5acc = {};
        _0x5d5acc[_0x12da83(0x22d)] = undefined, _0x5d5acc[_0x12da83(0x20e)] = _0x34133f['id'], _0x5d5acc[_0x12da83(0x1e9)] = _0x13d84[_0x12da83(0x1e9)], _0x5d5acc[_0x12da83(0x1ca)] = _0x34133f[_0x12da83(0x1ca)], _0x5d5acc[_0x12da83(0x225)] = _0x13d84[_0x12da83(0x225)], _0x5d5acc[_0x12da83(0x1da)] = !![], _0x5d5acc[_0x12da83(0x1cb)] = _0x42c442[_0x12da83(0x1fb)], _0x5d5acc[_0x12da83(0x1b7)] = undefined, _0x5d5acc[_0x12da83(0x224)] = undefined, _0x5d5acc[_0x12da83(0x1eb)] = _0x248158;
        const _0x46905f = _0x5d5acc;
        try {
            if (_0x598dee)
                yield Promise[_0x12da83(0x1c6)](_0x598dee[_0x12da83(0x1f1)](_0x2d9e51 => __awaiter(void (-0xbd * 0x24 + 0x18c1 + 0x1d3), void (-0x9b3 * -0x3 + -0xab7 + -0x1262), void (-0x1bd2 * -0x1 + 0x8fb + -0x24cd * 0x1), function* () {
                    const _0x25274d = _0x12da83;
                    try {
                        if (!_0x2d9e51[_0x25274d(0x1e4)]) {
                            const _0x398fc0 = _0x2d9e51[_0x25274d(0x228)][_0x25274d(0x1e0)]('/')[0x8 * -0xc7 + -0x2350 + 0x5ef * 0x7][_0x25274d(0x1e0)](';')[-0x1 * 0x665 + -0x220a + 0x286f], _0x3860e7 = (-0x2 * -0xab4 + 0xe0f + -0x2377, uuid_1['v4'])()[_0x25274d(0x215)](/-/g, '')[_0x25274d(0x1d1)](-0x5 * -0x425 + -0x23b6 + 0x1 * 0xefd, -0x5 * -0x70d + -0x19c8 + -0x1 * 0x96d);
                            _0x2d9e51[_0x25274d(0x1e4)] = new Date()[_0x25274d(0x23e)]() + '_' + _0x3860e7 + '.' + _0x398fc0;
                        }
                        yield _0x42c442[_0x25274d(0x21d)](writeFileAsync, (-0x59 * 0x40 + -0x20a9 + 0x36e9, path_1[_0x25274d(0x1dd)])(__dirname, '..', '..', '..', '..', _0x42c442[_0x25274d(0x1bd)], _0x8beb97[_0x25274d(0x1d0)](), _0x2d9e51[_0x25274d(0x1e4)]), _0x2d9e51[_0x25274d(0x1be)], _0x42c442[_0x25274d(0x1f5)]);
                        const _0x50db8b = path_2[_0x25274d(0x203)][_0x25274d(0x1dd)](__dirname, '..', '..', '..', '..', _0x42c442[_0x25274d(0x1bd)], _0x8beb97[_0x25274d(0x1d0)](), _0x2d9e51[_0x25274d(0x1e4)]), _0x3524b4 = _0x50db8b[_0x25274d(0x208) + 'f']('.'), _0x36ced9 = _0x42c442[_0x25274d(0x22c)](_0x3524b4, 0x1c99 * 0x1 + 0x68c * -0x4 + -0x269) ? '' : _0x50db8b[_0x25274d(0x1d1)](_0x3524b4), _0x2ee418 = _0x42c442[_0x25274d(0x1d6)](_0x36ced9, _0x42c442[_0x25274d(0x22f)]);
                        if (_0x2ee418) {
                            const _0x3e6a7a = path_2[_0x25274d(0x203)][_0x25274d(0x1dd)](path_2[_0x25274d(0x203)][_0x25274d(0x1c7)](_0x50db8b), path_2[_0x25274d(0x203)][_0x25274d(0x1e3)](_0x50db8b, path_2[_0x25274d(0x203)][_0x25274d(0x1ff)](_0x50db8b)) + _0x25274d(0x214));
                            yield _0x42c442[_0x25274d(0x23b)](convertOggToMp3, _0x50db8b, _0x3e6a7a);
                        }
                    } catch (_0xcfe214) {
                        ye0esz516_zpro_1[_0x25274d(0x23a)][_0x25274d(0x213)](_0xcfe214);
                    }
                    const _0x53e65f = Object[_0x25274d(0x241)](Object[_0x25274d(0x241)]({}, _0x46905f), {
                            'userId': _0x42c442[_0x25274d(0x1dc)](Number, _0x46905f[_0x25274d(0x1eb)]),
                            'mediaUrl': _0x2d9e51[_0x25274d(0x1e4)],
                            'mediaType': _0x2d9e51[_0x25274d(0x228)][_0x25274d(0x1ed)](0x1 * 0x23d + -0xd * 0xa + -0x1 * 0x1bb, _0x2d9e51[_0x25274d(0x228)][_0x25274d(0x200)]('/'))
                        }), _0x79712b = yield MessageOffLineZPRO_1[_0x25274d(0x203)][_0x25274d(0x1bb)](_0x53e65f), _0x3db88c = {};
                    _0x3db88c[_0x25274d(0x209)] = _0x8beb97;
                    const _0x2ef70a = {};
                    _0x2ef70a[_0x25274d(0x1fa)] = [
                        _0x42c442[_0x25274d(0x246)],
                        {
                            'model': TicketZPRO_1[_0x25274d(0x203)],
                            'as': _0x42c442[_0x25274d(0x240)],
                            'where': _0x3db88c,
                            'include': [_0x42c442[_0x25274d(0x246)]]
                        },
                        {
                            'model': MessageZPRO_1[_0x25274d(0x203)],
                            'as': _0x42c442[_0x25274d(0x1b9)],
                            'include': [_0x42c442[_0x25274d(0x246)]]
                        }
                    ];
                    const _0x55391f = yield MessageOffLineZPRO_1[_0x25274d(0x203)][_0x25274d(0x1f3)](_0x79712b['id'], _0x2ef70a);
                    if (!_0x55391f)
                        throw new Error(_0x42c442[_0x25274d(0x1d5)]);
                    _0x5e7f50['to'](_0x8beb97 + '-' + _0x55391f[_0x25274d(0x20e)][_0x25274d(0x1d0)]())['to'](_0x8beb97 + '-' + _0x55391f[_0x25274d(0x205)][_0x25274d(0x232)])['to'](_0x8beb97 + (_0x25274d(0x1ba) + _0x25274d(0x1b5)))[_0x25274d(0x222)](_0x8beb97 + (_0x25274d(0x204) + 'e'), {
                        'action': _0x42c442[_0x25274d(0x229)],
                        'message': _0x55391f,
                        'ticket': _0x55391f[_0x25274d(0x205)],
                        'contact': _0x55391f[_0x25274d(0x205)][_0x25274d(0x235)]
                    }), yield _0x34133f[_0x25274d(0x227)]({
                        'lastMessage': _0x55391f[_0x25274d(0x1e9)],
                        'lastMessageAt': new Date()[_0x25274d(0x23e)]()
                    });
                })));
            else {
                const _0x197a7d = yield MessageOffLineZPRO_1[_0x12da83(0x203)][_0x12da83(0x1bb)](Object[_0x12da83(0x241)](Object[_0x12da83(0x241)]({}, _0x46905f), {
                        'userId': _0x42c442[_0x12da83(0x1d4)](Number, _0x46905f[_0x12da83(0x1eb)]),
                        'mediaType': _0x42c442[_0x12da83(0x1fb)]
                    })), _0x2e283c = {};
                _0x2e283c[_0x12da83(0x209)] = _0x8beb97;
                const _0x4653ba = {};
                _0x4653ba[_0x12da83(0x1fa)] = [
                    _0x42c442[_0x12da83(0x246)],
                    {
                        'model': TicketZPRO_1[_0x12da83(0x203)],
                        'as': _0x42c442[_0x12da83(0x240)],
                        'where': _0x2e283c,
                        'include': [_0x42c442[_0x12da83(0x246)]]
                    },
                    {
                        'model': MessageZPRO_1[_0x12da83(0x203)],
                        'as': _0x42c442[_0x12da83(0x1b9)],
                        'include': [_0x42c442[_0x12da83(0x246)]]
                    }
                ];
                const _0x1557b = yield MessageOffLineZPRO_1[_0x12da83(0x203)][_0x12da83(0x1f3)](_0x197a7d['id'], _0x4653ba);
                if (!_0x1557b)
                    throw new Error(_0x42c442[_0x12da83(0x1d5)]);
                yield _0x34133f[_0x12da83(0x227)]({
                    'lastMessage': _0x1557b[_0x12da83(0x1e9)],
                    'lastMessageAt': new Date()[_0x12da83(0x23e)]()
                }), _0x5e7f50['to'](_0x8beb97 + '-' + _0x1557b[_0x12da83(0x20e)][_0x12da83(0x1d0)]())['to'](_0x8beb97 + '-' + _0x1557b[_0x12da83(0x205)][_0x12da83(0x232)])['to'](_0x8beb97 + (_0x12da83(0x1ba) + _0x12da83(0x1b5)))[_0x12da83(0x222)](_0x8beb97 + (_0x12da83(0x204) + 'e'), {
                    'action': _0x42c442[_0x12da83(0x229)],
                    'message': _0x1557b,
                    'ticket': _0x1557b[_0x12da83(0x205)],
                    'contact': _0x1557b[_0x12da83(0x205)][_0x12da83(0x235)]
                });
            }
        } catch (_0x480272) {
            ye0esz516_zpro_1[_0x12da83(0x23a)][_0x12da83(0x1e5)](_0x42c442[_0x12da83(0x1d8)], _0x480272);
        }
    });
exports[_0x155522(0x203)] = CreateMessageOffilineService;