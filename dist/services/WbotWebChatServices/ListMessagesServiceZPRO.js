'use strict';
const _0x2814b3 = _0x2ae7;
(function (_0x4b64b8, _0x5ac594) {
    const _0x482496 = _0x2ae7, _0x32295f = _0x4b64b8();
    while (!![]) {
        try {
            const _0x556ac6 = parseInt(_0x482496(0x12c)) / (0xdb * 0x8 + -0x7d2 + 0x1 * 0xfb) * (-parseInt(_0x482496(0x116)) / (0x2563 * 0x1 + 0x1b3 * 0x3 + 0x2a7a * -0x1)) + parseInt(_0x482496(0x130)) / (-0xf34 + -0xa66 + -0x199d * -0x1) + -parseInt(_0x482496(0x138)) / (-0x204d * -0x1 + -0x1a94 + -0x1e7 * 0x3) + parseInt(_0x482496(0xff)) / (-0x1607 + -0x1 * 0x135 + -0x1741 * -0x1) + -parseInt(_0x482496(0x15c)) / (-0x27 * -0xb3 + 0x349 + -0x3d1 * 0x8) + -parseInt(_0x482496(0x144)) / (-0x39e * 0x4 + 0x462 + 0xa1d) * (parseInt(_0x482496(0x143)) / (-0x1475 + 0x2d8 + 0x11a5)) + parseInt(_0x482496(0x140)) / (-0x14aa + -0x61 * 0x4f + 0x32a2) * (parseInt(_0x482496(0x147)) / (-0x21e3 + -0x581 + -0x276e * -0x1));
            if (_0x556ac6 === _0x5ac594)
                break;
            else
                _0x32295f['push'](_0x32295f['shift']());
        } catch (_0x377d0e) {
            _0x32295f['push'](_0x32295f['shift']());
        }
    }
}(_0x5dfd, 0x3 * -0x2d99f + -0x39 * 0xdd5 + 0x183827));
var __awaiter = this && this[_0x2814b3(0x15a)] || function (_0x922969, _0x2b0659, _0x40738f, _0x7e3233) {
        const _0x2ccd27 = _0x2814b3, _0x3d4f95 = {
                'xjPNT': function (_0x23f28e, _0x116f0a) {
                    return _0x23f28e(_0x116f0a);
                },
                'qDsVU': function (_0x362d65, _0x1de139) {
                    return _0x362d65 instanceof _0x1de139;
                },
                'lnqNY': function (_0x4abbb4, _0x293f32) {
                    return _0x4abbb4(_0x293f32);
                },
                'FpePT': _0x2ccd27(0x12b),
                'KwDlI': function (_0x58e5e9, _0x3738e3) {
                    return _0x58e5e9(_0x3738e3);
                },
                'DHfjk': function (_0x348b6d, _0x39e824) {
                    return _0x348b6d(_0x39e824);
                }
            };
        function _0x56309b(_0x3b8cd9) {
            const _0x55171e = _0x2ccd27;
            return _0x3d4f95[_0x55171e(0x151)](_0x3b8cd9, _0x40738f) ? _0x3b8cd9 : new _0x40738f(function (_0x1c016d) {
                const _0x2d03ba = _0x55171e;
                _0x3d4f95[_0x2d03ba(0x12e)](_0x1c016d, _0x3b8cd9);
            });
        }
        return new (_0x40738f || (_0x40738f = Promise))(function (_0x2232b4, _0x4bc0f4) {
            const _0x213f12 = _0x2ccd27, _0x7ee21d = {
                    'FSzBY': function (_0x1e861c, _0x524ede) {
                        const _0x28461e = _0x2ae7;
                        return _0x3d4f95[_0x28461e(0x12e)](_0x1e861c, _0x524ede);
                    },
                    'MBjLG': function (_0x2fa544, _0x3a9fa0) {
                        const _0x3869a1 = _0x2ae7;
                        return _0x3d4f95[_0x3869a1(0x11e)](_0x2fa544, _0x3a9fa0);
                    },
                    'XkIEr': _0x3d4f95[_0x213f12(0x148)],
                    'uJKkz': function (_0x3d2199, _0x543250) {
                        const _0x235a4d = _0x213f12;
                        return _0x3d4f95[_0x235a4d(0x13b)](_0x3d2199, _0x543250);
                    },
                    'QrxVz': function (_0x3dfd6f, _0x467dcf) {
                        const _0x240b8f = _0x213f12;
                        return _0x3d4f95[_0x240b8f(0x12e)](_0x3dfd6f, _0x467dcf);
                    }
                };
            function _0x2c1e7d(_0x2ba8b3) {
                const _0x2d506a = _0x213f12;
                try {
                    _0x7ee21d[_0x2d506a(0x13a)](_0xe38437, _0x7e3233[_0x2d506a(0x145)](_0x2ba8b3));
                } catch (_0x50a5d1) {
                    _0x7ee21d[_0x2d506a(0x13a)](_0x4bc0f4, _0x50a5d1);
                }
            }
            function _0x2dd708(_0x458849) {
                const _0x3c8e58 = _0x213f12;
                try {
                    _0x7ee21d[_0x3c8e58(0x15d)](_0xe38437, _0x7e3233[_0x7ee21d[_0x3c8e58(0x150)]](_0x458849));
                } catch (_0x54b6ff) {
                    _0x7ee21d[_0x3c8e58(0x159)](_0x4bc0f4, _0x54b6ff);
                }
            }
            function _0xe38437(_0x2a8a19) {
                const _0x2e0575 = _0x213f12;
                _0x2a8a19[_0x2e0575(0x10c)] ? _0x7ee21d[_0x2e0575(0x159)](_0x2232b4, _0x2a8a19[_0x2e0575(0x122)]) : _0x7ee21d[_0x2e0575(0x152)](_0x56309b, _0x2a8a19[_0x2e0575(0x122)])[_0x2e0575(0x109)](_0x2c1e7d, _0x2dd708);
            }
            _0x3d4f95[_0x213f12(0x111)](_0xe38437, (_0x7e3233 = _0x7e3233[_0x213f12(0x124)](_0x922969, _0x2b0659 || []))[_0x213f12(0x145)]());
        });
    }, __importDefault = this && this[_0x2814b3(0x15f) + _0x2814b3(0x146)] || function (_0x1383b9) {
        const _0x4f4935 = _0x2814b3;
        return _0x1383b9 && _0x1383b9[_0x4f4935(0x14d)] ? _0x1383b9 : { 'default': _0x1383b9 };
    };
const _0x22aeed = {};
function _0x5dfd() {
    const _0x37d88f = [
        'fzUAQ',
        'then',
        'ASC',
        'createdAt',
        'done',
        'ls/TicketZ',
        '3s0z5_zpro',
        'CWHyM',
        'listar\x20men',
        'DHfjk',
        '../../ludp',
        'apiConfig',
        'contactId',
        'dfcaR',
        '2YkFgUa',
        ':::\x20WhaTitan\x20',
        'webchat',
        'Contato\x20n√£',
        'findOne',
        'c8_zpro/wa',
        'model',
        'default',
        'lnqNY',
        'type',
        'BQQnf',
        '../../xwsp',
        'value',
        'yMorT',
        'apply',
        'posxjtgen_',
        'defineProp',
        'Url',
        'Wdpyc',
        'ZcsFk',
        'name',
        'throw',
        '1537109jTcMhA',
        'contact',
        'xjPNT',
        'ticket',
        '1240263lfbcEC',
        'quotedMsg',
        'ls/Message',
        'ack',
        'attributes',
        'o\x20encontra',
        '/ye0esz516',
        'logger',
        '2008972WVLEgw',
        'ls/UserZPR',
        'FSzBY',
        'KwDlI',
        '_zpro',
        ':::\x20WhaTitan\x20::',
        'update',
        'TExRx',
        '945801UiCYex',
        'PoFCM',
        'execute',
        '2434216xnGVsQ',
        '14fTIjUG',
        'next',
        'fault',
        '320vXPzCw',
        'FpePT',
        'length',
        'ZPRO',
        'user',
        'LoxCR',
        '__esModule',
        'warn',
        'chat:ack',
        'XkIEr',
        'qDsVU',
        'QrxVz',
        'sagens:\x20',
        'GBGyc',
        'channel',
        'number',
        'profilePic',
        'tenantId',
        'uJKkz',
        '__awaiter',
        'KSdzv',
        '3825168HlEgrJ',
        'MBjLG',
        '../../mode',
        '__importDe',
        'erty',
        'findAll',
        'ticketId',
        'all',
        'where',
        'webchatId',
        'UnMPn',
        '1671090jXrxcL',
        'PRO',
        'CnWfN',
        ':\x20Erro\x20ao\x20',
        'ozWSp',
        'payload',
        'zpro',
        'ls/Contact',
        'map'
    ];
    _0x5dfd = function () {
        return _0x37d88f;
    };
    return _0x5dfd();
}
_0x22aeed[_0x2814b3(0x122)] = !![], Object[_0x2814b3(0x126) + _0x2814b3(0x160)](exports, _0x2814b3(0x14d), _0x22aeed);
function _0x2ae7(_0x3bf015, _0x1f8b7b) {
    const _0x1d0e22 = _0x5dfd();
    return _0x2ae7 = function (_0x3c9017, _0x5cc78b) {
        _0x3c9017 = _0x3c9017 - (0x1a9 + 0x136a + -0x1419);
        let _0x1c92c2 = _0x1d0e22[_0x3c9017];
        return _0x1c92c2;
    }, _0x2ae7(_0x3bf015, _0x1f8b7b);
}
const MessageZPRO_1 = __importDefault(require(_0x2814b3(0x15e) + _0x2814b3(0x132) + _0x2814b3(0x14a))), TicketZPRO_1 = __importDefault(require(_0x2814b3(0x15e) + _0x2814b3(0x10d) + _0x2814b3(0x100))), ContactZPRO_1 = __importDefault(require(_0x2814b3(0x15e) + _0x2814b3(0x106) + _0x2814b3(0x14a))), ye0esz516_zpro_1 = require(_0x2814b3(0x121) + _0x2814b3(0x10e) + _0x2814b3(0x136) + _0x2814b3(0x13c)), waposxjtgen_zpro_1 = __importDefault(require(_0x2814b3(0x112) + _0x2814b3(0x11b) + _0x2814b3(0x125) + _0x2814b3(0x105))), UserZPRO_1 = __importDefault(require(_0x2814b3(0x15e) + _0x2814b3(0x139) + 'O'));
class ListMessagesServiceZPRO {
    [_0x2814b3(0x142)]({
        from: _0x4bc43b,
        tenantId: _0x1f92a0
    }) {
        const _0x31eeab = _0x2814b3, _0x141372 = {
                'BQQnf': _0x31eeab(0x14f),
                'ozWSp': _0x31eeab(0x119) + _0x31eeab(0x135) + 'do',
                'ZcsFk': _0x31eeab(0x118),
                'fzUAQ': _0x31eeab(0x12d),
                'CnWfN': _0x31eeab(0x12a),
                'Wdpyc': _0x31eeab(0x156),
                'TExRx': _0x31eeab(0x157) + _0x31eeab(0x127),
                'LoxCR': _0x31eeab(0x12f),
                'KSdzv': _0x31eeab(0x158),
                'yMorT': _0x31eeab(0x113),
                'dfcaR': _0x31eeab(0x131),
                'PoFCM': _0x31eeab(0x14b),
                'GBGyc': _0x31eeab(0x10b),
                'UnMPn': _0x31eeab(0x10a),
                'CWHyM': function (_0x555338, _0x3e3516, _0x253410, _0x51c8c2, _0x1cc169) {
                    return _0x555338(_0x3e3516, _0x253410, _0x51c8c2, _0x1cc169);
                }
            };
        return _0x141372[_0x31eeab(0x10f)](__awaiter, this, void (-0x1015 + 0x1ac6 + 0x187 * -0x7), void (0x1 * -0x1f51 + 0xf5f + 0xff2), function* () {
            const _0x54369d = _0x31eeab;
            try {
                const _0x5df384 = {};
                _0x5df384[_0x54369d(0xfd)] = _0x4bc43b, _0x5df384[_0x54369d(0x158)] = _0x1f92a0;
                const _0x39d16d = {};
                _0x39d16d[_0x54369d(0xfc)] = _0x5df384;
                const _0x8e0860 = yield ContactZPRO_1[_0x54369d(0x11d)][_0x54369d(0x11a)](_0x39d16d);
                if (!_0x8e0860)
                    throw new Error(_0x141372[_0x54369d(0x103)]);
                const _0x4af58c = {};
                _0x4af58c[_0x54369d(0x114)] = _0x8e0860['id'], _0x4af58c[_0x54369d(0x158)] = _0x1f92a0, _0x4af58c[_0x54369d(0x155)] = _0x141372[_0x54369d(0x129)];
                const _0x3962a7 = {};
                _0x3962a7[_0x54369d(0xfc)] = _0x4af58c;
                const _0x23d35b = yield TicketZPRO_1[_0x54369d(0x11d)][_0x54369d(0x161)](_0x3962a7);
                if (!_0x23d35b[_0x54369d(0x149)])
                    return [];
                const _0x57b6f6 = _0x23d35b[_0x54369d(0x107)](_0x31199f => _0x31199f['id']), _0x33cbb3 = {};
                _0x33cbb3[_0x54369d(0xfa)] = _0x57b6f6, _0x33cbb3[_0x54369d(0x158)] = _0x1f92a0;
                const _0x4c437b = {};
                _0x4c437b[_0x54369d(0x11c)] = ContactZPRO_1[_0x54369d(0x11d)], _0x4c437b['as'] = _0x141372[_0x54369d(0x108)], _0x4c437b[_0x54369d(0x134)] = [
                    'id',
                    _0x141372[_0x54369d(0x101)],
                    _0x141372[_0x54369d(0x128)],
                    _0x141372[_0x54369d(0x13f)]
                ];
                const _0x4bebe5 = {};
                _0x4bebe5[_0x54369d(0x11c)] = TicketZPRO_1[_0x54369d(0x11d)], _0x4bebe5['as'] = _0x141372[_0x54369d(0x14c)], _0x4bebe5[_0x54369d(0x134)] = [
                    'id',
                    _0x141372[_0x54369d(0x15b)],
                    _0x141372[_0x54369d(0x123)]
                ];
                const _0x2ea14f = yield MessageZPRO_1[_0x54369d(0x11d)][_0x54369d(0x161)]({
                    'where': _0x33cbb3,
                    'include': [
                        _0x4c437b,
                        _0x4bebe5,
                        {
                            'model': MessageZPRO_1[_0x54369d(0x11d)],
                            'as': _0x141372[_0x54369d(0x115)],
                            'include': [_0x141372[_0x54369d(0x108)]]
                        },
                        {
                            'model': UserZPRO_1[_0x54369d(0x11d)],
                            'as': _0x141372[_0x54369d(0x141)],
                            'attributes': [
                                'id',
                                _0x141372[_0x54369d(0x101)]
                            ]
                        }
                    ],
                    'order': [[
                            _0x141372[_0x54369d(0x154)],
                            _0x141372[_0x54369d(0xfe)]
                        ]]
                });
                return yield Promise[_0x54369d(0xfb)](_0x2ea14f[_0x54369d(0x107)](_0x2c7f6e => {
                    const _0x1602d9 = _0x54369d, _0x5e053c = {};
                    _0x5e053c[_0x1602d9(0x133)] = 0x3, _0x2c7f6e[_0x1602d9(0x13e)](_0x5e053c);
                    const _0x22f0c6 = {};
                    return _0x22f0c6[_0x1602d9(0x158)] = _0x1f92a0, _0x22f0c6[_0x1602d9(0x11f)] = _0x141372[_0x1602d9(0x120)], _0x22f0c6[_0x1602d9(0x104)] = _0x2c7f6e, (-0x1801 + -0xddb * -0x1 + -0x6 * -0x1b1, waposxjtgen_zpro_1[_0x1602d9(0x11d)])(_0x22f0c6);
                })), _0x2ea14f;
            } catch (_0x5b8981) {
                ye0esz516_zpro_1[_0x54369d(0x137)][_0x54369d(0x14e)](_0x54369d(0x117) + _0x54369d(0x13d) + _0x54369d(0x102) + _0x54369d(0x110) + _0x54369d(0x153) + _0x5b8981);
                throw _0x5b8981;
            }
        });
    }
}
exports[_0x2814b3(0x11d)] = ListMessagesServiceZPRO;