'use strict';
const _0x3878b8 = _0x538d;
(function (_0x37eacc, _0x2ee8db) {
    const _0x511766 = _0x538d, _0x79ae72 = _0x37eacc();
    while (!![]) {
        try {
            const _0x4872e6 = -parseInt(_0x511766(0x11f)) / (-0x16af + -0x22c * 0xe + 0x3518) * (parseInt(_0x511766(0xf5)) / (0x1 * 0x142c + 0xffe + -0x2 * 0x1214)) + -parseInt(_0x511766(0x108)) / (0xfe4 + 0x1d5c + 0x25 * -0x139) + parseInt(_0x511766(0xfe)) / (-0xf * 0x107 + 0x1 * 0x136d + -0x100 * 0x4) * (-parseInt(_0x511766(0x106)) / (-0x1 * 0xae3 + 0x1219 + -0x731)) + -parseInt(_0x511766(0xec)) / (0x1bd9 * 0x1 + 0x1 * -0x141a + -0x7b9) * (-parseInt(_0x511766(0xf7)) / (-0x267a + -0x1 * -0x10a5 + 0x1 * 0x15dc)) + -parseInt(_0x511766(0xed)) / (-0xe20 + 0xa39 + 0x3ef) * (parseInt(_0x511766(0x135)) / (-0x1 * 0x245f + -0x26e * -0x1 + 0x21fa)) + parseInt(_0x511766(0xdb)) / (-0x26e * -0x2 + 0x9f5 + 0x61 * -0x27) + -parseInt(_0x511766(0x121)) / (0x14 * -0x5c + -0x4e3 * -0x5 + -0x1134) * (-parseInt(_0x511766(0xee)) / (-0x10fe * -0x1 + 0x1 * 0x7d9 + -0x18cb));
            if (_0x4872e6 === _0x2ee8db)
                break;
            else
                _0x79ae72['push'](_0x79ae72['shift']());
        } catch (_0x3f8df0) {
            _0x79ae72['push'](_0x79ae72['shift']());
        }
    }
}(_0x2c81, -0x2f46e * 0x6 + -0xb35af + 0x29785e));
function _0x538d(_0x35f09d, _0x234a07) {
    const _0x56ac87 = _0x2c81();
    return _0x538d = function (_0x3c2be1, _0x3b42f7) {
        _0x3c2be1 = _0x3c2be1 - (-0x108 + -0x98 * 0x4 + 0x21f * 0x2);
        let _0x35f2a8 = _0x56ac87[_0x3c2be1];
        return _0x35f2a8;
    }, _0x538d(_0x35f09d, _0x234a07);
}
var __awaiter = this && this[_0x3878b8(0xe3)] || function (_0x43b261, _0x3f21e6, _0x45e884, _0x585775) {
        const _0x339e78 = _0x3878b8, _0x56afdb = {
                'TgzXr': function (_0x5e8d55, _0x347885) {
                    return _0x5e8d55(_0x347885);
                },
                'FlEts': function (_0x1622e4, _0x4599cf) {
                    return _0x1622e4 instanceof _0x4599cf;
                },
                'lzNbk': function (_0x2d749a, _0xeb5c8) {
                    return _0x2d749a(_0xeb5c8);
                },
                'Pjfmz': _0x339e78(0xd6),
                'jCGVR': function (_0x2a708d, _0x1c2d77) {
                    return _0x2a708d(_0x1c2d77);
                }
            };
        function _0x4d987d(_0x204c9f) {
            const _0x2e4429 = _0x339e78;
            return _0x56afdb[_0x2e4429(0x118)](_0x204c9f, _0x45e884) ? _0x204c9f : new _0x45e884(function (_0x278240) {
                const _0x4d10b2 = _0x2e4429;
                _0x56afdb[_0x4d10b2(0x10d)](_0x278240, _0x204c9f);
            });
        }
        return new (_0x45e884 || (_0x45e884 = Promise))(function (_0x219067, _0x354f62) {
            const _0x57d164 = _0x339e78, _0xf6465d = {
                    'cVSfl': function (_0x224618, _0x4d3415) {
                        const _0x40b273 = _0x538d;
                        return _0x56afdb[_0x40b273(0x137)](_0x224618, _0x4d3415);
                    },
                    'dUntH': _0x56afdb[_0x57d164(0xde)],
                    'lscxc': function (_0x48ec35, _0x3c416c) {
                        const _0x534269 = _0x57d164;
                        return _0x56afdb[_0x534269(0x10d)](_0x48ec35, _0x3c416c);
                    }
                };
            function _0x23034e(_0x2be3fb) {
                const _0x4359ba = _0x57d164;
                try {
                    _0xf6465d[_0x4359ba(0x11d)](_0x5d8216, _0x585775[_0x4359ba(0x128)](_0x2be3fb));
                } catch (_0x13dc35) {
                    _0xf6465d[_0x4359ba(0x11d)](_0x354f62, _0x13dc35);
                }
            }
            function _0x239653(_0x4648fa) {
                const _0x18c758 = _0x57d164;
                try {
                    _0xf6465d[_0x18c758(0x11d)](_0x5d8216, _0x585775[_0xf6465d[_0x18c758(0xe6)]](_0x4648fa));
                } catch (_0x4fcbeb) {
                    _0xf6465d[_0x18c758(0x11d)](_0x354f62, _0x4fcbeb);
                }
            }
            function _0x5d8216(_0x315a9f) {
                const _0x4a3dfb = _0x57d164;
                _0x315a9f[_0x4a3dfb(0x10b)] ? _0xf6465d[_0x4a3dfb(0x13d)](_0x219067, _0x315a9f[_0x4a3dfb(0x10a)]) : _0xf6465d[_0x4a3dfb(0x11d)](_0x4d987d, _0x315a9f[_0x4a3dfb(0x10a)])[_0x4a3dfb(0xe4)](_0x23034e, _0x239653);
            }
            _0x56afdb[_0x57d164(0xfd)](_0x5d8216, (_0x585775 = _0x585775[_0x57d164(0x101)](_0x43b261, _0x3f21e6 || []))[_0x57d164(0x128)]());
        });
    }, __importDefault = this && this[_0x3878b8(0x111) + _0x3878b8(0xe0)] || function (_0x1dcd56) {
        const _0x50d73b = _0x3878b8;
        return _0x1dcd56 && _0x1dcd56[_0x50d73b(0x102)] ? _0x1dcd56 : { 'default': _0x1dcd56 };
    };
const _0x5e34ad = {};
function _0x2c81() {
    const _0x218352 = [
        'xbj_zpro',
        'howContact',
        ':\x20Error\x20co',
        '../../g2b_',
        'zpro/gvu5c',
        'cket\x20',
        '../../zltz',
        '1694178GtxRQw',
        'defineProp',
        'lzNbk',
        'tUwhX',
        'wvru_zpro',
        'SRjgY',
        'ls/TicketZ',
        'ge1r_zpro/',
        'lscxc',
        'tenantId',
        'channel',
        'uNpUJ',
        ':::\x20WHATITAN\x20::',
        'Received\x20f',
        'info',
        'RLSrI',
        '../../mode',
        'eReceived',
        'pying\x20last',
        'iui_zpro',
        'ERR_CREATI',
        'astMessage',
        'throw',
        ':::\x20WHATITAN\x20',
        'eskay',
        'pro',
        'ate',
        '857540LmehfQ',
        'ticket:upd',
        './CreateLo',
        'Pjfmz',
        'update',
        'fault',
        'type',
        'waba',
        '__awaiter',
        'then',
        'whatsappId',
        'dUntH',
        'dGNrz',
        'hub',
        'rom\x20ticket',
        'Services/S',
        'NG_TICKET',
        '27618VeXiwR',
        '40IEyvgJ',
        '456iApoRW',
        'eived:\x20',
        'scw1efoe_z',
        '_zpro/if3k',
        'logger',
        'erty',
        'viceZPRO',
        '1757578EgpZqC',
        'Dlyng',
        '238srZHop',
        'ticketId',
        '../../y9vf',
        'DESC',
        'includes',
        './ShowTick',
        'jCGVR',
        '296HqKZdf',
        'create',
        'getTime',
        'apply',
        '__esModule',
        '\x20to\x20new\x20ti',
        'userId',
        '../Contact',
        '95970dGzKSG',
        '../../qozl',
        '1781382ExwPQd',
        'error',
        'value',
        'done',
        'hq_zpro/fx',
        'TgzXr',
        'MessageRec',
        'order',
        'findOne',
        '__importDe',
        'mfJyi',
        'where',
        'eXLco',
        '$create',
        'default',
        'payload',
        'FlEts',
        'DcXps',
        'etServiceZ',
        '../../y20r',
        '0s48_zpro/',
        'cVSfl',
        ':\x20Copied\x20l',
        '1ToljkT',
        'PRO',
        '1277496HHGWBQ',
        'gTicketSer',
        'djjac_zpro',
        'pending',
        'ticket',
        'contactId',
        'ServiceZPR',
        'next',
        'lastMessag',
        'attributes',
        'open',
        'sequelize',
        'FYCBM'
    ];
    _0x2c81 = function () {
        return _0x218352;
    };
    return _0x2c81();
}
_0x5e34ad[_0x3878b8(0x10a)] = !![], Object[_0x3878b8(0x136) + _0x3878b8(0xf3)](exports, _0x3878b8(0x102), _0x5e34ad);
const scw1efoe_zpro_1 = __importDefault(require(_0x3878b8(0x11b) + _0x3878b8(0x11c) + _0x3878b8(0xf0) + _0x3878b8(0xd9))), gvu5cdjjac_zpro_1 = __importDefault(require(_0x3878b8(0x131) + _0x3878b8(0x132) + _0x3878b8(0x123))), if3kwvru_zpro_1 = __importDefault(require(_0x3878b8(0xf9) + _0x3878b8(0xf1) + _0x3878b8(0x139))), xbj_zpro_1 = __importDefault(require(_0x3878b8(0x134) + _0x3878b8(0x13c) + _0x3878b8(0x12e))), TicketZPRO_1 = __importDefault(require(_0x3878b8(0x145) + _0x3878b8(0x13b) + _0x3878b8(0x120))), ShowContactServiceZPRO_1 = __importDefault(require(_0x3878b8(0x105) + _0x3878b8(0xea) + _0x3878b8(0x12f) + _0x3878b8(0x127) + 'O')), CreateLogTicketServiceZPRO_1 = __importDefault(require(_0x3878b8(0xdd) + _0x3878b8(0x122) + _0x3878b8(0xf4))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x3878b8(0xfc) + _0x3878b8(0x11a) + _0x3878b8(0x120))), sequelize_1 = require(_0x3878b8(0x12c)), fxiui_zpro_1 = require(_0x3878b8(0x107) + _0x3878b8(0x10c) + _0x3878b8(0x148)), CreateTicketService = ({
        contactId: _0x5caa2f,
        status: _0x1d2a70,
        userId: _0x4dff60,
        tenantId: _0x5b7ce1,
        channel: _0x4047b3,
        channelId: channelId = undefined,
        groupUserIdArray: groupUserIdArray = null
    }) => __awaiter(void (0x4 * -0x925 + 0x1c3d + -0x7 * -0x131), void (0x1ff9 * -0x1 + 0x6 * -0x31d + 0x32a7), void (0x1019 * 0x2 + 0x80a + 0x406 * -0xa), function* () {
        const _0x3f6440 = _0x3878b8, _0x5a3542 = {};
        _0x5a3542[_0x3f6440(0x119)] = function (_0x4d45de, _0x10d634) {
            return _0x4d45de === _0x10d634;
        }, _0x5a3542[_0x3f6440(0x140)] = _0x3f6440(0x12b), _0x5a3542[_0x3f6440(0xe7)] = _0x3f6440(0x124), _0x5a3542[_0x3f6440(0x112)] = _0x3f6440(0x125), _0x5a3542[_0x3f6440(0x12d)] = _0x3f6440(0xe2), _0x5a3542[_0x3f6440(0x144)] = _0x3f6440(0xe8), _0x5a3542[_0x3f6440(0x138)] = _0x3f6440(0x129) + _0x3f6440(0x146), _0x5a3542[_0x3f6440(0xd8)] = _0x3f6440(0xfa), _0x5a3542[_0x3f6440(0x13a)] = _0x3f6440(0x149) + _0x3f6440(0xeb), _0x5a3542[_0x3f6440(0x114)] = _0x3f6440(0xff), _0x5a3542[_0x3f6440(0xf6)] = _0x3f6440(0xdc) + _0x3f6440(0xda);
        const _0x3a4ad5 = _0x5a3542, _0x8e0eba = yield (0xb5d + -0xc5 * -0x30 + -0x9a9 * 0x5, if3kwvru_zpro_1[_0x3f6440(0x116)])(_0x5b7ce1, channelId);
        if (_0x3a4ad5[_0x3f6440(0x119)](_0x1d2a70, _0x3a4ad5[_0x3f6440(0x140)]) || _0x3a4ad5[_0x3f6440(0x119)](_0x1d2a70, _0x3a4ad5[_0x3f6440(0xe7)]))
            yield (-0x1 * -0x457 + -0x4 * 0x7cd + -0x1 * -0x1add, gvu5cdjjac_zpro_1[_0x3f6440(0x116)])(_0x5caa2f, channelId);
        const _0x8ccd83 = {};
        _0x8ccd83['id'] = _0x5caa2f, _0x8ccd83[_0x3f6440(0x13e)] = _0x5b7ce1;
        const {isGroup: _0x3c98ef} = yield (-0x4a5 + 0x1d * 0x9f + -0xd5e * 0x1, ShowContactServiceZPRO_1[_0x3f6440(0x116)])(_0x8ccd83), {id: _0x2ee62c} = yield _0x8e0eba[_0x3f6440(0x115)](_0x3a4ad5[_0x3f6440(0x112)], {
                'contactId': _0x5caa2f,
                'status': _0x1d2a70,
                'isGroup': _0x3c98ef,
                'userId': _0x4dff60,
                'isActiveDemand': !![],
                'channel': _0x4047b3,
                'tenantId': _0x5b7ce1,
                'lastMessageAt': new Date()[_0x3f6440(0x100)](),
                'groupUserIdArray': groupUserIdArray
            }), _0xb5060f = {};
        _0xb5060f['id'] = _0x2ee62c, _0xb5060f[_0x3f6440(0x13e)] = _0x5b7ce1;
        const _0x8fcdfe = yield (-0x1395 + -0x21f9 + 0x358e, ShowTicketServiceZPRO_1[_0x3f6440(0x116)])(_0xb5060f);
        if (_0x3a4ad5[_0x3f6440(0x119)](_0x8fcdfe[_0x3f6440(0x13f)], _0x3a4ad5[_0x3f6440(0x12d)]) || _0x8fcdfe[_0x3f6440(0x13f)][_0x3f6440(0xfb)](_0x3a4ad5[_0x3f6440(0x144)]))
            try {
                const _0x5c5e63 = {};
                _0x5c5e63[_0x3f6440(0x126)] = _0x8fcdfe[_0x3f6440(0x126)], _0x5c5e63[_0x3f6440(0x13e)] = _0x8fcdfe[_0x3f6440(0x13e)], _0x5c5e63[_0x3f6440(0xe5)] = _0x8fcdfe[_0x3f6440(0xe5)], _0x5c5e63['id'] = { [sequelize_1['Op']['ne']]: _0x8fcdfe['id'] }, _0x5c5e63[_0x3f6440(0x129) + _0x3f6440(0x146)] = { [sequelize_1['Op']['ne']]: null };
                const _0x3af0b9 = {};
                _0x3af0b9[_0x3f6440(0x113)] = _0x5c5e63, _0x3af0b9[_0x3f6440(0x10f)] = [[
                        _0x3a4ad5[_0x3f6440(0x138)],
                        _0x3a4ad5[_0x3f6440(0xd8)]
                    ]], _0x3af0b9[_0x3f6440(0x12a)] = [
                    'id',
                    _0x3a4ad5[_0x3f6440(0x138)]
                ];
                const _0x1a2ef1 = yield TicketZPRO_1[_0x3f6440(0x116)][_0x3f6440(0x110)](_0x3af0b9);
                if (_0x1a2ef1 && _0x1a2ef1[_0x3f6440(0x129) + _0x3f6440(0x146)]) {
                    const _0x5ef6cb = {};
                    _0x5ef6cb[_0x3f6440(0x129) + _0x3f6440(0x146)] = _0x1a2ef1[_0x3f6440(0x129) + _0x3f6440(0x146)], yield _0x8fcdfe[_0x3f6440(0xdf)](_0x5ef6cb), fxiui_zpro_1[_0x3f6440(0xf2)][_0x3f6440(0x143)](_0x3f6440(0xd7) + _0x3f6440(0x141) + _0x3f6440(0x11e) + _0x3f6440(0x14a) + _0x3f6440(0x142) + _0x3f6440(0xe9) + '\x20' + _0x1a2ef1['id'] + (_0x3f6440(0x103) + _0x3f6440(0x133)) + _0x8fcdfe['id']);
                }
            } catch (_0x2b486e) {
                fxiui_zpro_1[_0x3f6440(0xf2)][_0x3f6440(0x109)](_0x3f6440(0xd7) + _0x3f6440(0x141) + _0x3f6440(0x130) + _0x3f6440(0x147) + _0x3f6440(0x10e) + _0x3f6440(0xef) + _0x2b486e);
            }
        if (!_0x8fcdfe)
            throw new scw1efoe_zpro_1[(_0x3f6440(0x116))](_0x3a4ad5[_0x3f6440(0x13a)]);
        const _0x3c42dc = {};
        _0x3c42dc[_0x3f6440(0x104)] = _0x4dff60, _0x3c42dc[_0x3f6440(0x13e)] = _0x8fcdfe[_0x3f6440(0x13e)], _0x3c42dc[_0x3f6440(0xf8)] = _0x8fcdfe['id'], _0x3c42dc[_0x3f6440(0xe1)] = _0x3a4ad5[_0x3f6440(0x114)], yield (-0x1 * -0x2525 + -0x1 * 0x177e + -0xda7, CreateLogTicketServiceZPRO_1[_0x3f6440(0x116)])(_0x3c42dc);
        const _0x3ba384 = {};
        return _0x3ba384[_0x3f6440(0x13e)] = _0x5b7ce1, _0x3ba384[_0x3f6440(0xe1)] = _0x3a4ad5[_0x3f6440(0xf6)], _0x3ba384[_0x3f6440(0x117)] = _0x8fcdfe, (-0x2349 + -0x7f2 + 0x20f * 0x15, xbj_zpro_1[_0x3f6440(0x116)])(_0x3ba384), _0x8fcdfe;
    });
exports[_0x3878b8(0x116)] = CreateTicketService;