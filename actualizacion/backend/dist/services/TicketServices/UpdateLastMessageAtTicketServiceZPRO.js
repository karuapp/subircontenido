'use strict';
const _0x36c06d = _0x280f;
(function (_0x286473, _0x4c1121) {
    const _0x2a331 = _0x280f, _0x51433f = _0x286473();
    while (!![]) {
        try {
            const _0x12ef06 = -parseInt(_0x2a331(0x72)) / (-0x16bd + 0x1ce9 + -0x62b) * (-parseInt(_0x2a331(0xa2)) / (0x1bbd + 0x240e + -0x3fc9)) + -parseInt(_0x2a331(0x81)) / (0xef2 * 0x1 + 0x8 * 0xea + -0x163f) * (parseInt(_0x2a331(0x8a)) / (-0x1 * -0xf85 + -0x625 + -0x95c)) + -parseInt(_0x2a331(0xa6)) / (-0x1467 * 0x1 + -0x1 * 0x137 + -0x1 * -0x15a3) + -parseInt(_0x2a331(0x7c)) / (-0x382 * 0x5 + 0x19a4 + -0x814) + parseInt(_0x2a331(0x92)) / (0x20fe + 0x2335 + -0x442c) + -parseInt(_0x2a331(0x9f)) / (-0x997 * 0x1 + 0x2011 + -0x1672) + -parseInt(_0x2a331(0x8f)) / (-0x2f * -0x67 + 0x1f73 + -0x3df * 0xd) * (-parseInt(_0x2a331(0x82)) / (0xeb + -0x1d + 0xe * -0xe));
            if (_0x12ef06 === _0x4c1121)
                break;
            else
                _0x51433f['push'](_0x51433f['shift']());
        } catch (_0x10009e) {
            _0x51433f['push'](_0x51433f['shift']());
        }
    }
}(_0x2e63, -0x11ff9d + 0x32b * -0x7a + 0x4 * 0x7ca5b));
var __awaiter = this && this[_0x36c06d(0x9a)] || function (_0x2cf8dc, _0x23c252, _0xc11f82, _0x49001b) {
        const _0x2f2c5e = _0x36c06d, _0x2b518f = {
                'viGzh': function (_0x3505fb, _0x3ab6e4) {
                    return _0x3505fb(_0x3ab6e4);
                },
                'EGmeT': function (_0x1d7ab4, _0x42061a) {
                    return _0x1d7ab4 instanceof _0x42061a;
                },
                'KBRss': function (_0x134f2c, _0x54cfca) {
                    return _0x134f2c(_0x54cfca);
                },
                'xLnCL': function (_0x4b8bd3, _0x3e4d7f) {
                    return _0x4b8bd3(_0x3e4d7f);
                },
                'qlzOO': _0x2f2c5e(0x7e),
                'ODSri': function (_0x1a97c8, _0x1dbdc8) {
                    return _0x1a97c8(_0x1dbdc8);
                }
            };
        function _0x4a97d6(_0x5da8ec) {
            const _0x2b9a17 = _0x2f2c5e;
            return _0x2b518f[_0x2b9a17(0x7b)](_0x5da8ec, _0xc11f82) ? _0x5da8ec : new _0xc11f82(function (_0x152029) {
                const _0x38e482 = _0x2b9a17;
                _0x2b518f[_0x38e482(0x88)](_0x152029, _0x5da8ec);
            });
        }
        return new (_0xc11f82 || (_0xc11f82 = Promise))(function (_0x56d659, _0x1e5e3c) {
            const _0xa20046 = _0x2f2c5e;
            function _0x5069c5(_0x24db4a) {
                const _0x364f55 = _0x280f;
                try {
                    _0x2b518f[_0x364f55(0x91)](_0xce226f, _0x49001b[_0x364f55(0x95)](_0x24db4a));
                } catch (_0x3db47f) {
                    _0x2b518f[_0x364f55(0x94)](_0x1e5e3c, _0x3db47f);
                }
            }
            function _0x46bebc(_0x5aaed5) {
                const _0x4256bb = _0x280f;
                try {
                    _0x2b518f[_0x4256bb(0x94)](_0xce226f, _0x49001b[_0x2b518f[_0x4256bb(0x8d)]](_0x5aaed5));
                } catch (_0x399731) {
                    _0x2b518f[_0x4256bb(0x88)](_0x1e5e3c, _0x399731);
                }
            }
            function _0xce226f(_0x268093) {
                const _0x3a0b5e = _0x280f;
                _0x268093[_0x3a0b5e(0xa7)] ? _0x2b518f[_0x3a0b5e(0x89)](_0x56d659, _0x268093[_0x3a0b5e(0xa0)]) : _0x2b518f[_0x3a0b5e(0x88)](_0x4a97d6, _0x268093[_0x3a0b5e(0xa0)])[_0x3a0b5e(0x74)](_0x5069c5, _0x46bebc);
            }
            _0x2b518f[_0xa20046(0x88)](_0xce226f, (_0x49001b = _0x49001b[_0xa20046(0x79)](_0x2cf8dc, _0x23c252 || []))[_0xa20046(0x95)]());
        });
    }, __importDefault = this && this[_0x36c06d(0x76) + _0x36c06d(0x93)] || function (_0x5e2a51) {
        const _0x42ed9e = _0x36c06d;
        return _0x5e2a51 && _0x5e2a51[_0x42ed9e(0x90)] ? _0x5e2a51 : { 'default': _0x5e2a51 };
    };
const _0x5c47cf = {};
function _0x280f(_0x1db4e3, _0x21b6b3) {
    const _0x488ce7 = _0x2e63();
    return _0x280f = function (_0x4e4947, _0x1a1e29) {
        _0x4e4947 = _0x4e4947 - (0x1ba8 + -0x16ca + -0x4 * 0x11b);
        let _0x4ec0f9 = _0x488ce7[_0x4e4947];
        return _0x4ec0f9;
    }, _0x280f(_0x1db4e3, _0x21b6b3);
}
function _0x2e63() {
    const _0x50f4a6 = [
        'apply',
        'attributes',
        'EGmeT',
        '4619562BQMZOk',
        'findAll',
        'throw',
        'length',
        'ojChw',
        '3fZAqup',
        '1298490gaFqPD',
        'xduLq',
        'erty',
        'ticketId',
        'ls/TicketZ',
        'ls/Message',
        'viGzh',
        'ODSri',
        '3790436mXqgwB',
        'PRO',
        'KETS_FOUND',
        'qlzOO',
        '0s48_zpro/',
        '225oFntJa',
        '__esModule',
        'KBRss',
        '7471681sQBwRR',
        'fault',
        'xLnCL',
        'next',
        'default',
        'createdAt',
        'qkoAi',
        'getTime',
        '__awaiter',
        'scw1efoe_z',
        'order',
        'tenantId',
        'update',
        '11836176YtTwlC',
        'value',
        'defineProp',
        '1820zNumoi',
        'DESC',
        'findOne',
        'where',
        '3338405uIilaR',
        'done',
        '../../mode',
        '346BAaYRM',
        'ZPRO',
        'then',
        'ERR_NO_TIC',
        '__importDe',
        '../../y20r',
        'pro'
    ];
    _0x2e63 = function () {
        return _0x50f4a6;
    };
    return _0x2e63();
}
_0x5c47cf[_0x36c06d(0xa0)] = !![], Object[_0x36c06d(0xa1) + _0x36c06d(0x84)](exports, _0x36c06d(0x90), _0x5c47cf);
const scw1efoe_zpro_1 = __importDefault(require(_0x36c06d(0x77) + _0x36c06d(0x8e) + _0x36c06d(0x9b) + _0x36c06d(0x78))), TicketZPRO_1 = __importDefault(require(_0x36c06d(0xa8) + _0x36c06d(0x86) + _0x36c06d(0x8b))), MessageZPRO_1 = __importDefault(require(_0x36c06d(0xa8) + _0x36c06d(0x87) + _0x36c06d(0x73))), UpdateLastMessageAtTicketService = ({tenantId: _0x100bff}) => __awaiter(void (0x126 * -0x1b + 0x214 + 0x1cee), void (0x35 * -0xad + 0x247f + 0x3 * -0x3a), void (-0x1 * 0x1ce9 + 0x1fd * -0x10 + 0x3cb9), function* () {
        const _0x1129fe = _0x36c06d, _0x4d6bb1 = {};
        _0x4d6bb1[_0x1129fe(0x98)] = _0x1129fe(0x75) + _0x1129fe(0x8c), _0x4d6bb1[_0x1129fe(0x83)] = _0x1129fe(0x97), _0x4d6bb1[_0x1129fe(0x80)] = _0x1129fe(0xa3);
        const _0x37e4e3 = _0x4d6bb1, _0x1d9548 = {};
        _0x1d9548[_0x1129fe(0x9d)] = _0x100bff;
        const _0x300e5d = {};
        _0x300e5d[_0x1129fe(0xa5)] = _0x1d9548, _0x300e5d[_0x1129fe(0x7a)] = ['id'];
        const _0x394085 = yield TicketZPRO_1[_0x1129fe(0x96)][_0x1129fe(0x7d)](_0x300e5d);
        if (!_0x394085[_0x1129fe(0x7f)])
            throw new scw1efoe_zpro_1[(_0x1129fe(0x96))](_0x37e4e3[_0x1129fe(0x98)], 0x29 * 0x2f + 0x1f0e + 0x2501 * -0x1);
        for (const _0x1cf2bf of _0x394085) {
            const _0xc16221 = {};
            _0xc16221[_0x1129fe(0x85)] = _0x1cf2bf['id'];
            const _0x5d48f6 = {};
            _0x5d48f6[_0x1129fe(0xa5)] = _0xc16221, _0x5d48f6[_0x1129fe(0x9c)] = [[
                    _0x37e4e3[_0x1129fe(0x83)],
                    _0x37e4e3[_0x1129fe(0x80)]
                ]];
            const _0xb9d429 = yield MessageZPRO_1[_0x1129fe(0x96)][_0x1129fe(0xa4)](_0x5d48f6);
            if (_0xb9d429) {
                const _0x2e2aff = new Date(_0xb9d429[_0x1129fe(0x97)])[_0x1129fe(0x99)]();
                yield _0x1cf2bf[_0x1129fe(0x9e)]({
                    'lastMessageAt': _0x2e2aff,
                    'updatedAt': new Date(_0x2e2aff)
                });
            }
        }
    });
exports[_0x36c06d(0x96)] = UpdateLastMessageAtTicketService;