'use strict';
const _0x43d06a = _0x3d40;
(function (_0x538fc7, _0x1f2f14) {
    const _0x18781b = _0x3d40, _0x2c4ad1 = _0x538fc7();
    while (!![]) {
        try {
            const _0x3f5300 = parseInt(_0x18781b(0x1b1)) / (-0xd90 * 0x1 + 0x7c1 + 0x5d0) * (-parseInt(_0x18781b(0x1bc)) / (-0x10 * -0xd + -0x936 + 0x868)) + -parseInt(_0x18781b(0x193)) / (-0x37 * 0x7a + -0x1057 + 0x2a9 * 0x10) * (-parseInt(_0x18781b(0x18b)) / (0x2 * -0x272 + 0x105e * 0x2 + -0x6f5 * 0x4)) + -parseInt(_0x18781b(0x1b8)) / (0x989 * 0x2 + 0xa00 + -0x1d0d) * (-parseInt(_0x18781b(0x188)) / (0x75a * 0x1 + -0x1b79 + 0x1425)) + parseInt(_0x18781b(0x184)) / (0x1fc6 + -0xbc3 + -0x13fc) + parseInt(_0x18781b(0x1a6)) / (0x12d + -0x22e6 + 0x1 * 0x21c1) * (-parseInt(_0x18781b(0x19a)) / (0xad6 + 0x19c5 + 0x2492 * -0x1)) + parseInt(_0x18781b(0x1a2)) / (0xae + 0x1 * -0x20ef + 0x1 * 0x204b) * (parseInt(_0x18781b(0x1c6)) / (0x13 * -0xf8 + 0x7c * 0x6 + 0xf8b)) + -parseInt(_0x18781b(0x1a4)) / (-0x1 * 0x1107 + -0xa89 + -0x1f * -0xe4) * (parseInt(_0x18781b(0x1a8)) / (0x1a95 + -0xc21 + -0xe67));
            if (_0x3f5300 === _0x1f2f14)
                break;
            else
                _0x2c4ad1['push'](_0x2c4ad1['shift']());
        } catch (_0x165527) {
            _0x2c4ad1['push'](_0x2c4ad1['shift']());
        }
    }
}(_0x463a, -0x266 * -0x8a4 + 0x196a83 + 0x2 * -0x1009ea));
function _0x463a() {
    const _0x1d0ab7 = [
        'apply',
        '56002OLXVbt',
        'iVEwF',
        'stream',
        'voice',
        'then',
        'euYyh',
        'gSEVu',
        '282060ussFCk',
        '__importDe',
        'RZcIn',
        'nrsVe',
        '2LYXiyX',
        'error',
        'kiKIA',
        'IA:\x20',
        'public',
        'eStream',
        'image',
        'path',
        'mime_type',
        'document',
        '24321oyNqip',
        'createWrit',
        'value',
        'url',
        'getTime',
        'done',
        'pro',
        '__awaiter',
        'fault',
        'HkJVn',
        'HZJRo',
        ':\x20ERROR\x20DO',
        'env',
        'headers',
        ':::\x20WHATITAN\x20',
        '../../qozl',
        'erty',
        'throw',
        'GET',
        'next',
        'data',
        'toString',
        'responseTy',
        'audio',
        '/v1/media/',
        'QPOjz',
        'logger',
        'CjZpD',
        'warn',
        'hq_zpro/fx',
        'method',
        'QvBMM',
        'iui_zpro',
        'WNLOAD_MED',
        '10093629TFRrfR',
        '360_NOT_DO',
        'axios',
        'xEYTX',
        '138bmJPtn',
        'join',
        'WNLOAD',
        '6376gTbtqj',
        'Zilrk',
        'HQjhT',
        'split',
        '__esModule',
        'video',
        '../../y20r',
        'EOhrl',
        '939ccrsDU',
        'finish',
        'default',
        'FxDLO',
        'scw1efoe_z',
        'filename',
        'SXUmx',
        '1622493iidCHQ',
        'Jclys',
        'ytrmW',
        'D360-API-K',
        'DSKVQ',
        'length',
        'tenantId',
        'API_URL_36',
        '8330ZdnRLw',
        ':::\x20WHATITAN\x20::',
        '1416JHMmys',
        'PRqQs',
        '72fokTwT',
        '0s48_zpro/',
        '273221xnUXjy',
        'defineProp',
        'FiQnq',
        'PCZoq',
        'tokenAPI',
        'pipe',
        'EFPef',
        'DbCAD'
    ];
    _0x463a = function () {
        return _0x1d0ab7;
    };
    return _0x463a();
}
var __awaiter = this && this[_0x43d06a(0x1cd)] || function (_0x1bdf8e, _0x2ffab9, _0x3dc664, _0x326d4e) {
        const _0x5082b3 = _0x43d06a, _0xb77d0e = {
                'xEYTX': function (_0x4e35b3, _0x244037) {
                    return _0x4e35b3(_0x244037);
                },
                'FxDLO': function (_0x610951, _0x50a78b) {
                    return _0x610951 instanceof _0x50a78b;
                },
                'RZcIn': function (_0x2afe64, _0x47f733) {
                    return _0x2afe64(_0x47f733);
                },
                'HZJRo': function (_0x3f54ea, _0x554243) {
                    return _0x3f54ea(_0x554243);
                },
                'HQjhT': _0x5082b3(0x1d7)
            };
        function _0x491841(_0x59f525) {
            const _0x526b10 = _0x5082b3;
            return _0xb77d0e[_0x526b10(0x196)](_0x59f525, _0x3dc664) ? _0x59f525 : new _0x3dc664(function (_0x3efbd3) {
                const _0xf14c76 = _0x526b10;
                _0xb77d0e[_0xf14c76(0x187)](_0x3efbd3, _0x59f525);
            });
        }
        return new (_0x3dc664 || (_0x3dc664 = Promise))(function (_0x14bd41, _0x77e554) {
            const _0x3639a5 = _0x5082b3, _0x560f45 = {
                    'ytrmW': function (_0xb9f266, _0x4546f5) {
                        const _0x1695e0 = _0x3d40;
                        return _0xb77d0e[_0x1695e0(0x1d0)](_0xb9f266, _0x4546f5);
                    },
                    'iVEwF': _0xb77d0e[_0x3639a5(0x18d)]
                };
            function _0x30b0fc(_0x5e5c20) {
                const _0x3db717 = _0x3639a5;
                try {
                    _0xb77d0e[_0x3db717(0x1ba)](_0x2c0ece, _0x326d4e[_0x3db717(0x1d9)](_0x5e5c20));
                } catch (_0xf8bab) {
                    _0xb77d0e[_0x3db717(0x1ba)](_0x77e554, _0xf8bab);
                }
            }
            function _0x49f3aa(_0x3cf6a2) {
                const _0x513994 = _0x3639a5;
                try {
                    _0x560f45[_0x513994(0x19c)](_0x2c0ece, _0x326d4e[_0x560f45[_0x513994(0x1b2)]](_0x3cf6a2));
                } catch (_0x4902ed) {
                    _0x560f45[_0x513994(0x19c)](_0x77e554, _0x4902ed);
                }
            }
            function _0x2c0ece(_0x37c31c) {
                const _0x55f2b2 = _0x3639a5;
                _0x37c31c[_0x55f2b2(0x1cb)] ? _0xb77d0e[_0x55f2b2(0x187)](_0x14bd41, _0x37c31c[_0x55f2b2(0x1c8)]) : _0xb77d0e[_0x55f2b2(0x1d0)](_0x491841, _0x37c31c[_0x55f2b2(0x1c8)])[_0x55f2b2(0x1b5)](_0x30b0fc, _0x49f3aa);
            }
            _0xb77d0e[_0x3639a5(0x1d0)](_0x2c0ece, (_0x326d4e = _0x326d4e[_0x3639a5(0x1b0)](_0x1bdf8e, _0x2ffab9 || []))[_0x3639a5(0x1d9)]());
        });
    }, __importDefault = this && this[_0x43d06a(0x1b9) + _0x43d06a(0x1ce)] || function (_0x2d4b43) {
        const _0x3550b2 = _0x43d06a;
        return _0x2d4b43 && _0x2d4b43[_0x3550b2(0x18f)] ? _0x2d4b43 : { 'default': _0x2d4b43 };
    };
function _0x3d40(_0x3b3f98, _0x17e0db) {
    const _0x4f54ba = _0x463a();
    return _0x3d40 = function (_0x10f6dc, _0x4ad0cd) {
        _0x10f6dc = _0x10f6dc - (0x1 * 0x24b + -0xfa8 + 0x83 * 0x1d);
        let _0x4acb73 = _0x4f54ba[_0x10f6dc];
        return _0x4acb73;
    }, _0x3d40(_0x3b3f98, _0x17e0db);
}
const _0x3c829c = {};
_0x3c829c[_0x43d06a(0x1c8)] = !![], Object[_0x43d06a(0x1a9) + _0x43d06a(0x1d6)](exports, _0x43d06a(0x18f), _0x3c829c);
const axios_1 = __importDefault(require(_0x43d06a(0x186))), fs_1 = require('fs'), path_1 = require(_0x43d06a(0x1c3)), scw1efoe_zpro_1 = __importDefault(require(_0x43d06a(0x191) + _0x43d06a(0x1a7) + _0x43d06a(0x197) + _0x43d06a(0x1cc))), fxiui_zpro_1 = require(_0x43d06a(0x1d5) + _0x43d06a(0x17f) + _0x43d06a(0x182)), downloadFile = (_0x3d0023, _0x31207d, _0x22da34, _0x22f235) => __awaiter(void (-0x1 * 0x1689 + -0x1a17 * 0x1 + -0x185 * -0x20), void (-0x1bce + -0x1 * -0xb11 + 0x10bd), void (-0x34c + 0x3d2 + 0x2 * -0x43), function* () {
        const _0x12ec36 = _0x43d06a, _0xba6386 = {
                'gSEVu': function (_0xf5c697, _0x52c591) {
                    return _0xf5c697(_0x52c591);
                },
                'kiKIA': _0x12ec36(0x1d4) + _0x12ec36(0x1a3) + _0x12ec36(0x1d1) + _0x12ec36(0x18a),
                'Zilrk': _0x12ec36(0x194),
                'nrsVe': _0x12ec36(0x1bd),
                'FiQnq': _0x12ec36(0x1c0),
                'EOhrl': _0x12ec36(0x1d8),
                'QvBMM': _0x12ec36(0x1b3)
            }, _0x257de6 = process[_0x12ec36(0x1d2)][_0x12ec36(0x1a1) + '0'] + _0x12ec36(0x17a) + _0x31207d, _0x258b1f = (0x2273 + -0x1d * -0x18 + 0xb * -0x361, path_1[_0x12ec36(0x189)])(__dirname, '..', '..', _0xba6386[_0x12ec36(0x1aa)], _0x22f235, _0x22da34), _0x33fbfe = {};
        _0x33fbfe[_0x12ec36(0x19d) + 'EY'] = _0x3d0023;
        const _0x231249 = {};
        _0x231249[_0x12ec36(0x1c9)] = _0x257de6, _0x231249[_0x12ec36(0x180)] = _0xba6386[_0x12ec36(0x192)], _0x231249[_0x12ec36(0x1dc) + 'pe'] = _0xba6386[_0x12ec36(0x181)], _0x231249[_0x12ec36(0x1d3)] = _0x33fbfe;
        const _0x47093d = yield (-0x1152 * -0x2 + -0x4 * -0x379 + -0x3088, axios_1[_0x12ec36(0x195)])(_0x231249);
        yield new Promise((_0x346cd0, _0x3c5cbb) => {
            const _0x2473c9 = _0x12ec36, _0x3af7e3 = {
                    'PRqQs': function (_0x4a86c9, _0x2d4dab) {
                        const _0xd809bb = _0x3d40;
                        return _0xba6386[_0xd809bb(0x1b7)](_0x4a86c9, _0x2d4dab);
                    },
                    'DbCAD': _0xba6386[_0x2473c9(0x1be)],
                    'Jclys': function (_0x5ec92e, _0x20d4e3) {
                        const _0x2d8358 = _0x2473c9;
                        return _0xba6386[_0x2d8358(0x1b7)](_0x5ec92e, _0x20d4e3);
                    }
                };
            _0x47093d[_0x2473c9(0x1da)][_0x2473c9(0x1ad)]((-0xe5b + 0x1ce1 * -0x1 + -0x1 * -0x2b3c, fs_1[_0x2473c9(0x1c7) + _0x2473c9(0x1c1)])(_0x258b1f))['on'](_0xba6386[_0x2473c9(0x18c)], () => __awaiter(void (0x7 * -0x58a + -0x129 + 0x27ef), void (-0x31b * -0x2 + -0xac5 + 0x48f), void (0x161 * 0x12 + -0x8f5 + -0xfdd), function* () {
                const _0x4d2f75 = _0x2473c9;
                return _0x3af7e3[_0x4d2f75(0x1a5)](_0x346cd0, !![]);
            }))['on'](_0xba6386[_0x2473c9(0x1bb)], _0x4532e4 => {
                const _0x55853c = _0x2473c9;
                fxiui_zpro_1[_0x55853c(0x17c)][_0x55853c(0x17e)](_0x3af7e3[_0x55853c(0x1af)], _0x4532e4), _0x3af7e3[_0x55853c(0x19b)](_0x3c5cbb, new Error(_0x4532e4));
            });
        });
    }), GetMediaWaba360 = ({
        channel: _0x4451d9,
        msg: _0x5b6813,
        ticket: _0x2b255d
    }) => __awaiter(void (0x45e + 0x62e + 0x3 * -0x384), void (0x1 * -0x833 + -0x15 * -0xb4 + -0x29 * 0x29), void (-0xa4 * 0x8 + -0xdd7 * 0x1 + -0x1 * -0x12f7), function* () {
        const _0x31d740 = _0x43d06a, _0xd2c7ca = {
                'euYyh': function (_0x8761ae, _0x190a93) {
                    return _0x8761ae === _0x190a93;
                },
                'DSKVQ': function (_0x47f32d, _0x3854b1) {
                    return _0x47f32d === _0x3854b1;
                },
                'HkJVn': function (_0x2be6b5, _0x34faef) {
                    return _0x2be6b5 === _0x34faef;
                },
                'EFPef': function (_0x27fbaa, _0xbef81a) {
                    return _0x27fbaa === _0xbef81a;
                },
                'QPOjz': function (_0x4e77fc, _0x3eeae7) {
                    return _0x4e77fc > _0x3eeae7;
                },
                'CjZpD': function (_0x2b0a73, _0x43cb23) {
                    return _0x2b0a73 === _0x43cb23;
                },
                'PCZoq': function (_0x46791f, _0xea5160) {
                    return _0x46791f === _0xea5160;
                },
                'SXUmx': function (_0xbea181, _0x36418f, _0x2a3c95, _0x4b4c3d, _0x544c77) {
                    return _0xbea181(_0x36418f, _0x2a3c95, _0x4b4c3d, _0x544c77);
                }
            };
        try {
            let _0xa6332d = '', _0x4b9f44, _0x242430;
            (_0xd2c7ca[_0x31d740(0x1b6)](_0x5b6813, null) || _0xd2c7ca[_0x31d740(0x19e)](_0x5b6813, void (0x5 * -0x4b1 + 0x11ba + 0x1e9 * 0x3)) ? void (-0x1c1d + -0xa * 0x2cd + 0x381f) : _0x5b6813[_0x31d740(0x1c5)]) && (_0xa6332d = _0x5b6813[_0x31d740(0x1c5)]['id'] || '', _0x4b9f44 = _0x5b6813[_0x31d740(0x1c5)][_0x31d740(0x198)], _0x242430 = _0x5b6813[_0x31d740(0x1c5)][_0x31d740(0x1c4)]);
            (_0xd2c7ca[_0x31d740(0x1cf)](_0x5b6813, null) || _0xd2c7ca[_0x31d740(0x1ae)](_0x5b6813, void (-0x1cbf + -0x1d64 + -0x16b * -0x29)) ? void (0x1667 + 0xe98 + 0x35d * -0xb) : _0x5b6813[_0x31d740(0x1c2)]) && (_0xa6332d = _0x5b6813[_0x31d740(0x1c2)]['id'] || '', _0x242430 = _0x5b6813[_0x31d740(0x1c2)][_0x31d740(0x1c4)]);
            (_0xd2c7ca[_0x31d740(0x19e)](_0x5b6813, null) || _0xd2c7ca[_0x31d740(0x1cf)](_0x5b6813, void (-0x25 * 0x9d + -0x1ca0 + 0x1d * 0x1c5)) ? void (-0x2d5 * -0x5 + 0xb * 0x271 + 0x3c * -0xaf) : _0x5b6813[_0x31d740(0x190)]) && (_0xa6332d = _0x5b6813[_0x31d740(0x190)]['id'] || '', _0x242430 = _0x5b6813[_0x31d740(0x190)][_0x31d740(0x1c4)]);
            if (_0xd2c7ca[_0x31d740(0x1cf)](_0x5b6813, null) || _0xd2c7ca[_0x31d740(0x1b6)](_0x5b6813, void (-0x990 + 0x25 * 0xa3 + -0xdff)) ? void (0x29 * -0x4c + -0x73f + -0x3 * -0x679) : _0x5b6813[_0x31d740(0x1b4)]) {
                _0xa6332d = _0x5b6813[_0x31d740(0x1b4)]['id'] || '';
                const _0x9e40a3 = _0x5b6813[_0x31d740(0x1b4)][_0x31d740(0x1c4)] || '', _0x433346 = _0x9e40a3[_0x31d740(0x18e)](';');
                _0x242430 = _0xd2c7ca[_0x31d740(0x17b)](_0x433346[_0x31d740(0x19f)], -0x3 * 0x71b + -0x19 * 0x7d + -0x1 * -0x2187) ? _0x433346[0x1b9a + -0x12c1 * -0x2 + -0x411c] : _0x5b6813[_0x31d740(0x1b4)][_0x31d740(0x1c4)];
            }
            (_0xd2c7ca[_0x31d740(0x17d)](_0x5b6813, null) || _0xd2c7ca[_0x31d740(0x1b6)](_0x5b6813, void (-0x1bb0 * 0x1 + 0x934 + 0x4 * 0x49f)) ? void (0x65d * 0x5 + -0x1baa + 0x427 * -0x1) : _0x5b6813[_0x31d740(0x1dd)]) && (_0xa6332d = _0x5b6813[_0x31d740(0x1dd)]['id'] || '', _0x242430 = _0x5b6813[_0x31d740(0x1dd)][_0x31d740(0x1c4)]);
            const _0x3ea192 = _0xd2c7ca[_0x31d740(0x1ab)](_0x242430, null) || _0xd2c7ca[_0x31d740(0x1b6)](_0x242430, void (0xc81 + -0x185e + -0x1 * -0xbdd)) ? void (-0x1120 + -0x8 * -0x49c + -0x4 * 0x4f0) : _0x242430[_0x31d740(0x18e)]('/')[-0x16b * -0x19 + 0x1 * 0x1f65 + 0x1 * -0x42d7][_0x31d740(0x18e)](';')[-0x976 + -0x1 * -0x14d3 + -0xb5d], _0x1d082f = new Date()[_0x31d740(0x1ca)](), _0x56a69d = _0x4b9f44 ? _0x4b9f44 + '_' + _0x2b255d['id'] + '_' + _0xa6332d + '_' + _0x1d082f + '.' + _0x3ea192 : _0x2b255d['id'] + '_' + _0xa6332d + '_' + _0x1d082f + '.' + _0x3ea192;
            return yield _0xd2c7ca[_0x31d740(0x199)](downloadFile, _0x4451d9[_0x31d740(0x1ac)], _0xa6332d, _0x56a69d, _0x4451d9[_0x31d740(0x1a0)][_0x31d740(0x1db)]()), _0x56a69d;
        } catch (_0x3dcd3d) {
            fxiui_zpro_1[_0x31d740(0x17c)][_0x31d740(0x1bd)](_0x3dcd3d);
            throw new scw1efoe_zpro_1[(_0x31d740(0x195))](_0x31d740(0x185) + _0x31d740(0x183) + _0x31d740(0x1bf) + _0x3dcd3d);
        }
    });
exports[_0x43d06a(0x195)] = GetMediaWaba360;