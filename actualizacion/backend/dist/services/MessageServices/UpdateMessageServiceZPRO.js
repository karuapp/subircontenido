'use strict';
const _0x2c2cee = _0x4623;
(function (_0x32d0a0, _0x330af4) {
    const _0x5a7fdc = _0x4623, _0x4e11cb = _0x32d0a0();
    while (!![]) {
        try {
            const _0x3432de = parseInt(_0x5a7fdc(0x1f3)) / (-0xe6a + -0xdf * 0x1f + 0x296c) * (-parseInt(_0x5a7fdc(0x252)) / (-0xe5 * -0x1d + 0x1 * -0x146c + -0x583)) + -parseInt(_0x5a7fdc(0x27e)) / (0x8b * -0x1 + -0xe * -0x82 + -0x347 * 0x2) * (-parseInt(_0x5a7fdc(0x272)) / (-0x705 * 0x3 + -0x15 * -0x129 + 0x2 * -0x1a5)) + parseInt(_0x5a7fdc(0x240)) / (-0x1 * -0x511 + 0x5e2 + -0x1 * 0xaee) * (-parseInt(_0x5a7fdc(0x235)) / (-0xa3b + -0x1514 + 0x1f55)) + parseInt(_0x5a7fdc(0x21c)) / (0x29c + -0x72b + 0x496) * (parseInt(_0x5a7fdc(0x28d)) / (0xba * 0x10 + 0x72f + -0x12c7)) + -parseInt(_0x5a7fdc(0x292)) / (-0x26 * -0xb9 + 0x651 + 0x269 * -0xe) * (-parseInt(_0x5a7fdc(0x24a)) / (0x9d7 + 0x358 * -0x8 + 0x1 * 0x10f3)) + -parseInt(_0x5a7fdc(0x270)) / (0x207f + 0xd6 + -0x214a * 0x1) * (parseInt(_0x5a7fdc(0x1f4)) / (0x2e * 0x73 + 0x20 * -0x17 + 0x1 * -0x11be)) + parseInt(_0x5a7fdc(0x279)) / (-0xb3 + 0x2467 + 0x23a7 * -0x1);
            if (_0x3432de === _0x330af4)
                break;
            else
                _0x4e11cb['push'](_0x4e11cb['shift']());
        } catch (_0x362cfb) {
            _0x4e11cb['push'](_0x4e11cb['shift']());
        }
    }
}(_0x28bd, -0x21309 + -0x41920 + -0x2c7d6 * -0x3));
var __createBinding = this && this[_0x2c2cee(0x1fe) + _0x2c2cee(0x23d)] || (Object[_0x2c2cee(0x27d)] ? function (_0x20788b, _0x34d1da, _0x34b22e, _0x4f1b67) {
        const _0x3116c5 = _0x2c2cee, _0x235766 = {};
        _0x235766[_0x3116c5(0x251)] = function (_0x36f9d0, _0x47e882) {
            return _0x36f9d0 === _0x47e882;
        }, _0x235766[_0x3116c5(0x25d)] = function (_0x1ed7fb, _0x589d5c) {
            return _0x1ed7fb in _0x589d5c;
        }, _0x235766[_0x3116c5(0x1f1)] = _0x3116c5(0x28e);
        const _0x186e74 = _0x235766;
        if (_0x186e74[_0x3116c5(0x251)](_0x4f1b67, undefined))
            _0x4f1b67 = _0x34b22e;
        var _0x515840 = Object[_0x3116c5(0x23b) + _0x3116c5(0x246) + _0x3116c5(0x24c)](_0x34d1da, _0x34b22e);
        if (!_0x515840 || (_0x186e74[_0x3116c5(0x25d)](_0x186e74[_0x3116c5(0x1f1)], _0x515840) ? !_0x34d1da[_0x3116c5(0x28a)] : _0x515840[_0x3116c5(0x280)] || _0x515840[_0x3116c5(0x1ec) + 'le'])) {
            const _0x4f1090 = {};
            _0x4f1090[_0x3116c5(0x294)] = !![], _0x4f1090[_0x3116c5(0x28e)] = function () {
                return _0x34d1da[_0x34b22e];
            }, _0x515840 = _0x4f1090;
        }
        Object[_0x3116c5(0x1fb) + _0x3116c5(0x239)](_0x20788b, _0x4f1b67, _0x515840);
    } : function (_0x322f9a, _0x1299ee, _0x59bb71, _0x30796b) {
        const _0x53c615 = _0x2c2cee, _0x51cc14 = {};
        _0x51cc14[_0x53c615(0x268)] = function (_0x5929f0, _0x3a7b97) {
            return _0x5929f0 === _0x3a7b97;
        };
        const _0x322203 = _0x51cc14;
        if (_0x322203[_0x53c615(0x268)](_0x30796b, undefined))
            _0x30796b = _0x59bb71;
        _0x322f9a[_0x30796b] = _0x1299ee[_0x59bb71];
    }), __setModuleDefault = this && this[_0x2c2cee(0x253) + _0x2c2cee(0x245)] || (Object[_0x2c2cee(0x27d)] ? function (_0x387271, _0x3d92f7) {
        const _0x2a9918 = _0x2c2cee, _0x152362 = {};
        _0x152362[_0x2a9918(0x267)] = _0x2a9918(0x211);
        const _0x3f1cfb = _0x152362, _0x458e6b = {};
        _0x458e6b[_0x2a9918(0x294)] = !![], _0x458e6b[_0x2a9918(0x25b)] = _0x3d92f7, Object[_0x2a9918(0x1fb) + _0x2a9918(0x239)](_0x387271, _0x3f1cfb[_0x2a9918(0x267)], _0x458e6b);
    } : function (_0x8fac1, _0x5640d0) {
        const _0x1c9b70 = _0x2c2cee, _0x494c87 = {};
        _0x494c87[_0x1c9b70(0x234)] = _0x1c9b70(0x211);
        const _0x6f63f4 = _0x494c87;
        _0x8fac1[_0x6f63f4[_0x1c9b70(0x234)]] = _0x5640d0;
    }), __importStar = this && this[_0x2c2cee(0x233) + 'ar'] || function (_0x21a6e0) {
        const _0x3b7784 = _0x2c2cee, _0x4db7f9 = {
                'bdyKK': _0x3b7784(0x269),
                'YWMeo': function (_0x54218f, _0x217647) {
                    return _0x54218f != _0x217647;
                },
                'UgCXF': function (_0x39168c, _0x4eafd2) {
                    return _0x39168c !== _0x4eafd2;
                },
                'QHvNE': _0x3b7784(0x211),
                'XSTyQ': function (_0x583670, _0x24ca7d, _0x14e176, _0x408d7f) {
                    return _0x583670(_0x24ca7d, _0x14e176, _0x408d7f);
                },
                'qfhIR': function (_0x964ea4, _0x1d9ad1, _0x2207e4) {
                    return _0x964ea4(_0x1d9ad1, _0x2207e4);
                }
            }, _0x5f4b4a = _0x4db7f9[_0x3b7784(0x1ee)][_0x3b7784(0x200)]('|');
        let _0x5daae5 = -0x702 * 0x4 + 0x11 * -0xe2 + 0x7 * 0x626;
        while (!![]) {
            switch (_0x5f4b4a[_0x5daae5++]) {
            case '0':
                if (_0x4db7f9[_0x3b7784(0x25a)](_0x21a6e0, null)) {
                    for (var _0x38c60e in _0x21a6e0)
                        if (_0x4db7f9[_0x3b7784(0x20d)](_0x38c60e, _0x4db7f9[_0x3b7784(0x285)]) && Object[_0x3b7784(0x1f2)][_0x3b7784(0x20a) + _0x3b7784(0x239)][_0x3b7784(0x259)](_0x21a6e0, _0x38c60e))
                            _0x4db7f9[_0x3b7784(0x23c)](__createBinding, _0x405c7f, _0x21a6e0, _0x38c60e);
                }
                continue;
            case '1':
                var _0x405c7f = {};
                continue;
            case '2':
                return _0x405c7f;
            case '3':
                if (_0x21a6e0 && _0x21a6e0[_0x3b7784(0x28a)])
                    return _0x21a6e0;
                continue;
            case '4':
                _0x4db7f9[_0x3b7784(0x20c)](__setModuleDefault, _0x405c7f, _0x21a6e0);
                continue;
            }
            break;
        }
    }, __awaiter = this && this[_0x2c2cee(0x250)] || function (_0x2a293d, _0x156aef, _0x51c08a, _0x43728b) {
        const _0x4b4455 = _0x2c2cee, _0x577750 = {
                'dIUeQ': function (_0x9785e4, _0x25491e) {
                    return _0x9785e4(_0x25491e);
                },
                'jGdOW': function (_0x52c47d, _0x3ef78d) {
                    return _0x52c47d instanceof _0x3ef78d;
                },
                'UYtQb': function (_0x457342, _0x4c71e3) {
                    return _0x457342(_0x4c71e3);
                },
                'MKtzW': _0x4b4455(0x212),
                'GNddI': function (_0x3125dc, _0x9ea424) {
                    return _0x3125dc(_0x9ea424);
                },
                'nZSdp': function (_0x1bed73, _0x50d909) {
                    return _0x1bed73(_0x50d909);
                },
                'EelTT': function (_0x1a2c0c, _0x599160) {
                    return _0x1a2c0c(_0x599160);
                }
            };
        function _0x42fc0d(_0x2eee21) {
            const _0x5bf488 = _0x4b4455, _0x4f6b81 = {
                    'tbQzO': function (_0x5832b0, _0x3abab5) {
                        const _0xf6d66e = _0x4623;
                        return _0x577750[_0xf6d66e(0x28c)](_0x5832b0, _0x3abab5);
                    }
                };
            return _0x577750[_0x5bf488(0x24e)](_0x2eee21, _0x51c08a) ? _0x2eee21 : new _0x51c08a(function (_0x32747d) {
                const _0x1d4d72 = _0x5bf488;
                _0x4f6b81[_0x1d4d72(0x218)](_0x32747d, _0x2eee21);
            });
        }
        return new (_0x51c08a || (_0x51c08a = Promise))(function (_0x2196bd, _0x334143) {
            const _0x2898f0 = _0x4b4455, _0xc3697f = {
                    'fdSiC': function (_0x255e61, _0x1d76c6) {
                        const _0x526f8f = _0x4623;
                        return _0x577750[_0x526f8f(0x1f9)](_0x255e61, _0x1d76c6);
                    },
                    'Mlemw': function (_0x426276, _0x32a7f8) {
                        const _0x22f82a = _0x4623;
                        return _0x577750[_0x22f82a(0x222)](_0x426276, _0x32a7f8);
                    },
                    'aXUPk': function (_0x2973ac, _0x971fc9) {
                        const _0x2aa7fb = _0x4623;
                        return _0x577750[_0x2aa7fb(0x224)](_0x2973ac, _0x971fc9);
                    }
                };
            function _0x19791b(_0x214cee) {
                const _0xa1f3ec = _0x4623;
                try {
                    _0xc3697f[_0xa1f3ec(0x231)](_0x508271, _0x43728b[_0xa1f3ec(0x1ed)](_0x214cee));
                } catch (_0x354a73) {
                    _0xc3697f[_0xa1f3ec(0x231)](_0x334143, _0x354a73);
                }
            }
            function _0x1b0632(_0x8a0538) {
                const _0x42628a = _0x4623;
                try {
                    _0x577750[_0x42628a(0x1f9)](_0x508271, _0x43728b[_0x577750[_0x42628a(0x273)]](_0x8a0538));
                } catch (_0x39f766) {
                    _0x577750[_0x42628a(0x1f9)](_0x334143, _0x39f766);
                }
            }
            function _0x508271(_0xeb6068) {
                const _0x5ad2bb = _0x4623;
                _0xeb6068[_0x5ad2bb(0x205)] ? _0xc3697f[_0x5ad2bb(0x26d)](_0x2196bd, _0xeb6068[_0x5ad2bb(0x25b)]) : _0xc3697f[_0x5ad2bb(0x1f5)](_0x42fc0d, _0xeb6068[_0x5ad2bb(0x25b)])[_0x5ad2bb(0x249)](_0x19791b, _0x1b0632);
            }
            _0x577750[_0x2898f0(0x289)](_0x508271, (_0x43728b = _0x43728b[_0x2898f0(0x265)](_0x2a293d, _0x156aef || []))[_0x2898f0(0x1ed)]());
        });
    }, __importDefault = this && this[_0x2c2cee(0x276) + _0x2c2cee(0x244)] || function (_0x4b8239) {
        const _0x13ba89 = _0x2c2cee;
        return _0x4b8239 && _0x4b8239[_0x13ba89(0x28a)] ? _0x4b8239 : { 'default': _0x4b8239 };
    };
function _0x4623(_0x57f159, _0x54f6e8) {
    const _0xf8ed6c = _0x28bd();
    return _0x4623 = function (_0x1ab794, _0x5d8453) {
        _0x1ab794 = _0x1ab794 - (-0x1702 + 0x9c2 + 0x1 * 0xf29);
        let _0x2d55a2 = _0xf8ed6c[_0x1ab794];
        return _0x2d55a2;
    }, _0x4623(_0x57f159, _0x54f6e8);
}
const _0x3cc6af = {};
function _0x28bd() {
    const _0xa81d74 = [
        'rmdirSync',
        'BvaFr',
        'toString',
        'logger',
        'PRO',
        'ls/TicketZ',
        'originalna',
        'whatsappId',
        'fdSiC',
        'chat',
        '__importSt',
        'MAApa',
        '54AkDFLo',
        'Gyqac',
        'nGAKJ',
        'gVYFj',
        'erty',
        'uuid',
        'getOwnProp',
        'XSTyQ',
        'nding',
        'update',
        'lQuVQ',
        '7905AYydUb',
        'createWrit',
        'messageId',
        'ssageSyste',
        'fault',
        'eDefault',
        'ertyDescri',
        'pipe',
        'filename',
        'then',
        '1511900FGurBQ',
        'ticket',
        'ptor',
        'E_NOT_FOUN',
        'jGdOW',
        'headers',
        '__awaiter',
        'nglQO',
        '8DMYANT',
        '__setModul',
        ':\x20UpdateMe',
        'substr',
        'YYbay',
        'error',
        'findByPk',
        'call',
        'YWMeo',
        'value',
        'body',
        'cBpQn',
        ':\x20ERROR\x20DO',
        'DkyPt',
        'WwUEq',
        'stream',
        'hq_zpro/fx',
        'NG_MESSAGE',
        'mService',
        'apply',
        '_SYSTEM',
        'IAUmC',
        'kBAso',
        '3|1|0|4|2',
        ':::\x20WHATITAN\x20',
        'substring',
        'getTime',
        'Mlemw',
        'fromMe',
        'path',
        '22HqhyQY',
        '1ej3ddn_zp',
        '9488KMRVkf',
        'MKtzW',
        'tenantId',
        'where',
        '__importDe',
        'userId',
        'scheduleDa',
        '2505685pjjgKe',
        'quotedMsg',
        'mime',
        'lonmm',
        'create',
        '231gSnPdf',
        'eqNeR',
        'writable',
        'finish',
        'OUND',
        'iPguE',
        'ERR_CREATI',
        'QHvNE',
        '../../yla9',
        'umNdZ',
        'indexOf',
        'EelTT',
        '__esModule',
        ':::\x20WHATITAN\x20::',
        'dIUeQ',
        '2568cJMmZM',
        'get',
        'assign',
        'DkeqG',
        'zCNIH',
        '9XvPeuI',
        'FYnBF',
        'enumerable',
        'WNLOAD',
        'media',
        '../../mode',
        'recursive',
        'axios',
        'G_ID_NOT_F',
        'configurab',
        'next',
        'bdyKK',
        'dSZud',
        'OqZer',
        'vjCuq',
        'prototype',
        '31618bwmMyj',
        '1683744kWzMHj',
        'aXUPk',
        'replace',
        'responseTy',
        'resolve',
        'UYtQb',
        'data',
        'defineProp',
        'FCXnW',
        'info',
        '__createBi',
        'pupa',
        'split',
        'FFkvi',
        'status',
        'mimetype',
        'attributes',
        'done',
        '0xl_zpro/u',
        'push',
        'ls/Message',
        'warn',
        'hasOwnProp',
        'mediaUrl',
        'qfhIR',
        'UgCXF',
        'ERR_MESSAG',
        'extension',
        'map',
        'default',
        'throw',
        'bDJHr',
        'API',
        'public',
        'findOne',
        'ERR_EDITIN',
        'tbQzO',
        'model',
        'ZPRO',
        'xfski',
        '805HhjiFa',
        'include',
        'eStream',
        'HUBiw',
        'content-ty',
        'iui_zpro',
        'GNddI',
        '../../qozl',
        'nZSdp',
        'join',
        'mediaType',
        'all',
        'response'
    ];
    _0x28bd = function () {
        return _0xa81d74;
    };
    return _0x28bd();
}
_0x3cc6af[_0x2c2cee(0x25b)] = !![], Object[_0x2c2cee(0x1fb) + _0x2c2cee(0x239)](exports, _0x2c2cee(0x28a), _0x3cc6af);
const fs_1 = __importDefault(require('fs')), path_1 = require(_0x2c2cee(0x26f)), axios_1 = __importDefault(require(_0x2c2cee(0x1ea))), uuid_1 = require(_0x2c2cee(0x23a)), fxiui_zpro_1 = require(_0x2c2cee(0x223) + _0x2c2cee(0x262) + _0x2c2cee(0x221)), TicketZPRO_1 = __importDefault(require(_0x2c2cee(0x297) + _0x2c2cee(0x22e) + _0x2c2cee(0x22d))), MessageZPRO_1 = __importDefault(require(_0x2c2cee(0x297) + _0x2c2cee(0x208) + _0x2c2cee(0x21a))), u1ej3ddn_zpro_1 = require(_0x2c2cee(0x286) + _0x2c2cee(0x206) + _0x2c2cee(0x271) + 'ro'), uuid_2 = require(_0x2c2cee(0x23a)), downloadMedia = (_0x44df0e, _0x612c2c, _0x128460) => __awaiter(void (-0x111 * 0x1 + 0x1f8c + 0x1 * -0x1e7b), void (0xdac + -0x8f4 + -0x4b8), void (-0x1 * 0x10e + 0x2044 + -0x55 * 0x5e), function* () {
        const _0x46cb7d = _0x2c2cee, _0x30ae20 = {
                'nGAKJ': function (_0x6cae97, _0x4c2b0a) {
                    return _0x6cae97(_0x4c2b0a);
                },
                'zCNIH': _0x46cb7d(0x26a) + _0x46cb7d(0x28b) + _0x46cb7d(0x25e) + _0x46cb7d(0x295),
                'DkyPt': _0x46cb7d(0x281),
                'umNdZ': _0x46cb7d(0x257),
                'YYbay': _0x46cb7d(0x261),
                'Gyqac': _0x46cb7d(0x220) + 'pe',
                'FCXnW': _0x46cb7d(0x215),
                'bDJHr': function (_0x15681a, _0x112f3b) {
                    return _0x15681a === _0x112f3b;
                }
            };
        try {
            const _0xb1ea67 = {};
            _0xb1ea67[_0x46cb7d(0x1f7) + 'pe'] = _0x30ae20[_0x46cb7d(0x256)];
            const _0x5115d2 = yield axios_1[_0x46cb7d(0x211)][_0x46cb7d(0x28e)](_0x44df0e[_0x46cb7d(0x20b)], _0xb1ea67), _0x4a9f1b = _0x5115d2[_0x46cb7d(0x24f)][_0x30ae20[_0x46cb7d(0x236)]], _0x399c97 = yield Promise[_0x46cb7d(0x1f8)]()[_0x46cb7d(0x249)](() => __importStar(require(_0x46cb7d(0x27b)))), _0x4a5ec2 = _0x399c97, _0x5c0700 = _0x4a5ec2[_0x46cb7d(0x20f)](_0x4a9f1b), _0x530b28 = (0xb3e + 0x16e * -0x19 + 0x1880, uuid_1['v4'])(), _0x310b78 = (-0x1 * 0x2593 + -0xc0f + 0x31a2 * 0x1, path_1[_0x46cb7d(0x225)])(__dirname, '..', '..', '..', _0x30ae20[_0x46cb7d(0x1fc)], _0x128460), _0x151e4c = _0x530b28 + '.' + _0x5c0700, _0x31d3da = (0x17 * 0x85 + -0x1 * -0x1ce6 + -0x28d9, path_1[_0x46cb7d(0x225)])(_0x310b78, _0x151e4c), _0x5df065 = {};
            _0x5df065[_0x46cb7d(0x22f) + 'me'] = _0x151e4c, _0x5df065[_0x46cb7d(0x248)] = _0x151e4c, _0x5df065[_0x46cb7d(0x226)] = _0x5c0700;
            const _0x50f562 = _0x5df065;
            return yield new Promise((_0xae0159, _0x3ea805) => {
                const _0x1f52fe = _0x46cb7d;
                _0x5115d2[_0x1f52fe(0x1fa)][_0x1f52fe(0x247)](fs_1[_0x1f52fe(0x211)][_0x1f52fe(0x241) + _0x1f52fe(0x21e)](_0x31d3da))['on'](_0x30ae20[_0x1f52fe(0x25f)], () => __awaiter(void (0x5ed + 0x1 * -0xac + -0x10d * 0x5), void (0xe7b + 0x4b4 * -0x1 + 0x9c7 * -0x1), void (0x2f * 0xf + -0x2 * -0x1253 + -0x395 * 0xb), function* () {
                    const _0xa0c12 = _0x1f52fe;
                    _0x30ae20[_0xa0c12(0x237)](_0xae0159, _0x50f562);
                }))['on'](_0x30ae20[_0x1f52fe(0x287)], _0x2d6365 => {
                    const _0xff343e = _0x1f52fe;
                    fxiui_zpro_1[_0xff343e(0x22c)][_0xff343e(0x209)](_0x30ae20[_0xff343e(0x291)], _0x2d6365);
                    const _0xf788d0 = {};
                    _0xf788d0[_0xff343e(0x1e9)] = !![], fs_1[_0xff343e(0x211)][_0xff343e(0x229)](_0x31d3da, _0xf788d0), _0x30ae20[_0xff343e(0x237)](_0x3ea805, new Error(_0x2d6365));
                });
            }), _0x50f562;
        } catch (_0xe4dda7) {
            if (_0x30ae20[_0x46cb7d(0x213)](_0xe4dda7[_0x46cb7d(0x228)][_0x46cb7d(0x202)], -0x100c + 0x39 * -0x13 + 0x5 * 0x45f))
                return {};
            throw new Error(_0xe4dda7);
        }
    }), UpdateMessageSystemService = ({
        msg: _0x21df69,
        tenantId: _0x1d9bfa,
        medias: _0x4f4f6b,
        sendType: _0x4ea90f,
        editingId: _0x5cb160
    }) => __awaiter(void (0x1517 + 0x228 + -0xb * 0x21d), void (-0x1c3a + -0x15f2 + 0x322c), void (0x20ee + -0x9ba + -0x1734), function* () {
        const _0x34433c = _0x2c2cee, _0x326fa8 = {
                'HUBiw': _0x34433c(0x284) + _0x34433c(0x263) + _0x34433c(0x266),
                'BvaFr': function (_0x174c63, _0x4e6467) {
                    return _0x174c63 === _0x4e6467;
                },
                'FFkvi': _0x34433c(0x214),
                'WwUEq': function (_0x1c5d3b, _0x549f8b) {
                    return _0x1c5d3b === _0x549f8b;
                },
                'eqNeR': _0x34433c(0x232),
                'dSZud': function (_0x4fd990, _0x266a47) {
                    return _0x4fd990 === _0x266a47;
                },
                'OqZer': function (_0x54e151, _0x40fe85) {
                    return _0x54e151 === _0x40fe85;
                },
                'DkeqG': function (_0x4e0fd3, _0x11d346) {
                    return _0x4e0fd3 === _0x11d346;
                },
                'iPguE': _0x34433c(0x217) + _0x34433c(0x1eb) + _0x34433c(0x282),
                'lQuVQ': _0x34433c(0x230),
                'lonmm': _0x34433c(0x20e) + _0x34433c(0x24d) + 'D',
                'xfski': function (_0x496e97, _0x6c19aa, _0x30a1fa, _0x106b26) {
                    return _0x496e97(_0x6c19aa, _0x30a1fa, _0x106b26);
                },
                'gVYFj': function (_0x19c58f, _0x30fbbe) {
                    return _0x19c58f(_0x30fbbe);
                },
                'FYnBF': _0x34433c(0x26a) + _0x34433c(0x28b) + _0x34433c(0x254) + _0x34433c(0x243) + _0x34433c(0x264)
            };
        var _0x51c1e5;
        const _0x3fa234 = {
            'body': _0x21df69[_0x34433c(0x25c)],
            'fromMe': _0x326fa8[_0x34433c(0x22a)](_0x4ea90f, _0x326fa8[_0x34433c(0x201)]) ? !![] : _0x326fa8[_0x34433c(0x260)](_0x21df69, null) || _0x326fa8[_0x34433c(0x260)](_0x21df69, void (0xd * 0x17 + 0x23d6 * 0x1 + -0x2501)) ? void (0x175 * 0x5 + 0xaf0 + 0x1239 * -0x1) : _0x21df69[_0x34433c(0x26e)],
            'read': !![],
            'mediaType': _0x326fa8[_0x34433c(0x27f)],
            'mediaUrl': undefined,
            'timestamp': new Date()[_0x34433c(0x26c)](),
            'quotedMsgId': _0x326fa8[_0x34433c(0x22a)](_0x51c1e5 = _0x326fa8[_0x34433c(0x260)](_0x21df69, null) || _0x326fa8[_0x34433c(0x1ef)](_0x21df69, void (0x1973 + 0x12f0 + -0x1 * 0x2c63)) ? void (0xa7 * 0x1d + 0x454 * 0x1 + 0x173f * -0x1) : _0x21df69[_0x34433c(0x27a)], null) || _0x326fa8[_0x34433c(0x1f0)](_0x51c1e5, void (0x1 * -0xe5d + -0x1401 + 0x225e)) ? void (-0x605 * -0x3 + -0x7c * 0x33 + 0x6a5) : _0x51c1e5['id'],
            'sendType': _0x4ea90f,
            'tenantId': _0x1d9bfa,
            'scheduleDate': _0x326fa8[_0x34433c(0x290)](_0x21df69, null) || _0x326fa8[_0x34433c(0x22a)](_0x21df69, void (0xb * 0x37 + -0x35 * 0x3b + 0x9da)) ? void (-0x7 * 0x1a3 + 0x1 * 0x1d4f + -0x11da) : _0x21df69[_0x34433c(0x278) + 'te']
        };
        try {
            _0x3fa234[_0x34433c(0x25c)] = (0x942 + 0xbb * 0x29 + -0x2735, u1ej3ddn_zpro_1[_0x34433c(0x1ff)])(_0x21df69[_0x34433c(0x25c)] || '', {});
            if (_0x326fa8[_0x34433c(0x260)](_0x4ea90f, _0x326fa8[_0x34433c(0x201)]) && _0x21df69[_0x34433c(0x20b)]) {
                if (!_0x5cb160)
                    throw new Error(_0x326fa8[_0x34433c(0x283)]);
                const _0x11ef17 = {};
                _0x11ef17[_0x34433c(0x242)] = _0x5cb160, _0x11ef17[_0x34433c(0x274)] = _0x1d9bfa;
                const _0x3f88c0 = {};
                _0x3f88c0[_0x34433c(0x219)] = TicketZPRO_1[_0x34433c(0x211)], _0x3f88c0[_0x34433c(0x204)] = [
                    'id',
                    _0x326fa8[_0x34433c(0x23f)]
                ];
                const _0x57c6bf = {};
                _0x57c6bf[_0x34433c(0x275)] = _0x11ef17, _0x57c6bf[_0x34433c(0x21d)] = [_0x3f88c0];
                const _0x1b70e3 = yield MessageZPRO_1[_0x34433c(0x211)][_0x34433c(0x216)](_0x57c6bf);
                if (!_0x1b70e3)
                    throw new Error(_0x326fa8[_0x34433c(0x27c)]);
                const _0x5969ae = _0x1b70e3[_0x34433c(0x24b)][_0x34433c(0x230)];
                _0x4f4f6b = [];
                const _0x4c598f = yield _0x326fa8[_0x34433c(0x21b)](downloadMedia, _0x21df69, _0x5969ae, _0x1d9bfa[_0x34433c(0x22b)]());
                _0x4f4f6b[_0x34433c(0x207)](_0x4c598f);
            }
            _0x326fa8[_0x34433c(0x1f0)](_0x4ea90f, _0x326fa8[_0x34433c(0x201)]) && !_0x21df69[_0x34433c(0x20b)] && _0x21df69[_0x34433c(0x296)] && (_0x4f4f6b = [], _0x4f4f6b[_0x34433c(0x207)](_0x21df69[_0x34433c(0x296)]));
            if (_0x4f4f6b)
                yield Promise[_0x34433c(0x227)](_0x4f4f6b[_0x34433c(0x210)](_0x47c3f9 => __awaiter(void (-0xae + -0x1d50 + 0x1dfe), void (0x74f * -0x1 + 0x9a * -0x16 + 0x148b), void (0x1f08 + -0x83 * 0x25 + -0xc19), function* () {
                    const _0x4f5b24 = _0x34433c;
                    try {
                        if (!_0x47c3f9[_0x4f5b24(0x248)]) {
                            const _0x1d395e = _0x47c3f9[_0x4f5b24(0x203)][_0x4f5b24(0x200)]('/')[0x1db6 + 0x162b * -0x1 + -0x78a][_0x4f5b24(0x200)](';')[0x1 * -0x1727 + 0x1 + 0x1726 * 0x1], _0x480aa4 = (0x580 + -0x767 * 0x1 + 0x1e7 * 0x1, uuid_2['v4'])()[_0x4f5b24(0x1f6)](/-/g, '')[_0x4f5b24(0x26b)](0x2 * 0x10f3 + -0x90c + 0x18da * -0x1, -0xfc1 + 0x124 * 0x16 + -0x94b);
                            _0x47c3f9[_0x4f5b24(0x248)] = new Date()[_0x4f5b24(0x26c)]() + '_' + _0x480aa4 + '.' + _0x1d395e;
                        }
                    } catch (_0x313887) {
                        fxiui_zpro_1[_0x4f5b24(0x22c)][_0x4f5b24(0x257)](_0x313887);
                    }
                    const _0x291416 = Object[_0x4f5b24(0x28f)](Object[_0x4f5b24(0x28f)]({}, _0x3fa234), {
                            'body': _0x47c3f9[_0x4f5b24(0x22f) + 'me'],
                            'mediaUrl': _0x47c3f9[_0x4f5b24(0x248)],
                            'mediaType': _0x47c3f9[_0x4f5b24(0x226)] || _0x47c3f9[_0x4f5b24(0x203)][_0x4f5b24(0x255)](0x5a3 + 0x2 * 0x644 + 0x1 * -0x122b, _0x47c3f9[_0x4f5b24(0x203)][_0x4f5b24(0x288)]('/'))
                        }), _0xf840f4 = yield MessageZPRO_1[_0x4f5b24(0x211)][_0x4f5b24(0x258)](_0x5cb160);
                    if (!_0xf840f4)
                        throw new Error(_0x326fa8[_0x4f5b24(0x21f)]);
                    yield _0xf840f4[_0x4f5b24(0x23e)](_0x291416);
                })));
            else {
                const _0x31bfdd = yield MessageZPRO_1[_0x34433c(0x211)][_0x34433c(0x258)](_0x5cb160);
                if (!_0x31bfdd)
                    throw new Error(_0x326fa8[_0x34433c(0x21f)]);
                yield _0x31bfdd[_0x34433c(0x23e)](Object[_0x34433c(0x28f)](Object[_0x34433c(0x28f)]({}, _0x3fa234), {
                    'userId': _0x3fa234[_0x34433c(0x277)] ? _0x326fa8[_0x34433c(0x238)](Number, _0x3fa234[_0x34433c(0x277)]) : undefined,
                    'mediaUrl': null,
                    'mediaType': null
                }));
            }
            const _0x18332f = yield MessageZPRO_1[_0x34433c(0x211)][_0x34433c(0x258)](_0x5cb160);
            return _0x18332f;
        } catch (_0x44744c) {
            fxiui_zpro_1[_0x34433c(0x22c)][_0x34433c(0x1fd)](_0x326fa8[_0x34433c(0x293)], _0x44744c);
        }
    });
exports[_0x2c2cee(0x211)] = UpdateMessageSystemService;