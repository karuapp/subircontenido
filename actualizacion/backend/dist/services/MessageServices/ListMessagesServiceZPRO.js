'use strict';
const _0x3e2c08 = _0x1f07;
(function (_0x1f7212, _0x19eacc) {
    const _0x5da44d = _0x1f07, _0x4a49f9 = _0x1f7212();
    while (!![]) {
        try {
            const _0x411a75 = parseInt(_0x5da44d(0x137)) / (0x5 * -0x31f + -0x976 * -0x1 + 0x1 * 0x626) * (parseInt(_0x5da44d(0xfb)) / (-0x1 * 0xe23 + -0xb0b + -0x10 * -0x193)) + parseInt(_0x5da44d(0x11a)) / (-0x476 * 0x2 + 0x1f1b + 0xb * -0x204) * (-parseInt(_0x5da44d(0xe8)) / (0x6d1 + 0x207 * 0x6 + -0x12f7)) + -parseInt(_0x5da44d(0xff)) / (0x1bdb + -0x1 * -0x1e13 + -0x5 * 0xb95) * (parseInt(_0x5da44d(0x10e)) / (-0x255d + 0x4e + 0x2515)) + -parseInt(_0x5da44d(0xef)) / (0x1095 + -0x5 * -0x14e + -0xb8a * 0x2) * (-parseInt(_0x5da44d(0x101)) / (-0x65 * -0x42 + 0xe5 * 0x5 + -0x1b * 0x121)) + -parseInt(_0x5da44d(0xf8)) / (0xcfa + 0x21d * -0x4 + -0x3 * 0x17f) * (-parseInt(_0x5da44d(0x10d)) / (-0xc14 + 0x18d7 + -0xcb9)) + -parseInt(_0x5da44d(0x13d)) / (-0x1 * -0x15d7 + -0x1e25 + 0x859) * (-parseInt(_0x5da44d(0xe1)) / (-0x1 * -0x2195 + -0x1987 * -0x1 + -0x28 * 0x17a)) + -parseInt(_0x5da44d(0x102)) / (-0x95 * -0x10 + 0x167d + 0x20 * -0xfe) * (-parseInt(_0x5da44d(0x122)) / (0x718 + -0x3 * 0xcb3 + 0x1f0f));
            if (_0x411a75 === _0x19eacc)
                break;
            else
                _0x4a49f9['push'](_0x4a49f9['shift']());
        } catch (_0x2fa998) {
            _0x4a49f9['push'](_0x4a49f9['shift']());
        }
    }
}(_0x310c, -0x6fc18 + 0xc * 0xb3c3 + 0x3762e));
var __awaiter = this && this[_0x3e2c08(0x130)] || function (_0x584099, _0x208098, _0x3932ae, _0x2bbad0) {
        const _0x41c85f = _0x3e2c08, _0xb0ed6 = {
                'TisSp': function (_0x32221b, _0x1d1aa1) {
                    return _0x32221b(_0x1d1aa1);
                },
                'NNlqJ': function (_0x1475e4, _0x36b8c0) {
                    return _0x1475e4 instanceof _0x36b8c0;
                },
                'iLRoj': function (_0x3d10f7, _0x29bcc0) {
                    return _0x3d10f7(_0x29bcc0);
                },
                'biByT': function (_0x1b1611, _0x47d523) {
                    return _0x1b1611(_0x47d523);
                },
                'wXoGN': _0x41c85f(0x10b),
                'XMEqy': function (_0x42c316, _0x2e7125) {
                    return _0x42c316(_0x2e7125);
                }
            };
        function _0x2bb49c(_0x33efa7) {
            const _0x1f19a6 = _0x41c85f;
            return _0xb0ed6[_0x1f19a6(0x106)](_0x33efa7, _0x3932ae) ? _0x33efa7 : new _0x3932ae(function (_0x29732e) {
                const _0x5dcf02 = _0x1f19a6;
                _0xb0ed6[_0x5dcf02(0x119)](_0x29732e, _0x33efa7);
            });
        }
        return new (_0x3932ae || (_0x3932ae = Promise))(function (_0x400f34, _0x4e9aaa) {
            const _0x13c9e9 = _0x41c85f, _0x4aa112 = {
                    'HSpQs': function (_0x5e9e5c, _0x1a5c0f) {
                        const _0x1a5795 = _0x1f07;
                        return _0xb0ed6[_0x1a5795(0x110)](_0x5e9e5c, _0x1a5c0f);
                    },
                    'tBBSq': function (_0x54b106, _0x542dbe) {
                        const _0x4b292d = _0x1f07;
                        return _0xb0ed6[_0x4b292d(0x119)](_0x54b106, _0x542dbe);
                    },
                    'xjVQq': _0xb0ed6[_0x13c9e9(0x123)],
                    'wzFtU': function (_0xae9167, _0x15bec1) {
                        const _0x3228c8 = _0x13c9e9;
                        return _0xb0ed6[_0x3228c8(0x119)](_0xae9167, _0x15bec1);
                    }
                };
            function _0x16ac9a(_0x2a67ad) {
                const _0x2ba0dd = _0x13c9e9;
                try {
                    _0x4aa112[_0x2ba0dd(0x126)](_0x2ca023, _0x2bbad0[_0x2ba0dd(0xea)](_0x2a67ad));
                } catch (_0x359a18) {
                    _0x4aa112[_0x2ba0dd(0x126)](_0x4e9aaa, _0x359a18);
                }
            }
            function _0x259ab3(_0x83802c) {
                const _0xe2d497 = _0x13c9e9;
                try {
                    _0x4aa112[_0xe2d497(0x136)](_0x2ca023, _0x2bbad0[_0x4aa112[_0xe2d497(0xf5)]](_0x83802c));
                } catch (_0x1d9e1c) {
                    _0x4aa112[_0xe2d497(0x131)](_0x4e9aaa, _0x1d9e1c);
                }
            }
            function _0x2ca023(_0x22130c) {
                const _0x51c7bc = _0x13c9e9;
                _0x22130c[_0x51c7bc(0x140)] ? _0xb0ed6[_0x51c7bc(0x119)](_0x400f34, _0x22130c[_0x51c7bc(0x13c)]) : _0xb0ed6[_0x51c7bc(0x143)](_0x2bb49c, _0x22130c[_0x51c7bc(0x13c)])[_0x51c7bc(0xdf)](_0x16ac9a, _0x259ab3);
            }
            _0xb0ed6[_0x13c9e9(0x11c)](_0x2ca023, (_0x2bbad0 = _0x2bbad0[_0x13c9e9(0x12a)](_0x584099, _0x208098 || []))[_0x13c9e9(0xea)]());
        });
    }, __importDefault = this && this[_0x3e2c08(0x109) + _0x3e2c08(0xe2)] || function (_0x171337) {
        const _0x4969bc = _0x3e2c08;
        return _0x171337 && _0x171337[_0x4969bc(0xf6)] ? _0x171337 : { 'default': _0x171337 };
    };
const _0x7ecfa1 = {};
_0x7ecfa1[_0x3e2c08(0x13c)] = !![], Object[_0x3e2c08(0x112) + _0x3e2c08(0x135)](exports, _0x3e2c08(0xf6), _0x7ecfa1);
const scw1efoe_zpro_1 = __importDefault(require(_0x3e2c08(0x111) + _0x3e2c08(0xfe) + _0x3e2c08(0x124) + _0x3e2c08(0x134))), MessageZPRO_1 = __importDefault(require(_0x3e2c08(0x114) + _0x3e2c08(0x107) + _0x3e2c08(0xf7))), MessageOffLineZPRO_1 = __importDefault(require(_0x3e2c08(0x114) + _0x3e2c08(0x107) + _0x3e2c08(0xe5) + 'O')), TicketZPRO_1 = __importDefault(require(_0x3e2c08(0x114) + _0x3e2c08(0xfa) + _0x3e2c08(0x125))), ShowTicketServiceZPRO_1 = __importDefault(require(_0x3e2c08(0x138) + _0x3e2c08(0x129) + _0x3e2c08(0xfd) + _0x3e2c08(0xf1))), TenantZPRO_1 = __importDefault(require(_0x3e2c08(0x114) + _0x3e2c08(0x133) + _0x3e2c08(0x125))), UserZPRO_1 = __importDefault(require(_0x3e2c08(0x114) + _0x3e2c08(0x11f) + 'O')), ContactZPRO_1 = __importDefault(require(_0x3e2c08(0x114) + _0x3e2c08(0xee) + _0x3e2c08(0xf7))), ListMessagesService = ({
        pageNumber: pageNumber = '1',
        ticketId: _0x4164f4,
        tenantId: _0x55eeee
    }) => __awaiter(void (-0x2212 + 0x23f3 + 0x1e1 * -0x1), void (0xf * 0x209 + 0x40 + 0x1ec7 * -0x1), void (0x1e60 * -0x1 + -0x10b * 0xd + 0x1 * 0x2bef), function* () {
        const _0x31a170 = _0x3e2c08, _0x551902 = {};
        _0x551902[_0x31a170(0xde)] = _0x31a170(0xe7) + _0x31a170(0x105) + '26', _0x551902[_0x31a170(0xf4)] = _0x31a170(0xed) + 'ts', _0x551902[_0x31a170(0xfc)] = function (_0x43abaa, _0x22a924) {
            return _0x43abaa === _0x22a924;
        }, _0x551902[_0x31a170(0x10a)] = function (_0x2f5b59, _0xc07dd8) {
            return _0x2f5b59 === _0xc07dd8;
        }, _0x551902[_0x31a170(0x139)] = function (_0x6e8d52, _0x142487) {
            return _0x6e8d52 === _0x142487;
        }, _0x551902[_0x31a170(0x12c)] = _0x31a170(0x10c), _0x551902[_0x31a170(0x113)] = function (_0x4ee93f, _0x61fa72) {
            return _0x4ee93f * _0x61fa72;
        }, _0x551902[_0x31a170(0x12d)] = function (_0xad1aa, _0x475879) {
            return _0xad1aa - _0x475879;
        }, _0x551902[_0x31a170(0xeb)] = _0x31a170(0xf2), _0x551902[_0x31a170(0x12e)] = _0x31a170(0x13a), _0x551902[_0x31a170(0x12f)] = _0x31a170(0x12b), _0x551902[_0x31a170(0xe6)] = _0x31a170(0xf9), _0x551902[_0x31a170(0x10f)] = _0x31a170(0xe4) + _0x31a170(0x127), _0x551902[_0x31a170(0x116)] = _0x31a170(0x11b), _0x551902[_0x31a170(0x120)] = _0x31a170(0x118), _0x551902[_0x31a170(0x144)] = _0x31a170(0x108), _0x551902[_0x31a170(0x142)] = _0x31a170(0x115), _0x551902[_0x31a170(0x117)] = _0x31a170(0x11e), _0x551902[_0x31a170(0x11d)] = _0x31a170(0x132), _0x551902[_0x31a170(0x128)] = function (_0x2bd704, _0xd95ce9) {
            return _0x2bd704 === _0xd95ce9;
        }, _0x551902[_0x31a170(0xf0)] = function (_0xf8fa5d, _0x307d86) {
            return _0xf8fa5d > _0x307d86;
        }, _0x551902[_0x31a170(0xf3)] = function (_0x14a64f, _0x3ea11c) {
            return _0x14a64f + _0x3ea11c;
        };
        const _0x42aadc = _0x551902, _0x5248b8 = {};
        _0x5248b8['id'] = _0x4164f4, _0x5248b8[_0x31a170(0x104)] = _0x55eeee;
        const _0x10b79e = yield (-0xa3e + -0xb3a * -0x2 + -0xc36, ShowTicketServiceZPRO_1[_0x31a170(0x141)])(_0x5248b8);
        if (!_0x10b79e)
            throw new scw1efoe_zpro_1[(_0x31a170(0x141))](_0x42aadc[_0x31a170(0xde)], 0x1701 + 0x66f + -0x1bdc);
        const _0x419269 = {};
        _0x419269['id'] = _0x55eeee;
        const _0x26a80d = {};
        _0x26a80d[_0x31a170(0x100)] = _0x419269, _0x26a80d[_0x31a170(0x121)] = [_0x42aadc[_0x31a170(0xf4)]];
        const _0x44d96c = yield TenantZPRO_1[_0x31a170(0x141)][_0x31a170(0xe0)](_0x26a80d), _0x294459 = {};
        _0x294459[_0x31a170(0x11b)] = _0x10b79e[_0x31a170(0x11b)], _0x294459[_0x31a170(0x118)] = _0x10b79e[_0x31a170(0x118)], _0x294459[_0x31a170(0x108)] = _0x10b79e[_0x31a170(0x108)];
        let _0x2ca563 = _0x294459;
        _0x42aadc[_0x31a170(0xfc)](_0x42aadc[_0x31a170(0x10a)](_0x44d96c, null) || _0x42aadc[_0x31a170(0x139)](_0x44d96c, void (0x233 * 0x2 + 0x1244 + 0xb55 * -0x2)) ? void (0x9 * 0x34c + -0x1 * -0xe27 + -0x2bd3) : _0x44d96c[_0x31a170(0xed) + 'ts'], _0x42aadc[_0x31a170(0x12c)]) && delete _0x2ca563[_0x31a170(0x11b)];
        const _0x4914cb = 0x91f + 0x2474 + 0x50d * -0x9, _0x5eee77 = _0x42aadc[_0x31a170(0x113)](_0x4914cb, _0x42aadc[_0x31a170(0x12d)](+pageNumber, 0x1 * -0x2567 + 0xaca + -0x1a9e * -0x1)), {
                count: _0x5b0bc9,
                rows: _0x54249c
            } = yield MessageZPRO_1[_0x31a170(0x141)][_0x31a170(0x13f) + _0x31a170(0x13e)]({
                'limit': _0x4914cb,
                'include': [
                    _0x42aadc[_0x31a170(0xeb)],
                    {
                        'model': MessageZPRO_1[_0x31a170(0x141)],
                        'as': _0x42aadc[_0x31a170(0x12e)],
                        'include': [{
                                'model': ContactZPRO_1[_0x31a170(0x141)],
                                'as': _0x42aadc[_0x31a170(0xeb)],
                                'attributes': [
                                    'id',
                                    _0x42aadc[_0x31a170(0x12f)],
                                    _0x42aadc[_0x31a170(0xe6)],
                                    _0x42aadc[_0x31a170(0x10f)]
                                ]
                            }]
                    },
                    {
                        'model': TicketZPRO_1[_0x31a170(0x141)],
                        'where': _0x2ca563,
                        'required': !![],
                        'attributes': {
                            'include': [
                                'id',
                                _0x42aadc[_0x31a170(0x116)],
                                _0x42aadc[_0x31a170(0x120)],
                                _0x42aadc[_0x31a170(0x144)]
                            ]
                        },
                        'include': [{
                                'model': UserZPRO_1[_0x31a170(0x141)],
                                'as': _0x42aadc[_0x31a170(0x142)],
                                'attributes': [
                                    'id',
                                    _0x42aadc[_0x31a170(0x12f)]
                                ]
                            }]
                    },
                    {
                        'model': UserZPRO_1[_0x31a170(0x141)],
                        'attributes': [_0x42aadc[_0x31a170(0x12f)]]
                    }
                ],
                'offset': _0x5eee77,
                'order': [[
                        _0x42aadc[_0x31a170(0x117)],
                        _0x42aadc[_0x31a170(0x11d)]
                    ]]
            });
        let _0x11ad89 = [];
        if (_0x42aadc[_0x31a170(0x128)](+pageNumber, -0x1 * -0xb9c + 0x1 * -0x957 + -0x244)) {
            const _0x2e793f = {};
            _0x2e793f[_0x31a170(0xe9)] = _0x4164f4;
            const _0x5dde70 = {};
            _0x5dde70[_0x31a170(0x100)] = _0x2e793f, _0x5dde70[_0x31a170(0x103)] = [
                _0x42aadc[_0x31a170(0xeb)],
                {
                    'model': MessageZPRO_1[_0x31a170(0x141)],
                    'as': _0x42aadc[_0x31a170(0x12e)],
                    'include': [_0x42aadc[_0x31a170(0xeb)]]
                }
            ], _0x5dde70[_0x31a170(0x13b)] = [[
                    _0x42aadc[_0x31a170(0x117)],
                    _0x42aadc[_0x31a170(0x11d)]
                ]];
            const {rows: _0x1cbf6d} = yield MessageOffLineZPRO_1[_0x31a170(0x141)][_0x31a170(0x13f) + _0x31a170(0x13e)](_0x5dde70);
            _0x11ad89 = _0x1cbf6d;
        }
        const _0x4372cb = _0x42aadc[_0x31a170(0xf0)](_0x5b0bc9, _0x42aadc[_0x31a170(0xf3)](_0x5eee77, _0x54249c[_0x31a170(0xe3)]));
        return {
            'messages': _0x54249c[_0x31a170(0xec)](),
            'messagesOffLine': _0x11ad89,
            'ticket': _0x10b79e,
            'count': _0x5b0bc9,
            'hasMore': _0x4372cb
        };
    });
function _0x1f07(_0x56cfc4, _0x116927) {
    const _0x3fcd6f = _0x310c();
    return _0x1f07 = function (_0x5716e2, _0x18e030) {
        _0x5716e2 = _0x5716e2 - (-0x10e3 + 0x4b7 + 0x1 * 0xd0a);
        let _0x43e44b = _0x3fcd6f[_0x5716e2];
        return _0x43e44b;
    }, _0x1f07(_0x56cfc4, _0x116927);
}
exports[_0x3e2c08(0x141)] = ListMessagesService;
function _0x310c() {
    const _0xb7418d = [
        '../TicketS',
        'JhPRA',
        'quotedMsg',
        'order',
        'value',
        '2101hqQHiX',
        'ntAll',
        'findAndCou',
        'done',
        'default',
        'ldkRf',
        'iLRoj',
        'OLNly',
        'gUDjo',
        'then',
        'findOne',
        '28104MPGRLv',
        'fault',
        'length',
        'profilePic',
        'OffLineZPR',
        'rGcsy',
        'ERR_NO_TIC',
        '1269796HxGaAK',
        'ticketId',
        'next',
        'CkmMm',
        'reverse',
        'groupTicke',
        'ls/Contact',
        '257194hqljfs',
        'VTMfT',
        'rviceZPRO',
        'contact',
        'HVoAf',
        'UWhre',
        'xjVQq',
        '__esModule',
        'ZPRO',
        '94779ItujGW',
        'number',
        'ls/TicketZ',
        '191552pHVtcr',
        'rBXFy',
        'owTicketSe',
        '0s48_zpro/',
        '60145oYqcOO',
        'where',
        '48pNVmtg',
        '26FeRcnp',
        'include',
        'tenantId',
        'KET_FOUND_',
        'NNlqJ',
        'ls/Message',
        'whatsappId',
        '__importDe',
        'rlaGA',
        'throw',
        'enabled',
        '110LnCThu',
        '222AlCmgH',
        'wcbWz',
        'biByT',
        '../../y20r',
        'defineProp',
        'odhGm',
        '../../mode',
        'user',
        'fSdGB',
        'CbRTI',
        'contactId',
        'TisSp',
        '6xAWmQP',
        'queueId',
        'XMEqy',
        'IXMjk',
        'createdAt',
        'ls/UserZPR',
        'OuRwT',
        'attributes',
        '3653426bizhjK',
        'wXoGN',
        'scw1efoe_z',
        'PRO',
        'HSpQs',
        'Url',
        'jJvcz',
        'ervices/Sh',
        'apply',
        'name',
        'WHjjc',
        'abGFW',
        'DCoQb',
        'ZuHHN',
        '__awaiter',
        'wzFtU',
        'DESC',
        'ls/TenantZ',
        'pro',
        'erty',
        'tBBSq',
        '1kftWqW'
    ];
    _0x310c = function () {
        return _0xb7418d;
    };
    return _0x310c();
}