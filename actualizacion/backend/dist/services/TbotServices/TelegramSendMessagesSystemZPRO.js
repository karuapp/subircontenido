'use strict';
const _0x508569 = _0x19ef;
(function (_0x44e5d4, _0x587fb5) {
    const _0x516430 = _0x19ef, _0x2ddd5c = _0x44e5d4();
    while (!![]) {
        try {
            const _0x5be305 = parseInt(_0x516430(0x15f)) / (0x52a + -0x1a02 * -0x1 + 0x65 * -0x4f) * (-parseInt(_0x516430(0x132)) / (-0x1aff * -0x1 + -0x213c + 0x63f)) + -parseInt(_0x516430(0x10e)) / (-0x1aed + -0x1567 + 0x3057) * (parseInt(_0x516430(0x155)) / (0x1aff + 0x929 * -0x2 + 0x8a9 * -0x1)) + parseInt(_0x516430(0x142)) / (0xed2 + 0x3 * 0x53d + -0x117 * 0x1c) + parseInt(_0x516430(0x13f)) / (0x1a5c + -0x22e6 + -0x10 * -0x89) + parseInt(_0x516430(0xeb)) / (0x26e6 + 0x83 * -0x3a + 0x931 * -0x1) * (parseInt(_0x516430(0x160)) / (-0x337 * -0xb + -0x6 * 0xb + -0x1 * 0x2313)) + parseInt(_0x516430(0x11d)) / (-0x42a * -0x3 + -0x3bf * 0x4 + 0x1 * 0x287) + parseInt(_0x516430(0xe8)) / (-0x1af8 + -0x1cef + -0x37f1 * -0x1) * (-parseInt(_0x516430(0xfe)) / (-0x757 * -0x3 + 0x1 * 0x1547 + 0x1 * -0x2b41));
            if (_0x5be305 === _0x587fb5)
                break;
            else
                _0x2ddd5c['push'](_0x2ddd5c['shift']());
        } catch (_0x348028) {
            _0x2ddd5c['push'](_0x2ddd5c['shift']());
        }
    }
}(_0x3a54, -0xe2ff + 0x3acfb + -0x2 * 0x4f73));
function _0x3a54() {
    const _0xfaab5b = [
        ':::\x20WHATITAN\x20',
        '../../astp',
        ':::\x20WHATITAN\x20::',
        'throw',
        'reply_to_m',
        'VYqYB',
        'BBMWQ',
        'nd\x20message',
        '3130140cKSSQJ',
        'MpRly',
        'sendVoice',
        '7gyCpAL',
        'KVVVm',
        'mcsQh',
        'date',
        'mediaUrl',
        'TUdLe',
        'logger',
        'rIXyo',
        'ls/TicketZ',
        'ge1r_zpro/',
        'findAll',
        'pro',
        'TTodt',
        'sequelize',
        'sQlNE',
        'CgalS',
        'join',
        ')::\x20',
        'PRO',
        '11nuKFMr',
        'ASC',
        '__awaiter',
        'toString',
        'ZPRO',
        'CMZQg',
        'then',
        'pending',
        'path',
        'createdAt',
        'closed',
        'age\x20is\x20(te',
        'quotedMsg',
        'ecYWp',
        'defineProp',
        '../../qozl',
        '3QcuoEY',
        'NAzpi',
        'image',
        'fs26ec_zpr',
        'done',
        'czLDA',
        'public',
        'xLhwI',
        '\x20|\x20Ticket:',
        'default',
        'sended',
        'dataValues',
        'hKmYk',
        'erty',
        'sendMessag',
        '600264psUsgD',
        'update',
        'rzzMa',
        'Error\x20mess',
        'ZaPFW',
        'dvFuX',
        'KcNKK',
        'body',
        'ticket',
        'xbj_zpro',
        'message_id',
        'chat',
        'mediaType',
        'tenantId',
        'where',
        'text',
        '__importDe',
        '../../zltz',
        'lte',
        'fault',
        'next',
        '20PxyWDo',
        'HezVA',
        'video',
        'zdTSL',
        'apply',
        'assign',
        'mediaName',
        'sendVideo',
        'includes',
        '\x208\x20(id:\x20',
        'value',
        'ptt',
        'sendPhoto',
        '1270890EgPMHN',
        'ls/Message',
        'lpbCd',
        '254990WJKzaA',
        'timestamp',
        'o/i7ngft_z',
        'fnhXD',
        'wTNjR',
        'warn',
        'telegramId',
        'sendDocume',
        'WxfXP',
        '__esModule',
        'iCziF',
        'contact',
        'messageId',
        ':\x20Error\x20se',
        'error',
        'nant:\x20',
        'EtwlK',
        'telegram',
        'essage_id',
        '213144onNHsd',
        'wLNsw',
        'iui_zpro',
        'dmiAk',
        'vYbhK',
        'chat:ack',
        'source',
        'LDgOa',
        'audio',
        'hq_zpro/fx',
        '8237aHLcqy',
        '2090104AAMwSx',
        '../../mode'
    ];
    _0x3a54 = function () {
        return _0xfaab5b;
    };
    return _0x3a54();
}
var __awaiter = this && this[_0x508569(0x100)] || function (_0x1474f8, _0x229bb0, _0x54dafd, _0x5d692f) {
        const _0x4936f8 = _0x508569, _0xf2fad2 = {
                'lpbCd': function (_0x5d6acc, _0x5c2e22) {
                    return _0x5d6acc(_0x5c2e22);
                },
                'mcsQh': function (_0x26b352, _0x3da486) {
                    return _0x26b352 instanceof _0x3da486;
                },
                'wLNsw': function (_0xfcd699, _0x353b0e) {
                    return _0xfcd699(_0x353b0e);
                },
                'MpRly': function (_0x44d05b, _0x46ba74) {
                    return _0x44d05b(_0x46ba74);
                },
                'rIXyo': function (_0x451e82, _0x5cc438) {
                    return _0x451e82(_0x5cc438);
                },
                'TTodt': _0x4936f8(0x165)
            };
        function _0x1b7f59(_0x561577) {
            const _0x345be9 = _0x4936f8, _0x486855 = {
                    'vYbhK': function (_0x59bec2, _0xbac387) {
                        const _0x553bf5 = _0x19ef;
                        return _0xf2fad2[_0x553bf5(0x141)](_0x59bec2, _0xbac387);
                    }
                };
            return _0xf2fad2[_0x345be9(0xed)](_0x561577, _0x54dafd) ? _0x561577 : new _0x54dafd(function (_0x463bb3) {
                const _0x421cfd = _0x345be9;
                _0x486855[_0x421cfd(0x159)](_0x463bb3, _0x561577);
            });
        }
        return new (_0x54dafd || (_0x54dafd = Promise))(function (_0x3bd169, _0x5350fc) {
            const _0x85941c = _0x4936f8, _0x24d3c6 = {
                    'WxfXP': function (_0x594b9a, _0xccf841) {
                        const _0x554c12 = _0x19ef;
                        return _0xf2fad2[_0x554c12(0xe9)](_0x594b9a, _0xccf841);
                    },
                    'HezVA': function (_0x25f32a, _0x4fe3fe) {
                        const _0x17809f = _0x19ef;
                        return _0xf2fad2[_0x17809f(0xf2)](_0x25f32a, _0x4fe3fe);
                    },
                    'xLhwI': function (_0x351377, _0x10a594) {
                        const _0x37c159 = _0x19ef;
                        return _0xf2fad2[_0x37c159(0xe9)](_0x351377, _0x10a594);
                    },
                    'zdTSL': _0xf2fad2[_0x85941c(0xf7)],
                    'KVVVm': function (_0x1988f7, _0x529dbc) {
                        const _0x3686c7 = _0x85941c;
                        return _0xf2fad2[_0x3686c7(0x141)](_0x1988f7, _0x529dbc);
                    }
                };
            function _0x409882(_0x1a830e) {
                const _0xb3a078 = _0x85941c;
                try {
                    _0x24d3c6[_0xb3a078(0x14a)](_0x435d51, _0x5d692f[_0xb3a078(0x131)](_0x1a830e));
                } catch (_0x6a9abe) {
                    _0x24d3c6[_0xb3a078(0x133)](_0x5350fc, _0x6a9abe);
                }
            }
            function _0x43d5af(_0x55ca20) {
                const _0x2089d1 = _0x85941c;
                try {
                    _0x24d3c6[_0x2089d1(0x115)](_0x435d51, _0x5d692f[_0x24d3c6[_0x2089d1(0x135)]](_0x55ca20));
                } catch (_0x4bce7c) {
                    _0x24d3c6[_0x2089d1(0xec)](_0x5350fc, _0x4bce7c);
                }
            }
            function _0x435d51(_0x3d8564) {
                const _0x1d06a2 = _0x85941c;
                _0x3d8564[_0x1d06a2(0x112)] ? _0xf2fad2[_0x1d06a2(0x141)](_0x3bd169, _0x3d8564[_0x1d06a2(0x13c)]) : _0xf2fad2[_0x1d06a2(0x156)](_0x1b7f59, _0x3d8564[_0x1d06a2(0x13c)])[_0x1d06a2(0x104)](_0x409882, _0x43d5af);
            }
            _0xf2fad2[_0x85941c(0xf2)](_0x435d51, (_0x5d692f = _0x5d692f[_0x85941c(0x136)](_0x1474f8, _0x229bb0 || []))[_0x85941c(0x131)]());
        });
    }, __importDefault = this && this[_0x508569(0x12d) + _0x508569(0x130)] || function (_0x3bd61f) {
        const _0x52c6cd = _0x508569;
        return _0x3bd61f && _0x3bd61f[_0x52c6cd(0x14b)] ? _0x3bd61f : { 'default': _0x3bd61f };
    };
const _0x3f6830 = {};
function _0x19ef(_0x1f9e8b, _0xc3c79e) {
    const _0xcd3a9 = _0x3a54();
    return _0x19ef = function (_0x2b9782, _0x3e6384) {
        _0x2b9782 = _0x2b9782 - (-0x12 * -0x2b + -0x1d17 + 0x1af5);
        let _0x235ddf = _0xcd3a9[_0x2b9782];
        return _0x235ddf;
    }, _0x19ef(_0x1f9e8b, _0xc3c79e);
}
_0x3f6830[_0x508569(0x13c)] = !![], Object[_0x508569(0x10c) + _0x508569(0x11b)](exports, _0x508569(0x14b), _0x3f6830);
const path_1 = require(_0x508569(0x106)), sequelize_1 = require(_0x508569(0xf8)), i7ngft_zpro_1 = __importDefault(require(_0x508569(0x163) + _0x508569(0x111) + _0x508569(0x144) + _0x508569(0xf6))), xbj_zpro_1 = __importDefault(require(_0x508569(0x12e) + _0x508569(0xf4) + _0x508569(0x126))), MessageZPRO_1 = __importDefault(require(_0x508569(0x161) + _0x508569(0x140) + _0x508569(0x102))), TicketZPRO_1 = __importDefault(require(_0x508569(0x161) + _0x508569(0xf3) + _0x508569(0xfd))), fxiui_zpro_1 = require(_0x508569(0x10d) + _0x508569(0x15e) + _0x508569(0x157)), SendMessagesSystemWbot = (_0x5ed82f, _0x22c7e4) => __awaiter(void (0x87c + -0x6d7 * 0x2 + 0x532), void (0x270d + -0x1f3 * -0x7 + -0x1a59 * 0x2), void (0x393 + 0x813 + -0xba6), function* () {
        const _0x2835e7 = _0x508569, _0x1f2fe5 = {};
        _0x1f2fe5[_0x2835e7(0x145)] = _0x2835e7(0x105), _0x1f2fe5[_0x2835e7(0x103)] = _0x2835e7(0x14d), _0x1f2fe5[_0x2835e7(0x123)] = _0x2835e7(0x125), _0x1f2fe5[_0x2835e7(0x15c)] = _0x2835e7(0x108), _0x1f2fe5[_0x2835e7(0x146)] = _0x2835e7(0x153), _0x1f2fe5[_0x2835e7(0xe5)] = _0x2835e7(0x10a), _0x1f2fe5[_0x2835e7(0x10f)] = _0x2835e7(0x107), _0x1f2fe5[_0x2835e7(0xfa)] = _0x2835e7(0xff), _0x1f2fe5[_0x2835e7(0xe6)] = _0x2835e7(0x128), _0x1f2fe5[_0x2835e7(0x11f)] = _0x2835e7(0x12c), _0x1f2fe5[_0x2835e7(0x10b)] = _0x2835e7(0x114), _0x1f2fe5[_0x2835e7(0x152)] = function (_0xb04974, _0x17ed3e) {
            return _0xb04974 === _0x17ed3e;
        }, _0x1f2fe5[_0x2835e7(0x121)] = _0x2835e7(0x15d), _0x1f2fe5[_0x2835e7(0x11a)] = _0x2835e7(0x13d), _0x1f2fe5[_0x2835e7(0xf0)] = function (_0x2fcaab, _0x24ddf8) {
            return _0x2fcaab === _0x24ddf8;
        }, _0x1f2fe5[_0x2835e7(0x122)] = _0x2835e7(0x110), _0x1f2fe5[_0x2835e7(0x158)] = _0x2835e7(0x134), _0x1f2fe5[_0x2835e7(0x113)] = function (_0x5471a5, _0x5bcbb5) {
            return _0x5471a5 * _0x5bcbb5;
        }, _0x1f2fe5[_0x2835e7(0xf9)] = _0x2835e7(0x118), _0x1f2fe5[_0x2835e7(0x14c)] = _0x2835e7(0x15a);
        const _0x43422b = _0x1f2fe5, _0x277b38 = { [sequelize_1['Op']['is']]: null }, _0x188591 = {
                'fromMe': !![],
                'messageId': _0x277b38,
                'status': _0x43422b[_0x2835e7(0x145)],
                [sequelize_1['Op']['or']]: [
                    { 'scheduleDate': { [sequelize_1['Op'][_0x2835e7(0x12f)]]: new Date() } },
                    { 'scheduleDate': { [sequelize_1['Op']['is']]: null } }
                ]
            }, _0x5015b3 = yield MessageZPRO_1[_0x2835e7(0x117)][_0x2835e7(0xf5)]({
                'where': _0x188591,
                'include': [
                    _0x43422b[_0x2835e7(0x103)],
                    {
                        'model': TicketZPRO_1[_0x2835e7(0x117)],
                        'as': _0x43422b[_0x2835e7(0x123)],
                        'where': {
                            'tenantId': _0x22c7e4,
                            [sequelize_1['Op']['or']]: {
                                'status': { [sequelize_1['Op']['ne']]: _0x43422b[_0x2835e7(0x15c)] },
                                'isFarewellMessage': !![]
                            },
                            'channel': _0x43422b[_0x2835e7(0x146)],
                            'whatsappId': _0x5ed82f['id']
                        },
                        'include': [_0x43422b[_0x2835e7(0x103)]]
                    },
                    {
                        'model': MessageZPRO_1[_0x2835e7(0x117)],
                        'as': _0x43422b[_0x2835e7(0xe5)],
                        'include': [_0x43422b[_0x2835e7(0x103)]]
                    }
                ],
                'order': [[
                        _0x43422b[_0x2835e7(0x10f)],
                        _0x43422b[_0x2835e7(0xfa)]
                    ]]
            });
        let _0xa5deba;
        for (const _0xbaffab of _0x5015b3) {
            const _0x5517bb = _0xbaffab, {ticket: _0x8e52ec} = _0x5517bb, _0x44d61b = _0x8e52ec[_0x2835e7(0x14d)][_0x2835e7(0x148)], _0x1ef6b1 = {};
            _0x5517bb[_0x2835e7(0x10a)] && (_0x1ef6b1[_0x2835e7(0xe4) + _0x2835e7(0x154)] = _0x5517bb[_0x2835e7(0x10a)][_0x2835e7(0x14e)]);
            try {
                if (![
                        _0x43422b[_0x2835e7(0xe6)],
                        _0x43422b[_0x2835e7(0x11f)]
                    ][_0x2835e7(0x13a)](_0x5517bb[_0x2835e7(0x129)]) && _0x5517bb[_0x2835e7(0x138)]) {
                    const _0x54010b = (0x26d0 + 0x1 * -0x335 + -0x239b, path_1[_0x2835e7(0xfb)])(__dirname, '..', '..', '..', _0x43422b[_0x2835e7(0x10b)], _0x22c7e4[_0x2835e7(0x101)]()), _0x4a0153 = (0x25f * 0x1 + 0x16e4 + -0x1d * 0xdf, path_1[_0x2835e7(0xfb)])(_0x54010b, _0x5517bb[_0x2835e7(0x138)]);
                    if (_0x43422b[_0x2835e7(0x152)](_0x5517bb[_0x2835e7(0x129)], _0x43422b[_0x2835e7(0x121)]) || _0x43422b[_0x2835e7(0x152)](_0x5517bb[_0x2835e7(0x129)], _0x43422b[_0x2835e7(0x11a)])) {
                        const _0x55bd02 = {};
                        _0x55bd02[_0x2835e7(0x15b)] = _0x4a0153, _0xa5deba = yield _0x5ed82f[_0x2835e7(0x153)][_0x2835e7(0xea)](_0x44d61b, _0x55bd02, _0x1ef6b1);
                    } else {
                        if (_0x43422b[_0x2835e7(0xf0)](_0x5517bb[_0x2835e7(0x129)], _0x43422b[_0x2835e7(0x122)])) {
                            const _0x107495 = {};
                            _0x107495[_0x2835e7(0x15b)] = _0x4a0153, _0xa5deba = yield _0x5ed82f[_0x2835e7(0x153)][_0x2835e7(0x13e)](_0x44d61b, _0x107495, _0x1ef6b1);
                        } else {
                            if (_0x43422b[_0x2835e7(0x152)](_0x5517bb[_0x2835e7(0x129)], _0x43422b[_0x2835e7(0x158)])) {
                                const _0x319485 = {};
                                _0x319485[_0x2835e7(0x15b)] = _0x4a0153, _0xa5deba = yield _0x5ed82f[_0x2835e7(0x153)][_0x2835e7(0x139)](_0x44d61b, _0x319485, _0x1ef6b1);
                            } else {
                                const _0x3572ec = {};
                                _0x3572ec[_0x2835e7(0x15b)] = _0x4a0153, _0xa5deba = yield _0x5ed82f[_0x2835e7(0x153)][_0x2835e7(0x149) + 'nt'](_0x44d61b, _0x3572ec, _0x1ef6b1);
                            }
                        }
                    }
                } else
                    _0xa5deba = yield _0x5ed82f[_0x2835e7(0x153)][_0x2835e7(0x11c) + 'e'](_0x44d61b, _0x5517bb[_0x2835e7(0x124)], _0x1ef6b1);
                const _0x580285 = Object[_0x2835e7(0x137)](Object[_0x2835e7(0x137)](Object[_0x2835e7(0x137)]({}, _0x5517bb), _0xa5deba), {
                        'id': _0x5517bb['id'],
                        'timestamp': _0x43422b[_0x2835e7(0x113)](_0xa5deba[_0x2835e7(0xee)], 0xec6 + -0x1 * -0x1874 + -0x336 * 0xb),
                        'messageId': _0xa5deba[_0x2835e7(0x127)],
                        'status': _0x43422b[_0x2835e7(0xf9)],
                        'ack': 0x2
                    }), _0x22d948 = {};
                _0x22d948['id'] = _0x5517bb['id'];
                const _0x2e5549 = {};
                _0x2e5549[_0x2835e7(0x12b)] = _0x22d948, yield MessageZPRO_1[_0x2835e7(0x117)][_0x2835e7(0x11e)](Object[_0x2835e7(0x137)]({}, _0x580285), _0x2e5549), (-0x1 * 0x2fb + 0xcb * -0x31 + 0x29d6, xbj_zpro_1[_0x2835e7(0x117)])({
                    'tenantId': _0x8e52ec[_0x2835e7(0x12a)],
                    'type': _0x43422b[_0x2835e7(0x14c)],
                    'payload': Object[_0x2835e7(0x137)](Object[_0x2835e7(0x137)]({}, _0x5517bb[_0x2835e7(0x119)]), {
                        'id': _0x5517bb['id'],
                        'mediaUrl': _0x5517bb[_0x2835e7(0xef)],
                        'timestamp': _0x580285[_0x2835e7(0x143)],
                        'messageId': _0xa5deba[_0x2835e7(0x127)],
                        'status': _0x43422b[_0x2835e7(0xf9)],
                        'ack': 0x2
                    })
                }), yield (0x1b85 + 0x19 * 0x1a + -0x1e0f, i7ngft_zpro_1[_0x2835e7(0x117)])(_0x8e52ec);
            } catch (_0x67ea85) {
                const _0x2e7f82 = _0x5517bb['id'], _0xa52c8c = _0x5517bb[_0x2835e7(0x125)]['id'];
                fxiui_zpro_1[_0x2835e7(0xf1)][_0x2835e7(0x150)](_0x2835e7(0x120) + _0x2835e7(0x109) + _0x2835e7(0x151) + _0x22c7e4 + (_0x2835e7(0x116) + '\x20') + _0xa52c8c + ')'), fxiui_zpro_1[_0x2835e7(0xf1)][_0x2835e7(0x147)](_0x2835e7(0x162) + _0x2835e7(0x164) + _0x2835e7(0x14f) + _0x2835e7(0xe7) + _0x2835e7(0x13b) + _0x2e7f82 + _0x2835e7(0xfc) + _0x67ea85);
            }
        }
    });
exports[_0x508569(0x117)] = SendMessagesSystemWbot;