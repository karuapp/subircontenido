'use strict';
function _0x5728() {
    const _0x3b3704 = [
        'logger',
        'message',
        'info',
        'toLowerCas',
        'join',
        '__importDe',
        'readFileSy',
        'YsiWr',
        'WsYfN',
        '\x20for\x20tenan',
        'agentId',
        'ted:\x20',
        ':\x20Agent\x20co',
        'buhNw',
        '__esModule',
        'ssível\x20enc',
        '../../../p',
        'cIuBU',
        '18ZBjCpd',
        'instruções',
        'tPyKs',
        'um\x20agente\x20',
        'pONXk',
        'do\x20do\x20agen',
        'Já\x20existe\x20',
        '\x20no\x20arquiv',
        'OrNxI',
        'done',
        'te:\x20',
        'ync',
        'sqkgy',
        'iui_zpro',
        'hq_zpro/fx',
        'structions',
        'ntrado',
        'dating\x20age',
        'ULoLY',
        '__awaiter',
        '../../qozl',
        '647673OnEPYg',
        'next',
        'utf8',
        'Erro\x20ao\x20ob',
        '42VIWEhn',
        'com\x20o\x20nome',
        'HigkD',
        'uHlQa',
        'replace',
        'ontrar\x20as\x20',
        '107602OUhypZ',
        'ido',
        'ns:\x20\x22',
        'Nome\x20do\x20ag',
        'path',
        '\x20updated:\x20',
        'uzXtG',
        'bNmrM',
        'hRbtI',
        'tting\x20agen',
        'RgIpb',
        'writeFileS',
        'filePath',
        'iNrkV',
        ':\x20Error\x20up',
        'existsSync',
        'Agente\x20\x27',
        'GZamO',
        'error',
        'erty',
        'ter\x20conteú',
        '207160rzFrGp',
        ':::\x20WHATITAN\x20::',
        'ns:\x20`',
        'throw',
        'e:\x20',
        'avbIR',
        '5WkdyDp',
        ':\x20Agent\x20in',
        'apply',
        'Erro\x20ao\x20ed',
        'instructio',
        '213664rdSUXa',
        'nt\x20instruc',
        'tenantId',
        'hzEfF',
        'ntent\x20upda',
        'ghGoz',
        'o\x20do\x20agent',
        ':::\x20WHATITAN\x20',
        't\x20content\x20',
        '1671894ziHXzW',
        ':\x20Error\x20ed',
        'KzEwG',
        'defineProp',
        'ente\x20invál',
        'uzMqr',
        'editAgent',
        '23159whASKE',
        'itar\x20agent',
        '.ts',
        'cyYsk',
        'resolve',
        'tions:',
        'value',
        'iting\x20agen',
        '15642jyRYSN',
        '310yRGMol',
        'then',
        'fault',
        'agent',
        'getAgentCo',
        'default',
        'THqWg',
        'ublic',
        'No\x20foi\x20po',
        ':\x20Error\x20ge',
        'TCeYA',
        '\x27\x20No\x20enco',
        'renameSync',
        'success',
        'ntent'
    ];
    _0x5728 = function () {
        return _0x3b3704;
    };
    return _0x5728();
}
const _0x208120 = _0x12dd;
(function (_0x5cfe9b, _0x2855a0) {
    const _0x50740a = _0x12dd, _0x1f814a = _0x5cfe9b();
    while (!![]) {
        try {
            const _0x1d6c58 = parseInt(_0x50740a(0x191)) / (-0xa09 + -0x16b1 + 0x20bb) * (-parseInt(_0x50740a(0x1bb)) / (-0xcff + -0x13e7 + -0x4e * -0x6c)) + parseInt(_0x50740a(0x1d0)) / (-0x1ef4 + -0x1275 + 0x316c) + -parseInt(_0x50740a(0x1ef)) / (0x1 * 0x25e7 + 0x975 + -0x2f58) * (-parseInt(_0x50740a(0x1f5)) / (-0xb * 0x259 + -0x589 + 0x1f61)) + -parseInt(_0x50740a(0x199)) / (0x1399 + -0x30f + -0x1084) * (-parseInt(_0x50740a(0x1d4)) / (0x1251 + -0x241e + 0xa3 * 0x1c)) + -parseInt(_0x50740a(0x1fa)) / (0x7e1 * 0x3 + 0x1 * -0x14b1 + -0x2ea) + -parseInt(_0x50740a(0x18a)) / (-0x1 * -0x985 + -0x1a * -0x68 + 0x503 * -0x4) + parseInt(_0x50740a(0x19a)) / (0xcd3 + 0x5e5 + -0x12ae) * (parseInt(_0x50740a(0x1da)) / (0x5dc + -0x192f + 0x135e));
            if (_0x1d6c58 === _0x2855a0)
                break;
            else
                _0x1f814a['push'](_0x1f814a['shift']());
        } catch (_0x26324b) {
            _0x1f814a['push'](_0x1f814a['shift']());
        }
    }
}(_0x5728, 0x43517 + 0x2d71 * 0x17 + 0x6 * -0xf5db));
var __awaiter = this && this[_0x208120(0x1ce)] || function (_0x308317, _0x223a8e, _0x3dff32, _0x15fa35) {
        const _0x325399 = _0x208120, _0x47c563 = {
                'pONXk': function (_0x4a5628, _0x325a55) {
                    return _0x4a5628(_0x325a55);
                },
                'iNrkV': function (_0x4a3d09, _0x516a30) {
                    return _0x4a3d09 instanceof _0x516a30;
                },
                'HigkD': function (_0x8fa6fc, _0x167370) {
                    return _0x8fa6fc(_0x167370);
                },
                'bNmrM': _0x325399(0x1f2),
                'OrNxI': function (_0x114e71, _0x39bae4) {
                    return _0x114e71(_0x39bae4);
                }
            };
        function _0x32edb2(_0x5a0b9f) {
            const _0x1095e6 = _0x325399;
            return _0x47c563[_0x1095e6(0x1e7)](_0x5a0b9f, _0x3dff32) ? _0x5a0b9f : new _0x3dff32(function (_0x57b466) {
                const _0x84268d = _0x1095e6;
                _0x47c563[_0x84268d(0x1bf)](_0x57b466, _0x5a0b9f);
            });
        }
        return new (_0x3dff32 || (_0x3dff32 = Promise))(function (_0x197118, _0x1858f2) {
            const _0x4fba4a = _0x325399, _0xd916cf = {
                    'RgIpb': function (_0x4b040f, _0x42bc30) {
                        const _0x55f9f4 = _0x12dd;
                        return _0x47c563[_0x55f9f4(0x1d6)](_0x4b040f, _0x42bc30);
                    },
                    'avbIR': _0x47c563[_0x4fba4a(0x1e1)],
                    'hRbtI': function (_0x313dd1, _0x21101e) {
                        const _0x3877dc = _0x4fba4a;
                        return _0x47c563[_0x3877dc(0x1bf)](_0x313dd1, _0x21101e);
                    }
                };
            function _0xcd1932(_0x37297e) {
                const _0x3a8109 = _0x4fba4a;
                try {
                    _0xd916cf[_0x3a8109(0x1e4)](_0x354b40, _0x15fa35[_0x3a8109(0x1d1)](_0x37297e));
                } catch (_0x4ed4ce) {
                    _0xd916cf[_0x3a8109(0x1e4)](_0x1858f2, _0x4ed4ce);
                }
            }
            function _0x5b96ce(_0x1eae00) {
                const _0x42378e = _0x4fba4a;
                try {
                    _0xd916cf[_0x42378e(0x1e4)](_0x354b40, _0x15fa35[_0xd916cf[_0x42378e(0x1f4)]](_0x1eae00));
                } catch (_0x47a563) {
                    _0xd916cf[_0x42378e(0x1e2)](_0x1858f2, _0x47a563);
                }
            }
            function _0x354b40(_0x46e7c3) {
                const _0x18149e = _0x4fba4a;
                _0x46e7c3[_0x18149e(0x1c4)] ? _0x47c563[_0x18149e(0x1bf)](_0x197118, _0x46e7c3[_0x18149e(0x197)]) : _0x47c563[_0x18149e(0x1d6)](_0x32edb2, _0x46e7c3[_0x18149e(0x197)])[_0x18149e(0x19b)](_0xcd1932, _0x5b96ce);
            }
            _0x47c563[_0x4fba4a(0x1c3)](_0x354b40, (_0x15fa35 = _0x15fa35[_0x4fba4a(0x1f7)](_0x308317, _0x223a8e || []))[_0x4fba4a(0x1d1)]());
        });
    }, __importDefault = this && this[_0x208120(0x1ae) + _0x208120(0x19c)] || function (_0x14f433) {
        const _0x1d0313 = _0x208120;
        return _0x14f433 && _0x14f433[_0x1d0313(0x1b7)] ? _0x14f433 : { 'default': _0x14f433 };
    };
const _0x3ce25b = {};
_0x3ce25b[_0x208120(0x197)] = !![], Object[_0x208120(0x18d) + _0x208120(0x1ed)](exports, _0x208120(0x1b7), _0x3ce25b), exports[_0x208120(0x19e) + _0x208120(0x1a8)] = exports[_0x208120(0x190)] = void (0x1651 + -0x638 * 0x5 + 0x8c7 * 0x1);
const fs_1 = __importDefault(require('fs')), path_1 = __importDefault(require(_0x208120(0x1de))), fxiui_zpro_1 = require(_0x208120(0x1cf) + _0x208120(0x1c9) + _0x208120(0x1c8));
function _0x12dd(_0x5901c7, _0x5df021) {
    const _0x440602 = _0x5728();
    return _0x12dd = function (_0x59c762, _0x4d69ae) {
        _0x59c762 = _0x59c762 - (-0x1f * -0xd + 0x17 * -0x4d + 0x6db);
        let _0x7e5fb1 = _0x440602[_0x59c762];
        return _0x7e5fb1;
    }, _0x12dd(_0x5901c7, _0x5df021);
}
function editAgent(_0x24f4cf) {
    const _0x1bb547 = _0x208120, _0x493ee1 = {
            'WsYfN': _0x1bb547(0x1b9) + _0x1bb547(0x1a1),
            'KzEwG': _0x1bb547(0x19d),
            'uHlQa': function (_0xa7aa9e, _0x534434) {
                return _0xa7aa9e !== _0x534434;
            },
            'THqWg': function (_0x3079c9, _0x356dc8) {
                return _0x3079c9 === _0x356dc8;
            },
            'YsiWr': _0x1bb547(0x1dd) + _0x1bb547(0x18e) + _0x1bb547(0x1db),
            'ULoLY': _0x1bb547(0x1d2),
            'sqkgy': function (_0x4735e2, _0x51b2c7, _0x1d7cf7) {
                return _0x4735e2(_0x51b2c7, _0x1d7cf7);
            },
            'ghGoz': function (_0x2c8c17, _0xe11dfd, _0x3a1df7, _0x5334c1, _0x4dd50e) {
                return _0x2c8c17(_0xe11dfd, _0x3a1df7, _0x5334c1, _0x4dd50e);
            }
        };
    return _0x493ee1[_0x1bb547(0x186)](__awaiter, this, void (0x1b91 + -0x4df + -0x33e * 0x7), void (0x1dd * 0x5 + -0x196f + 0x1 * 0x101e), function* () {
        const _0x2e3f09 = _0x1bb547;
        try {
            const {
                    tenantId: _0x4a6037,
                    agentId: _0x57a7ea,
                    name: _0xe42f18,
                    instructions: _0xbcbf3c,
                    content: _0x561bfe
                } = _0x24f4cf, _0x1db253 = path_1[_0x2e3f09(0x19f)][_0x2e3f09(0x195)](__dirname, _0x493ee1[_0x2e3f09(0x1b1)], _0x4a6037, _0x493ee1[_0x2e3f09(0x18c)]), _0x53ac16 = path_1[_0x2e3f09(0x19f)][_0x2e3f09(0x1ad)](_0x1db253, _0x57a7ea + _0x2e3f09(0x193));
            if (!fs_1[_0x2e3f09(0x19f)][_0x2e3f09(0x1e9)](_0x53ac16))
                throw new Error(_0x2e3f09(0x1ea) + _0x57a7ea + (_0x2e3f09(0x1a5) + _0x2e3f09(0x1cb)));
            let _0x2655ba = _0x57a7ea, _0x3ad97d = _0x53ac16;
            if (_0xe42f18 && _0x493ee1[_0x2e3f09(0x1d7)](_0xe42f18, _0x57a7ea)) {
                const _0x22c67c = _0xe42f18[_0x2e3f09(0x1ac) + 'e']()[_0x2e3f09(0x1d8)](/[^a-z0-9]/g, '-')[_0x2e3f09(0x1d8)](/-+/g, '-')[_0x2e3f09(0x1d8)](/^-|-$/g, '');
                if (_0x493ee1[_0x2e3f09(0x1a0)](_0x22c67c, ''))
                    throw new Error(_0x493ee1[_0x2e3f09(0x1b0)]);
                const _0x5b28b2 = path_1[_0x2e3f09(0x19f)][_0x2e3f09(0x1ad)](_0x1db253, _0x22c67c + _0x2e3f09(0x193));
                if (fs_1[_0x2e3f09(0x19f)][_0x2e3f09(0x1e9)](_0x5b28b2))
                    throw new Error(_0x2e3f09(0x1c1) + _0x2e3f09(0x1be) + _0x2e3f09(0x1d5) + '\x20\x27' + _0x22c67c + '\x27');
                fs_1[_0x2e3f09(0x19f)][_0x2e3f09(0x1a6)](_0x53ac16, _0x5b28b2), _0x2655ba = _0x22c67c, _0x3ad97d = _0x5b28b2;
            }
            if (_0x561bfe)
                fs_1[_0x2e3f09(0x19f)][_0x2e3f09(0x1e5) + _0x2e3f09(0x1c6)](_0x3ad97d, _0x561bfe, _0x493ee1[_0x2e3f09(0x1cd)]), fxiui_zpro_1[_0x2e3f09(0x1a9)][_0x2e3f09(0x1ab)](_0x2e3f09(0x188) + _0x2e3f09(0x1f0) + _0x2e3f09(0x1b5) + _0x2e3f09(0x185) + _0x2e3f09(0x1b4) + _0x2655ba + (_0x2e3f09(0x1b2) + 't\x20') + _0x4a6037);
            else
                _0xbcbf3c && (yield _0x493ee1[_0x2e3f09(0x1c7)](updateAgentInstructions, _0x3ad97d, _0xbcbf3c), fxiui_zpro_1[_0x2e3f09(0x1a9)][_0x2e3f09(0x1ab)](_0x2e3f09(0x188) + _0x2e3f09(0x1f0) + _0x2e3f09(0x1f6) + _0x2e3f09(0x1ca) + _0x2e3f09(0x1df) + _0x2655ba + (_0x2e3f09(0x1b2) + 't\x20') + _0x4a6037));
            const _0x2832ed = {};
            return _0x2832ed[_0x2e3f09(0x1a7)] = !![], _0x2832ed[_0x2e3f09(0x1b3)] = _0x2655ba, _0x2832ed[_0x2e3f09(0x1e6)] = _0x3ad97d, _0x2832ed;
        } catch (_0x393a99) {
            fxiui_zpro_1[_0x2e3f09(0x1a9)][_0x2e3f09(0x1ec)](_0x2e3f09(0x188) + _0x2e3f09(0x1f0) + _0x2e3f09(0x18b) + _0x2e3f09(0x198) + 't\x20' + _0x24f4cf[_0x2e3f09(0x1b3)] + (_0x2e3f09(0x1b2) + 't\x20') + _0x24f4cf[_0x2e3f09(0x183)] + ':', _0x393a99);
            throw new Error(_0x2e3f09(0x1f8) + _0x2e3f09(0x192) + _0x2e3f09(0x1f3) + _0x393a99[_0x2e3f09(0x1aa)]);
        }
    });
}
exports[_0x208120(0x190)] = editAgent;
function updateAgentInstructions(_0x2ae4f9, _0x50f131) {
    const _0x351f4d = _0x208120, _0x17ab1b = {
            'hzEfF': _0x351f4d(0x1d2),
            'tPyKs': function (_0x462fa7, _0x1beddb) {
                return _0x462fa7 === _0x1beddb;
            },
            'cIuBU': _0x351f4d(0x1a2) + _0x351f4d(0x1b8) + _0x351f4d(0x1d9) + _0x351f4d(0x1bc) + _0x351f4d(0x1c2) + _0x351f4d(0x187) + 'e',
            'TCeYA': _0x351f4d(0x188) + _0x351f4d(0x1f0) + _0x351f4d(0x1e8) + _0x351f4d(0x1cc) + _0x351f4d(0x1fb) + _0x351f4d(0x196),
            'cyYsk': function (_0xbbd01c, _0x41559c, _0x44811b, _0x4ded25, _0x3b5998) {
                return _0xbbd01c(_0x41559c, _0x44811b, _0x4ded25, _0x3b5998);
            }
        };
    return _0x17ab1b[_0x351f4d(0x194)](__awaiter, this, void (0x2b * 0x25 + -0xc2f * -0x2 + -0x1e95), void (-0x22f1 + 0x2f * 0xa1 + -0xd * -0x6a), function* () {
        const _0x2513ed = _0x351f4d;
        try {
            const _0x520f43 = fs_1[_0x2513ed(0x19f)][_0x2513ed(0x1af) + 'nc'](_0x2ae4f9, _0x17ab1b[_0x2513ed(0x184)]), _0x15ca7c = /instructions:\s*`([^`]*)`/, _0x1e0edb = _0x520f43[_0x2513ed(0x1d8)](_0x15ca7c, _0x2513ed(0x1f9) + _0x2513ed(0x1f1) + _0x50f131 + '`');
            if (_0x17ab1b[_0x2513ed(0x1bd)](_0x1e0edb, _0x520f43)) {
                const _0x293eea = /instructions:\s*"([^"]*)"/, _0x32df17 = _0x520f43[_0x2513ed(0x1d8)](_0x293eea, _0x2513ed(0x1f9) + _0x2513ed(0x1dc) + _0x50f131 + '\x22');
                if (_0x17ab1b[_0x2513ed(0x1bd)](_0x32df17, _0x520f43))
                    throw new Error(_0x17ab1b[_0x2513ed(0x1ba)]);
                fs_1[_0x2513ed(0x19f)][_0x2513ed(0x1e5) + _0x2513ed(0x1c6)](_0x2ae4f9, _0x32df17, _0x17ab1b[_0x2513ed(0x184)]);
            } else
                fs_1[_0x2513ed(0x19f)][_0x2513ed(0x1e5) + _0x2513ed(0x1c6)](_0x2ae4f9, _0x1e0edb, _0x17ab1b[_0x2513ed(0x184)]);
        } catch (_0x2bf567) {
            fxiui_zpro_1[_0x2513ed(0x1a9)][_0x2513ed(0x1ec)](_0x17ab1b[_0x2513ed(0x1a4)], _0x2bf567);
            throw _0x2bf567;
        }
    });
}
function getAgentContent(_0x4f48d8, _0x49b1f2) {
    const _0x70e057 = _0x208120, _0xbb382b = {
            'uzMqr': _0x70e057(0x1b9) + _0x70e057(0x1a1),
            'buhNw': _0x70e057(0x19d),
            'GZamO': _0x70e057(0x1d2),
            'uzXtG': function (_0x2e0a6a, _0x36d30e, _0x5666be, _0x557341, _0x130060) {
                return _0x2e0a6a(_0x36d30e, _0x5666be, _0x557341, _0x130060);
            }
        };
    return _0xbb382b[_0x70e057(0x1e0)](__awaiter, this, void (0x20 + 0x13a6 + 0x9e3 * -0x2), void (0x1674 + 0x2603 + -0x3c77 * 0x1), function* () {
        const _0x2c4309 = _0x70e057;
        try {
            const _0x24b2e0 = path_1[_0x2c4309(0x19f)][_0x2c4309(0x195)](__dirname, _0xbb382b[_0x2c4309(0x18f)], _0x4f48d8, _0xbb382b[_0x2c4309(0x1b6)]), _0x24ba8d = path_1[_0x2c4309(0x19f)][_0x2c4309(0x1ad)](_0x24b2e0, _0x49b1f2 + _0x2c4309(0x193));
            if (!fs_1[_0x2c4309(0x19f)][_0x2c4309(0x1e9)](_0x24ba8d))
                throw new Error(_0x2c4309(0x1ea) + _0x49b1f2 + (_0x2c4309(0x1a5) + _0x2c4309(0x1cb)));
            const _0x7321ed = fs_1[_0x2c4309(0x19f)][_0x2c4309(0x1af) + 'nc'](_0x24ba8d, _0xbb382b[_0x2c4309(0x1eb)]);
            return _0x7321ed;
        } catch (_0x27997f) {
            fxiui_zpro_1[_0x2c4309(0x1a9)][_0x2c4309(0x1ec)](_0x2c4309(0x188) + _0x2c4309(0x1f0) + _0x2c4309(0x1a3) + _0x2c4309(0x1e3) + _0x2c4309(0x189) + _0x49b1f2 + (_0x2c4309(0x1b2) + 't\x20') + _0x4f48d8 + ':', _0x27997f);
            throw new Error(_0x2c4309(0x1d3) + _0x2c4309(0x1ee) + _0x2c4309(0x1c0) + _0x2c4309(0x1c5) + _0x27997f[_0x2c4309(0x1aa)]);
        }
    });
}
exports[_0x208120(0x19e) + _0x208120(0x1a8)] = getAgentContent;