'use strict';
const _0x309e1e = _0x16ff;
(function (_0x1ef919, _0x494fab) {
    const _0x52eda4 = _0x16ff, _0x55799b = _0x1ef919();
    while (!![]) {
        try {
            const _0x4a6650 = parseInt(_0x52eda4(0x125)) / (-0x21ed + -0x1 * 0x939 + 0x2b27) + parseInt(_0x52eda4(0xe2)) / (0xf30 + -0x1240 + -0x106 * -0x3) * (parseInt(_0x52eda4(0x103)) / (-0x101 * -0xa + 0x20d + -0x2 * 0x60a)) + -parseInt(_0x52eda4(0xd9)) / (0x1 * 0x1c81 + -0xa9d + -0x1a0 * 0xb) + -parseInt(_0x52eda4(0x91)) / (-0x1 * 0x623 + -0x16b6 + -0xe6f * -0x2) * (parseInt(_0x52eda4(0xc3)) / (0x44b * 0x1 + -0x230c * 0x1 + 0x1ec7)) + parseInt(_0x52eda4(0x177)) / (-0x1 * 0x21ba + -0x4df * -0x8 + 0x5 * -0x10b) * (-parseInt(_0x52eda4(0xad)) / (-0x2 * 0xd2d + 0x4 * 0x8af + -0x85a)) + -parseInt(_0x52eda4(0xa5)) / (-0x1298 + -0x461 * -0x7 + 0x1 * -0xc06) * (-parseInt(_0x52eda4(0x114)) / (0x4 * 0x1a1 + -0xe4c + -0x9a * -0xd)) + parseInt(_0x52eda4(0x158)) / (0x1 * 0x6cc + 0x1459 + -0x1b1a);
            if (_0x4a6650 === _0x494fab)
                break;
            else
                _0x55799b['push'](_0x55799b['shift']());
        } catch (_0x5495c2) {
            _0x55799b['push'](_0x55799b['shift']());
        }
    }
}(_0x1ad5, -0x11 * 0x9bb3 + -0xcc37a * -0x1 + 0xa48e7));
function _0x1ad5() {
    const _0x4adbf0 = [
        'wFTiN',
        'Message\x20se',
        'WrSwY',
        'nguage',
        'ticket:upd',
        'YzDTX',
        'aph.facebo',
        '../../mode',
        'fault',
        'VEbmZ',
        'join',
        'value',
        'lUxRy',
        'bmToken',
        'ZPRO',
        '6208464bMmHIc',
        'NhnNY',
        'EidNx',
        'jcXsD',
        'axios',
        'profilePic',
        'pSmiu',
        'HgRUf',
        'bSZQK',
        '121614lWnVQc',
        'ate',
        'GSzKz',
        'medias',
        'Vxwcr',
        'update',
        'waba',
        'buttons',
        'warn',
        'message',
        'jweVA',
        'text',
        'teaCj',
        'OoWHR',
        'contactId',
        ':\x20Error\x20fe',
        'closed',
        'Bearer\x20',
        'geSystemSe',
        'KFmbV',
        'templateLa',
        'n/json',
        'PRO',
        'XygTc',
        'tching\x20tem',
        'liYQl',
        'body',
        'findOne',
        'HEADER',
        'done',
        'uSWBS',
        'SuIrw',
        'Template:\x20',
        '81dMtYaD',
        '\x20API:\x20',
        'YRHqz',
        'ateContact',
        'tysxq',
        '../TicketS',
        'ServiceZPR',
        'stringify',
        'fromMe',
        'next',
        'hq_zpro/fx',
        'template',
        'YmLLc',
        'get',
        ':\x20Close\x20ti',
        'wabaId',
        'url',
        '785190LCgcLX',
        'ok.com/v',
        'rMgbB',
        'jxwRx',
        'open',
        'name',
        'zYYiR',
        'push',
        'bMSxx',
        'duFTW',
        'RHMsx',
        'code',
        'iceZPRO',
        'WKZxE',
        'log',
        'TEXT',
        'number',
        '401238xKjYXf',
        'OGKvZ',
        'forEach',
        'ZHsbC',
        'type',
        '\x2013.',
        'scheduleDa',
        'channel',
        'ticket',
        'default',
        'index',
        'contact',
        'wabaVersio',
        '__esModule',
        'map',
        'find',
        'CxTbV',
        'pending',
        'nLoQW',
        'iui_zpro',
        'Bocxj',
        'sessionId',
        'bFPij',
        'aBdhR',
        'ovSxs',
        'attributes',
        'where',
        ':::\x20WHATITAN\x20',
        'TicketServ',
        'OtzXV',
        'applicatio',
        '__importDe',
        ':::\x20WHATITAN\x20::',
        'OTtNk',
        'defineProp',
        'ALETt',
        'Authorizat',
        'vBryv',
        'ESzuD',
        'Url',
        'VIDEO',
        '../Contact',
        'language',
        'ge1r_zpro/',
        'isUser',
        'groupConta',
        'method',
        'plate\x20from',
        'sended',
        'kSHzP',
        'Services/C',
        '25678400rUBeiz',
        'ls/TicketZ',
        'components',
        'https://gr',
        'te2Service',
        'jrxEw',
        'ages',
        '/message_t',
        'IMAGE',
        'GZvDx',
        'ervices/Sh',
        'tenantId',
        'hUxor',
        'bulkTempla',
        'rviceZPRO',
        'format',
        'payload',
        'ion',
        'FOOTER',
        'xpdSU',
        'unreadMess',
        'jDYzV',
        'ls/Contact',
        'headers',
        'LKLEw',
        '/messages?',
        'nt\x20success',
        'pushname',
        'tokenAPI',
        'logger',
        'Qhoqm',
        '14DOoeNu',
        'throw',
        'isWAContac',
        '../Message',
        'PodYH',
        'dataJson',
        'reateMessa',
        'emplates?l',
        'status',
        '2470gELDoH',
        'idFront',
        'variables',
        '__awaiter',
        'JdOtc',
        'ervices/Fi',
        'isGroup',
        'sendType',
        'erty',
        'apply',
        'sub_type',
        'kjeVi',
        '../../qozl',
        'DOCUMENT',
        'nRwDd',
        'uuid',
        'bulkId',
        'fully',
        'msg',
        'parameters',
        '99TDgIZL',
        'nt\x20error:\x20',
        'nfyNs',
        'templateNa',
        'CCgWr',
        'UQiuH',
        'reateOrUpd',
        'LiGor',
        '6298760BrGqhf',
        'replace',
        'xbj_zpro',
        'owTicketSe',
        'length',
        'POST',
        'then',
        '../../zltz',
        'BODY',
        'whatsappId',
        'FVudm',
        'DrXns',
        'Content-Ty',
        'cket\x20error',
        'sendTempla',
        'data',
        'imit=1000',
        'access_tok',
        'messages',
        'BUTTONS',
        'sequelize',
        'MczUC',
        '15564qkZzTD',
        'beDdK',
        'userId',
        'abtQZ',
        'ndOrCreate',
        'en=',
        'templates'
    ];
    _0x1ad5 = function () {
        return _0x4adbf0;
    };
    return _0x1ad5();
}
var __awaiter = this && this[_0x309e1e(0x94)] || function (_0x486db4, _0xd2397a, _0xa4f49c, _0x52a899) {
        const _0x51acf6 = _0x309e1e, _0x1daed4 = {
                'pSmiu': function (_0xd35308, _0x1fe307) {
                    return _0xd35308(_0x1fe307);
                },
                'liYQl': function (_0x36231f, _0x1b7960) {
                    return _0x36231f instanceof _0x1b7960;
                },
                'YzDTX': _0x51acf6(0x178),
                'WKZxE': function (_0x58c2e8, _0x3190d9) {
                    return _0x58c2e8(_0x3190d9);
                },
                'aBdhR': function (_0x4a4388, _0x3123d7) {
                    return _0x4a4388(_0x3123d7);
                }
            };
        function _0x53ef62(_0x1b0e1a) {
            const _0x377ec1 = _0x51acf6, _0x2c12b6 = {
                    'duFTW': function (_0x428dd2, _0x434671) {
                        const _0x36ffe6 = _0x16ff;
                        return _0x1daed4[_0x36ffe6(0xdf)](_0x428dd2, _0x434671);
                    }
                };
            return _0x1daed4[_0x377ec1(0xfb)](_0x1b0e1a, _0xa4f49c) ? _0x1b0e1a : new _0xa4f49c(function (_0x25ce30) {
                const _0x3a8835 = _0x377ec1;
                _0x2c12b6[_0x3a8835(0x11d)](_0x25ce30, _0x1b0e1a);
            });
        }
        return new (_0xa4f49c || (_0xa4f49c = Promise))(function (_0x3883bf, _0xc6ee52) {
            const _0x47e9cf = _0x51acf6, _0x27d013 = {
                    'WrSwY': function (_0x579240, _0xae9790) {
                        const _0x31f583 = _0x16ff;
                        return _0x1daed4[_0x31f583(0x121)](_0x579240, _0xae9790);
                    },
                    'teaCj': function (_0x395409, _0x33f0fb) {
                        const _0x1dd3b5 = _0x16ff;
                        return _0x1daed4[_0x1dd3b5(0xdf)](_0x395409, _0x33f0fb);
                    },
                    'DrXns': function (_0x374581, _0x8fdb27) {
                        const _0x7d628b = _0x16ff;
                        return _0x1daed4[_0x7d628b(0x121)](_0x374581, _0x8fdb27);
                    }
                };
            function _0x2ad9c3(_0x231a27) {
                const _0x4cd587 = _0x16ff;
                try {
                    _0x27d013[_0x4cd587(0xcc)](_0x57268a, _0x52a899[_0x4cd587(0x10c)](_0x231a27));
                } catch (_0x7390d5) {
                    _0x27d013[_0x4cd587(0xcc)](_0xc6ee52, _0x7390d5);
                }
            }
            function _0x232f87(_0x1be468) {
                const _0x5cdc5e = _0x16ff;
                try {
                    _0x1daed4[_0x5cdc5e(0xdf)](_0x57268a, _0x52a899[_0x1daed4[_0x5cdc5e(0xcf)]](_0x1be468));
                } catch (_0x32441d) {
                    _0x1daed4[_0x5cdc5e(0x121)](_0xc6ee52, _0x32441d);
                }
            }
            function _0x57268a(_0x5e4dcd) {
                const _0x4453d0 = _0x16ff;
                _0x5e4dcd[_0x4453d0(0xff)] ? _0x27d013[_0x4453d0(0xee)](_0x3883bf, _0x5e4dcd[_0x4453d0(0xd5)]) : _0x27d013[_0x4453d0(0xb8)](_0x53ef62, _0x5e4dcd[_0x4453d0(0xd5)])[_0x4453d0(0xb3)](_0x2ad9c3, _0x232f87);
            }
            _0x1daed4[_0x47e9cf(0x13c)](_0x57268a, (_0x52a899 = _0x52a899[_0x47e9cf(0x9a)](_0x486db4, _0xd2397a || []))[_0x47e9cf(0x10c)]());
        });
    }, __importDefault = this && this[_0x309e1e(0x144) + _0x309e1e(0xd2)] || function (_0x2c8672) {
        const _0x1c03fb = _0x309e1e;
        return _0x2c8672 && _0x2c8672[_0x1c03fb(0x132)] ? _0x2c8672 : { 'default': _0x2c8672 };
    };
function _0x16ff(_0x565bc6, _0x368939) {
    const _0x540b2a = _0x1ad5();
    return _0x16ff = function (_0xee3998, _0x31acf4) {
        _0xee3998 = _0xee3998 - (0xed5 + -0xe63 + -0x1 * -0x1d);
        let _0x108e1d = _0x540b2a[_0xee3998];
        return _0x108e1d;
    }, _0x16ff(_0x565bc6, _0x368939);
}
const _0x1428f6 = {};
_0x1428f6[_0x309e1e(0xd5)] = !![], Object[_0x309e1e(0x147) + _0x309e1e(0x99)](exports, _0x309e1e(0x132), _0x1428f6), exports[_0x309e1e(0xbb) + _0x309e1e(0x15c)] = void (-0x2157 + -0x9e + 0x21f5);
const fxiui_zpro_1 = require(_0x309e1e(0x9d) + _0x309e1e(0x10d) + _0x309e1e(0x138)), uuid_1 = require(_0x309e1e(0xa0)), xbj_zpro_1 = __importDefault(require(_0x309e1e(0xb4) + _0x309e1e(0x150) + _0x309e1e(0xaf))), ContactZPRO_1 = __importDefault(require(_0x309e1e(0xd1) + _0x309e1e(0x16e) + _0x309e1e(0xd8))), FindOrCreateTicketServiceZPRO_1 = __importDefault(require(_0x309e1e(0x108) + _0x309e1e(0x96) + _0x309e1e(0xc7) + _0x309e1e(0x141) + _0x309e1e(0x120))), CreateMessageSystemServiceZPRO_1 = __importDefault(require(_0x309e1e(0x17a) + _0x309e1e(0x157) + _0x309e1e(0x17d) + _0x309e1e(0xf4) + _0x309e1e(0x166))), CreateOrUpdateContactServiceZPRO_1 = __importDefault(require(_0x309e1e(0x14e) + _0x309e1e(0x157) + _0x309e1e(0xab) + _0x309e1e(0x106) + _0x309e1e(0x109) + 'O')), TicketZPRO_1 = __importDefault(require(_0x309e1e(0xd1) + _0x309e1e(0x159) + _0x309e1e(0xf8))), sequelize_1 = require(_0x309e1e(0xc1)), ShowTicketServiceZPRO_1 = __importDefault(require(_0x309e1e(0x108) + _0x309e1e(0x162) + _0x309e1e(0xb0) + _0x309e1e(0x166))), axios_1 = __importDefault(require(_0x309e1e(0xdd)));
function delay(_0x49d47a) {
    return new Promise(_0x501711 => setTimeout(_0x501711, _0x49d47a));
}
function substituteVariables(_0x554ffc, _0x4eaa07) {
    const _0x37bcff = _0x309e1e, _0x574563 = {};
    _0x574563[_0x37bcff(0xd6)] = function (_0x3b5e32, _0x36925d) {
        return _0x3b5e32 + _0x36925d;
    };
    const _0x368ad8 = _0x574563;
    let _0x36649d = _0x554ffc;
    return _0x4eaa07[_0x37bcff(0x127)]((_0x2be291, _0x5b2442) => {
        const _0x5c95dc = _0x37bcff, _0x55e42c = '{{' + _0x368ad8[_0x5c95dc(0xd6)](_0x5b2442, 0x214c * -0x1 + -0xdd6 + 0x2f23) + '}}';
        _0x36649d = _0x36649d[_0x5c95dc(0xae)](_0x55e42c, _0x2be291);
    }), _0x36649d;
}
function getTemplateFromAPI(_0x598644, _0x50bb2a, _0x35dfa6, _0x51c60c, _0x1facde) {
    const _0x235cda = _0x309e1e, _0x53d40c = {
            'LKLEw': _0x235cda(0x143) + _0x235cda(0xf7),
            'nfyNs': function (_0x37812e, _0x46fe6e) {
                return _0x37812e > _0x46fe6e;
            },
            'CxTbV': function (_0x1f083f, _0x3d6f10) {
                return _0x1f083f || _0x3d6f10;
            },
            'kSHzP': function (_0x5a0eab, _0x4f53c4) {
                return _0x5a0eab + _0x4f53c4;
            },
            'OtzXV': _0x235cda(0x140) + _0x235cda(0x145) + _0x235cda(0xf1) + _0x235cda(0xfa) + _0x235cda(0x154) + _0x235cda(0x104),
            'bMSxx': function (_0x27d1bb, _0x5bce4c, _0xd38225, _0x78fd90, _0x3d6e35) {
                return _0x27d1bb(_0x5bce4c, _0xd38225, _0x78fd90, _0x3d6e35);
            }
        };
    return _0x53d40c[_0x235cda(0x11c)](__awaiter, this, void (0x1cfb + 0x1996 * -0x1 + -0x365), void (-0x9d * -0x24 + 0x148d + -0x1 * 0x2aa1), function* () {
        const _0x3f8985 = _0x235cda;
        try {
            const _0x2dcbfb = _0x3f8985(0x15b) + _0x3f8985(0xd0) + _0x3f8985(0x115) + _0x51c60c + '/' + _0x35dfa6 + (_0x3f8985(0x15f) + _0x3f8985(0x8f) + _0x3f8985(0xbd)), _0xa380e5 = {};
            _0xa380e5[_0x3f8985(0xb9) + 'pe'] = _0x53d40c[_0x3f8985(0x170)], _0xa380e5[_0x3f8985(0x149) + _0x3f8985(0x169)] = _0x3f8985(0xf3) + _0x1facde;
            const _0x10f453 = {};
            _0x10f453[_0x3f8985(0x16f)] = _0xa380e5;
            const _0x3be8df = yield axios_1[_0x3f8985(0x12e)][_0x3f8985(0x110)](_0x2dcbfb, _0x10f453);
            if (_0x3be8df[_0x3f8985(0xbc)] && _0x3be8df[_0x3f8985(0xbc)][_0x3f8985(0xbc)] && _0x53d40c[_0x3f8985(0xa7)](_0x3be8df[_0x3f8985(0xbc)][_0x3f8985(0xbc)][_0x3f8985(0xb1)], -0x7c6 + 0x2 * 0x137b + -0x8 * 0x3e6)) {
                const _0x48306b = _0x3be8df[_0x3f8985(0xbc)][_0x3f8985(0xbc)][_0x3f8985(0x134)](_0x5c5a72 => _0x5c5a72[_0x3f8985(0x119)] === _0x598644 && _0x5c5a72[_0x3f8985(0x14f)] === _0x50bb2a);
                return _0x53d40c[_0x3f8985(0x135)](_0x48306b, null);
            }
            return null;
        } catch (_0x4d9a84) {
            return fxiui_zpro_1[_0x3f8985(0x175)][_0x3f8985(0xea)](_0x53d40c[_0x3f8985(0x156)](_0x53d40c[_0x3f8985(0x142)], JSON[_0x3f8985(0x10a)](_0x4d9a84))), null;
        }
    });
}
function buildMessageBodyFromTemplate(_0x185e96, _0x3496f8 = []) {
    const _0xf0197c = _0x309e1e, _0x3c1c4c = {
            'bFPij': function (_0x39fea4, _0x50e07e) {
                return _0x39fea4 === _0x50e07e;
            },
            'bSZQK': function (_0x17ef7d, _0x2c8e93) {
                return _0x17ef7d === _0x2c8e93;
            },
            'OoWHR': function (_0x480340, _0x5634b1) {
                return _0x480340 !== _0x5634b1;
            },
            'hUxor': function (_0x4d90a6, _0xd148cc) {
                return _0x4d90a6 === _0xd148cc;
            },
            'GZvDx': function (_0x52152f, _0x78f32d) {
                return _0x52152f === _0x78f32d;
            },
            'NhnNY': function (_0x559d35, _0x5a1f32) {
                return _0x559d35 === _0x5a1f32;
            },
            'jDYzV': function (_0x50f3f3, _0x3a2b5a) {
                return _0x50f3f3 === _0x3a2b5a;
            },
            'GSzKz': function (_0x21e226, _0x1d59d1) {
                return _0x21e226 === _0x1d59d1;
            },
            'ZHsbC': _0xf0197c(0x160),
            'HgRUf': _0xf0197c(0x14d),
            'jcXsD': function (_0xfe01a5, _0x414aa2) {
                return _0xfe01a5 === _0x414aa2;
            },
            'jweVA': _0xf0197c(0x9e),
            'nRwDd': function (_0x3b0353, _0x32b93b) {
                return _0x3b0353 === _0x32b93b;
            },
            'JdOtc': _0xf0197c(0xfe),
            'Qhoqm': function (_0x20ad45, _0x48ccb7) {
                return _0x20ad45 === _0x48ccb7;
            },
            'rMgbB': function (_0x31ece3, _0x432edb, _0x25d043) {
                return _0x31ece3(_0x432edb, _0x25d043);
            },
            'CCgWr': _0xf0197c(0x123),
            'nLoQW': function (_0x92c09e, _0x34695f) {
                return _0x92c09e === _0x34695f;
            },
            'SuIrw': function (_0x381571, _0x1a1fd9) {
                return _0x381571 === _0x1a1fd9;
            },
            'kjeVi': function (_0x3181fb, _0x1c87b2) {
                return _0x3181fb === _0x1c87b2;
            },
            'OGKvZ': function (_0x42ac26, _0x283bdd) {
                return _0x42ac26 === _0x283bdd;
            },
            'ESzuD': _0xf0197c(0xb5),
            'YRHqz': function (_0xedef7a, _0x170c3c) {
                return _0xedef7a === _0x170c3c;
            },
            'XygTc': function (_0x63e7e2, _0x2da35a) {
                return _0x63e7e2 === _0x2da35a;
            },
            'wFTiN': _0xf0197c(0x16a),
            'abtQZ': function (_0x3deab6, _0x5dd098) {
                return _0x3deab6 === _0x5dd098;
            },
            'UQiuH': function (_0x3dc7ed, _0x177936) {
                return _0x3dc7ed === _0x177936;
            },
            'PodYH': function (_0x1a2d37, _0x4e268c) {
                return _0x1a2d37 === _0x4e268c;
            },
            'YmLLc': _0xf0197c(0xc0)
        };
    var _0x2cfe57, _0x329697, _0xc9d397, _0x21c0b8;
    const _0x2ac0b8 = [], _0x642bbc = _0x3c1c4c[_0xf0197c(0xe1)](_0x2cfe57 = _0x3c1c4c[_0xf0197c(0x164)](_0x185e96, null) || _0x3c1c4c[_0xf0197c(0x161)](_0x185e96, void (0xa5a + 0x1988 + -0x23e2 * 0x1)) ? void (0x2010 + 0x6b * -0x35 + 0x3b * -0x2b) : _0x185e96[_0xf0197c(0x15a)], null) || _0x3c1c4c[_0xf0197c(0xda)](_0x2cfe57, void (0xfca + 0x66 * -0x3d + 0xda * 0xa)) ? void (-0x2f * 0x59 + 0x2286 + -0x85 * 0x23) : _0x2cfe57[_0xf0197c(0x134)](_0x5f17f2 => _0x5f17f2[_0xf0197c(0x129)] === _0xf0197c(0xfe)), _0x59489 = _0x3c1c4c[_0xf0197c(0x13b)](_0x3496f8, null) || _0x3c1c4c[_0xf0197c(0x16d)](_0x3496f8, void (-0x47 * 0x1f + -0x225 * -0x1 + -0x19d * -0x4)) ? void (-0x1fe6 * -0x1 + 0x175 * -0x1a + -0x1 * -0x5fc) : _0x3496f8[_0xf0197c(0x134)](_0x46d664 => _0x46d664[_0xf0197c(0x129)] === _0xf0197c(0xfe));
    if (_0x642bbc) {
        if (_0x642bbc[_0xf0197c(0x167)] && (_0x3c1c4c[_0xf0197c(0xe4)](_0x642bbc[_0xf0197c(0x167)], _0x3c1c4c[_0xf0197c(0x128)]) || _0x3c1c4c[_0xf0197c(0xda)](_0x642bbc[_0xf0197c(0x167)], _0x3c1c4c[_0xf0197c(0xe0)]) || _0x3c1c4c[_0xf0197c(0xdc)](_0x642bbc[_0xf0197c(0x167)], _0x3c1c4c[_0xf0197c(0xec)]))) {
            if (_0x3c1c4c[_0xf0197c(0xe1)](_0x59489, null) || _0x3c1c4c[_0xf0197c(0x9f)](_0x59489, void (-0x4fd * -0x2 + -0x1782 + -0x8 * -0x1b1)) ? void (-0x238 + 0x26f3 + -0x24bb) : _0x59489[_0xf0197c(0xd5)]) {
                const _0x4b1b18 = {};
                _0x4b1b18[_0xf0197c(0x129)] = _0x3c1c4c[_0xf0197c(0x95)], _0x4b1b18[_0xf0197c(0x167)] = _0x642bbc[_0xf0197c(0x167)], _0x4b1b18[_0xf0197c(0xd5)] = _0x59489[_0xf0197c(0xd5)], _0x2ac0b8[_0xf0197c(0x11b)](_0x4b1b18);
            } else {
                const _0x417be5 = {};
                _0x417be5[_0xf0197c(0x129)] = _0x3c1c4c[_0xf0197c(0x95)], _0x417be5[_0xf0197c(0x167)] = _0x642bbc[_0xf0197c(0x167)], _0x2ac0b8[_0xf0197c(0x11b)](_0x417be5);
            }
        } else {
            if (_0x642bbc[_0xf0197c(0xed)]) {
                let _0x4a17b9 = _0x642bbc[_0xf0197c(0xed)];
                (_0x3c1c4c[_0xf0197c(0x161)](_0x59489, null) || _0x3c1c4c[_0xf0197c(0x176)](_0x59489, void (0x8d * -0x13 + 0x2540 + -0x1ac9)) ? void (-0x16c2 * 0x1 + -0x20a1 * -0x1 + -0x13 * 0x85) : _0x59489[_0xf0197c(0x93)]) && (_0x4a17b9 = _0x3c1c4c[_0xf0197c(0x116)](substituteVariables, _0x4a17b9, _0x59489[_0xf0197c(0x93)]));
                const _0x559e39 = {};
                _0x559e39[_0xf0197c(0x129)] = _0x3c1c4c[_0xf0197c(0x95)], _0x559e39[_0xf0197c(0x167)] = _0x3c1c4c[_0xf0197c(0xa9)], _0x559e39[_0xf0197c(0xed)] = _0x4a17b9, _0x2ac0b8[_0xf0197c(0x11b)](_0x559e39);
            }
        }
    }
    const _0x3b3497 = _0x3c1c4c[_0xf0197c(0x137)](_0x329697 = _0x3c1c4c[_0xf0197c(0x101)](_0x185e96, null) || _0x3c1c4c[_0xf0197c(0xe1)](_0x185e96, void (-0x1f33 + -0x1175 + -0x40e * -0xc)) ? void (-0x2205 + 0x1 * -0x745 + 0x294a) : _0x185e96[_0xf0197c(0x15a)], null) || _0x3c1c4c[_0xf0197c(0xdc)](_0x329697, void (0x121 + 0x2369 + 0x2 * -0x1245)) ? void (0x2091 + -0xca3 + -0x13ee) : _0x329697[_0xf0197c(0x134)](_0x264ab7 => _0x264ab7[_0xf0197c(0x129)] === _0xf0197c(0xb5)), _0x555a4d = _0x3c1c4c[_0xf0197c(0x9c)](_0x3496f8, null) || _0x3c1c4c[_0xf0197c(0x164)](_0x3496f8, void (0x1093 + -0x1 * -0x204a + -0x1 * 0x30dd)) ? void (-0x1ac2 + 0x1307 + 0x1 * 0x7bb) : _0x3496f8[_0xf0197c(0x134)](_0x52116d => _0x52116d[_0xf0197c(0x129)] === _0xf0197c(0xb5));
    if (_0x3b3497 && _0x3b3497[_0xf0197c(0xed)]) {
        let _0x56887b = _0x3b3497[_0xf0197c(0xed)];
        (_0x3c1c4c[_0xf0197c(0x126)](_0x555a4d, null) || _0x3c1c4c[_0xf0197c(0xda)](_0x555a4d, void (-0x7 * 0x12e + 0x19d9 * 0x1 + -0x4f * 0x39)) ? void (-0x1f49 * 0x1 + -0x6 * 0x245 + 0x2ce7) : _0x555a4d[_0xf0197c(0x93)]) && (_0x56887b = _0x3c1c4c[_0xf0197c(0x116)](substituteVariables, _0x56887b, _0x555a4d[_0xf0197c(0x93)]));
        const _0x1d3e16 = {};
        _0x1d3e16[_0xf0197c(0x129)] = _0x3c1c4c[_0xf0197c(0x14b)], _0x1d3e16[_0xf0197c(0xed)] = _0x56887b, _0x2ac0b8[_0xf0197c(0x11b)](_0x1d3e16);
    }
    const _0x5c9a0f = _0x3c1c4c[_0xf0197c(0x105)](_0xc9d397 = _0x3c1c4c[_0xf0197c(0xf9)](_0x185e96, null) || _0x3c1c4c[_0xf0197c(0xda)](_0x185e96, void (-0x2157 + -0x5d * 0x57 + 0x3d2 * 0x11)) ? void (0x133 * -0x14 + 0x1e3f + -0x643) : _0x185e96[_0xf0197c(0x15a)], null) || _0x3c1c4c[_0xf0197c(0x176)](_0xc9d397, void (0x1 * 0x2241 + -0x3 * 0xafd + -0x14a)) ? void (0x107 * -0x1f + 0xab * -0x15 + 0x2de0) : _0xc9d397[_0xf0197c(0x134)](_0x3f2f59 => _0x3f2f59[_0xf0197c(0x129)] === _0xf0197c(0x16a));
    if (_0x5c9a0f && _0x5c9a0f[_0xf0197c(0xed)]) {
        const _0x1a3701 = {};
        _0x1a3701[_0xf0197c(0x129)] = _0x3c1c4c[_0xf0197c(0xca)], _0x1a3701[_0xf0197c(0xed)] = _0x5c9a0f[_0xf0197c(0xed)], _0x2ac0b8[_0xf0197c(0x11b)](_0x1a3701);
    }
    const _0x59b827 = _0x3c1c4c[_0xf0197c(0xc6)](_0x21c0b8 = _0x3c1c4c[_0xf0197c(0x9c)](_0x185e96, null) || _0x3c1c4c[_0xf0197c(0xaa)](_0x185e96, void (-0x36e * -0x5 + -0x1474 + 0x8d * 0x6)) ? void (0x23b0 + 0x26ba + -0x4a6a) : _0x185e96[_0xf0197c(0x15a)], null) || _0x3c1c4c[_0xf0197c(0xda)](_0x21c0b8, void (0x43b * 0x8 + 0x2286 + -0x445e)) ? void (0x6d * 0x53 + 0x3dc + -0x2733) : _0x21c0b8[_0xf0197c(0x134)](_0xa1b5a => _0xa1b5a[_0xf0197c(0x129)] === _0xf0197c(0xc0)), _0x4e3912 = _0x3c1c4c[_0xf0197c(0x17b)](_0x3496f8, null) || _0x3c1c4c[_0xf0197c(0x101)](_0x3496f8, void (0x36f + -0x2285 + 0x1f16)) ? void (-0xdb * -0xf + 0x242c + 0xd * -0x3c5) : _0x3496f8[_0xf0197c(0x134)](_0xf184c3 => _0xf184c3[_0xf0197c(0x129)] === _0xf0197c(0xc0));
    if (_0x59b827 && _0x59b827[_0xf0197c(0xe9)]) {
        const _0x2e81ce = _0x59b827[_0xf0197c(0xe9)][_0xf0197c(0x133)]((_0x5a362d, _0x362eae) => {
                const _0x432f1d = _0xf0197c;
                if ((_0x3c1c4c[_0x432f1d(0x13b)](_0x4e3912, null) || _0x3c1c4c[_0x432f1d(0xe1)](_0x4e3912, void (0x1c36 * -0x1 + -0x596 + -0x19c * -0x15)) ? void (0x4ba * -0x1 + -0x18cb + 0x1d85) : _0x4e3912[_0x432f1d(0xe9)]) && _0x4e3912[_0x432f1d(0xe9)][_0x362eae]) {
                    const _0x40a944 = _0x4e3912[_0x432f1d(0xe9)][_0x362eae];
                    return {
                        'type': _0x5a362d[_0x432f1d(0x129)],
                        'sub_type': _0x40a944[_0x432f1d(0x9b)] || _0x5a362d[_0x432f1d(0x9b)],
                        'index': _0x3c1c4c[_0x432f1d(0xef)](_0x40a944[_0x432f1d(0x12f)], undefined) ? _0x40a944[_0x432f1d(0x12f)] : _0x362eae,
                        'parameters': _0x40a944[_0x432f1d(0xa4)] || []
                    };
                }
                const _0x4b4b97 = {};
                return _0x4b4b97[_0x432f1d(0x129)] = _0x5a362d[_0x432f1d(0x129)], _0x4b4b97[_0x432f1d(0x9b)] = _0x5a362d[_0x432f1d(0x9b)], _0x4b4b97[_0x432f1d(0x12f)] = _0x362eae, _0x4b4b97[_0x432f1d(0xa4)] = [], _0x4b4b97;
            }), _0x4c2798 = {};
        _0x4c2798[_0xf0197c(0x129)] = _0x3c1c4c[_0xf0197c(0x10f)], _0x4c2798[_0xf0197c(0xe9)] = _0x2e81ce, _0x2ac0b8[_0xf0197c(0x11b)](_0x4c2798);
    }
    return JSON[_0xf0197c(0x10a)](_0x2ac0b8);
}
const sendTemplate2Service = (_0x8f93f8, _0x45edd5, _0x4899d8, _0x333a21, _0x1192f4) => __awaiter(void (0x2438 + 0x1663 + -0x3 * 0x1389), void (0xd * 0x29 + 0xe3 * -0x6 + 0x33d), void (0xd35 + 0x1307 + -0x203c), function* () {
    const _0x5180b1 = _0x309e1e, _0x45206b = {
            'EidNx': _0x5180b1(0xe8),
            'VEbmZ': function (_0x1d7dfa, _0x2aa683) {
                return _0x1d7dfa === _0x2aa683;
            },
            'ALETt': function (_0x2b5a2d, _0x251fad) {
                return _0x2b5a2d === _0x251fad;
            },
            'vBryv': function (_0xf64573, _0x3e2aee) {
                return _0xf64573 === _0x3e2aee;
            },
            'Bocxj': function (_0x5c42a3, _0x128146) {
                return _0x5c42a3 === _0x128146;
            },
            'uSWBS': _0x5180b1(0xb2),
            'xpdSU': _0x5180b1(0x143) + _0x5180b1(0xf7),
            'FVudm': function (_0x4e926c, _0x176ab6, _0x487e53, _0x3c4b4e, _0x5e7a9c, _0x214914) {
                return _0x4e926c(_0x176ab6, _0x487e53, _0x3c4b4e, _0x5e7a9c, _0x214914);
            },
            'jxwRx': function (_0x16b926, _0x1e5c45, _0x3ff4ef) {
                return _0x16b926(_0x1e5c45, _0x3ff4ef);
            },
            'Vxwcr': _0x5180b1(0xb5),
            'tysxq': _0x5180b1(0xc9),
            'beDdK': _0x5180b1(0x155),
            'KFmbV': function (_0x17c7df, _0x1f1217) {
                return _0x17c7df(_0x1f1217);
            },
            'zYYiR': _0x5180b1(0x118),
            'ovSxs': _0x5180b1(0x136),
            'LiGor': _0x5180b1(0x90),
            'RHMsx': _0x5180b1(0xf2),
            'OTtNk': _0x5180b1(0xce) + _0x5180b1(0xe3),
            'MczUC': _0x5180b1(0x140) + _0x5180b1(0x145) + _0x5180b1(0x111) + _0x5180b1(0xba) + _0x5180b1(0x12a),
            'jrxEw': _0x5180b1(0xcb) + _0x5180b1(0x172) + _0x5180b1(0xa2)
        }, _0x4974f5 = _0x45edd5[_0x5180b1(0xae)](/\D/g, '');
    try {
        const _0x12eb99 = {};
        _0x12eb99[_0x5180b1(0x119)] = _0x45edd5, _0x12eb99[_0x5180b1(0x124)] = _0x45edd5, _0x12eb99[_0x5180b1(0xde) + _0x5180b1(0x14c)] = undefined, _0x12eb99[_0x5180b1(0x97)] = ![], _0x12eb99[_0x5180b1(0x151)] = ![], _0x12eb99[_0x5180b1(0x179) + 't'] = ![], _0x12eb99[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)], _0x12eb99[_0x5180b1(0x173)] = _0x45edd5;
        const _0xf20ce7 = _0x12eb99, _0x266c9a = yield (0x33e + -0x26b + 0xd3 * -0x1, CreateOrUpdateContactServiceZPRO_1[_0x5180b1(0x12e)])(_0xf20ce7), _0xed0907 = (-0x31c * -0x6 + 0x313 * -0x4 + -0x65c, uuid_1['v4'])(), _0x1f15ee = {};
        _0x1f15ee[_0x5180b1(0x130)] = _0x266c9a, _0x1f15ee[_0x5180b1(0xb6)] = _0x4899d8[_0x5180b1(0x13a)], _0x1f15ee[_0x5180b1(0x16c) + _0x5180b1(0x15e)] = 0x0, _0x1f15ee[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)], _0x1f15ee[_0x5180b1(0x152) + 'ct'] = undefined, _0x1f15ee[_0x5180b1(0x12c)] = _0x45206b[_0x5180b1(0xdb)];
        const _0x138600 = yield (0x238c + -0x233c + -0x50, FindOrCreateTicketServiceZPRO_1[_0x5180b1(0x12e)])(_0x1f15ee), _0xa3d793 = {};
        _0xa3d793['id'] = _0x138600['id'], _0xa3d793[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)];
        const _0x15cf88 = yield (0x11b4 + 0x1846 + -0x29fa, ShowTicketServiceZPRO_1[_0x5180b1(0x12e)])(_0xa3d793), _0x4b31af = _0x5180b1(0x15b) + _0x5180b1(0xd0) + _0x5180b1(0x115) + (_0x45206b[_0x5180b1(0xd3)](_0x333a21, null) || _0x45206b[_0x5180b1(0x148)](_0x333a21, void (0x5 * -0x29b + 0x4b5 * -0x4 + 0x7 * 0x48d)) ? void (0x2 * -0x949 + -0x2500 + -0x943 * -0x6) : _0x333a21[_0x5180b1(0x131) + 'n']) + '/' + (_0x45206b[_0x5180b1(0xd3)](_0x333a21, null) || _0x45206b[_0x5180b1(0x14a)](_0x333a21, void (0x1f3d + 0xb78 + 0xd * -0x349)) ? void (-0xab0 + -0x22ca + 0x2d7a) : _0x333a21[_0x5180b1(0x174)]) + (_0x5180b1(0x171) + _0x5180b1(0xbe) + _0x5180b1(0xc8)) + (_0x45206b[_0x5180b1(0x14a)](_0x333a21, null) || _0x45206b[_0x5180b1(0x139)](_0x333a21, void (0x67 * 0x13 + -0x9a + -0x70b)) ? void (-0xddf + 0x275 + 0x6 * 0x1e7) : _0x333a21[_0x5180b1(0xd7)]), _0x1975d9 = {};
        _0x1975d9[_0x5180b1(0x153)] = _0x45206b[_0x5180b1(0x100)], _0x1975d9[_0x5180b1(0x113)] = _0x4b31af, _0x1975d9[_0x5180b1(0xbc)] = _0x8f93f8, _0x1975d9[_0x5180b1(0x16f)] = {}, _0x1975d9[_0x5180b1(0x16f)][_0x5180b1(0xb9) + 'pe'] = _0x45206b[_0x5180b1(0x16b)];
        const _0x9745ea = yield (0x1f27 + -0x15b5 + -0x2 * 0x4b9, axios_1[_0x5180b1(0x12e)])(_0x1975d9), _0xea7cfe = yield _0x45206b[_0x5180b1(0xb7)](getTemplateFromAPI, _0x8f93f8[_0x5180b1(0x10e)][_0x5180b1(0x119)], _0x8f93f8[_0x5180b1(0x10e)][_0x5180b1(0x14f)][_0x5180b1(0x11f)], _0x333a21[_0x5180b1(0x112)], _0x333a21[_0x5180b1(0x131) + 'n'], _0x333a21[_0x5180b1(0xd7)]), _0x528461 = _0x8f93f8[_0x5180b1(0x15a)] || [];
        let _0x4e1bd9;
        if (_0xea7cfe)
            _0x4e1bd9 = _0x45206b[_0x5180b1(0x117)](buildMessageBodyFromTemplate, _0xea7cfe, _0x528461);
        else {
            const _0x78d761 = [], _0xb4be0 = _0x528461[_0x5180b1(0x134)](_0x2b73fd => _0x2b73fd[_0x5180b1(0x129)] === _0x5180b1(0xb5));
            if (_0xb4be0 && _0xb4be0[_0x5180b1(0x93)])
                _0x78d761[_0x5180b1(0x11b)]({
                    'type': _0x45206b[_0x5180b1(0xe6)],
                    'text': _0xb4be0[_0x5180b1(0x93)][_0x5180b1(0xd4)]('\x20')
                });
            else {
                const _0x111594 = {};
                _0x111594[_0x5180b1(0x129)] = _0x45206b[_0x5180b1(0xe6)], _0x111594[_0x5180b1(0xed)] = _0x5180b1(0x102) + _0x8f93f8[_0x5180b1(0x10e)][_0x5180b1(0x119)], _0x78d761[_0x5180b1(0x11b)](_0x111594);
            }
            _0x4e1bd9 = JSON[_0x5180b1(0x10a)](_0x78d761);
        }
        const _0x51f1bf = {};
        _0x51f1bf[_0x5180b1(0xfc)] = _0x4e1bd9, _0x51f1bf[_0x5180b1(0x10b)] = !![];
        const _0xb17277 = _0x51f1bf, _0x5bfd6c = {};
        _0x5bfd6c[_0x5180b1(0xa3)] = _0xb17277, _0x5bfd6c[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)], _0x5bfd6c[_0x5180b1(0xe5)] = undefined, _0x5bfd6c[_0x5180b1(0x12d)] = _0x15cf88, _0x5bfd6c[_0x5180b1(0xc5)] = _0x4899d8[_0x5180b1(0xc5)], _0x5bfd6c[_0x5180b1(0x12b) + 'te'] = undefined, _0x5bfd6c[_0x5180b1(0x98)] = _0x45206b[_0x5180b1(0x107)], _0x5bfd6c[_0x5180b1(0x90)] = _0x45206b[_0x5180b1(0xc4)], _0x5bfd6c[_0x5180b1(0xa8) + 'me'] = _0x8f93f8[_0x5180b1(0x10e)][_0x5180b1(0x119)], _0x5bfd6c[_0x5180b1(0xf6) + _0x5180b1(0xcd)] = _0x8f93f8[_0x5180b1(0x10e)][_0x5180b1(0x14f)][_0x5180b1(0x11f)], _0x5bfd6c[_0x5180b1(0x92)] = _0xed0907, _0x5bfd6c[_0x5180b1(0x165) + 'te'] = !![], _0x5bfd6c[_0x5180b1(0xa1)] = _0x9745ea[_0x5180b1(0xbc)][_0x5180b1(0xbf)][0x1b59 + -0x1c82 + -0x1b * -0xb]['id'], _0x5bfd6c[_0x5180b1(0x17c)] = _0x8f93f8[_0x5180b1(0x17c)] || undefined, yield (-0x20a8 + 0x1 * 0x1091 + 0x1017, CreateMessageSystemServiceZPRO_1[_0x5180b1(0x12e)])(_0x5bfd6c);
        if (_0x1192f4)
            try {
                const _0x944098 = {};
                _0x944098[_0x5180b1(0x124)] = _0x4974f5, _0x944098[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)];
                const _0x39a836 = {};
                _0x39a836[_0x5180b1(0x13f)] = _0x944098, _0x39a836[_0x5180b1(0x13e)] = ['id'];
                const _0x5127f1 = yield ContactZPRO_1[_0x5180b1(0x12e)][_0x5180b1(0xfd)](_0x39a836);
                yield _0x45206b[_0x5180b1(0xf5)](delay, -0x22ea + 0x102c + 0x1a8e);
                const _0x5af7a5 = {
                        [sequelize_1['Op']['or']]: [
                            _0x45206b[_0x5180b1(0x11a)],
                            _0x45206b[_0x5180b1(0x13d)]
                        ]
                    }, _0x5e3ca8 = {};
                _0x5e3ca8[_0x5180b1(0xf0)] = _0x5127f1['id'], _0x5e3ca8[_0x5180b1(0xb6)] = _0x4899d8[_0x5180b1(0x13a)], _0x5e3ca8[_0x5180b1(0x90)] = _0x5af7a5;
                const _0x2ae461 = {};
                _0x2ae461[_0x5180b1(0x13f)] = _0x5e3ca8, _0x2ae461[_0x5180b1(0x13e)] = [
                    'id',
                    _0x45206b[_0x5180b1(0xac)]
                ];
                const _0x158e25 = yield TicketZPRO_1[_0x5180b1(0x12e)][_0x5180b1(0xfd)](_0x2ae461);
                yield _0x45206b[_0x5180b1(0xf5)](delay, 0x2ab * 0x1 + -0x31 * 0xa6 + 0x24eb), yield _0x45206b[_0x5180b1(0xd3)](_0x158e25, null) || _0x45206b[_0x5180b1(0x14a)](_0x158e25, void (-0x2005 + 0x1f48 + 0xbd)) ? void (0x1 * 0xec3 + 0x1c * -0x12f + 0x1261) : _0x158e25[_0x5180b1(0xe7)]({ 'status': _0x45206b[_0x5180b1(0x11e)] });
                const _0x42e7d4 = {};
                _0x42e7d4['id'] = _0x158e25['id'], _0x42e7d4[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)];
                const _0x8451c0 = yield (0x1a8 * -0x3 + 0x869 + -0x371 * 0x1, ShowTicketServiceZPRO_1[_0x5180b1(0x12e)])(_0x42e7d4), _0x13c786 = {};
                _0x13c786[_0x5180b1(0x163)] = _0x333a21[_0x5180b1(0x163)], _0x13c786[_0x5180b1(0x129)] = _0x45206b[_0x5180b1(0x146)], _0x13c786[_0x5180b1(0x168)] = _0x8451c0, (-0x153d + 0x1 * -0x1bb8 + 0x30f5, xbj_zpro_1[_0x5180b1(0x12e)])(_0x13c786);
            } catch (_0x5130e2) {
                fxiui_zpro_1[_0x5180b1(0x175)][_0x5180b1(0xea)](_0x45206b[_0x5180b1(0xc2)]);
            }
        const _0x5b366e = {};
        return _0x5b366e[_0x5180b1(0xeb)] = _0x45206b[_0x5180b1(0x15d)], _0x5b366e;
    } catch (_0x1d3dfc) {
        return console[_0x5180b1(0x122)](_0x1d3dfc), { 'message': _0x5180b1(0xcb) + _0x5180b1(0xa6) + JSON[_0x5180b1(0x10a)](_0x1d3dfc) };
    }
});
exports[_0x309e1e(0xbb) + _0x309e1e(0x15c)] = sendTemplate2Service;