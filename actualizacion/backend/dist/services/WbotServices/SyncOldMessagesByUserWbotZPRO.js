'use strict';
function _0x51f1(_0x3aa828, _0x28c3f6) {
    const _0x230e09 = _0x4a96();
    return _0x51f1 = function (_0x4af30a, _0xce6125) {
        _0x4af30a = _0x4af30a - (-0x3ce + 0x2462 * -0x1 + 0x13 * 0x233);
        let _0x3e9573 = _0x230e09[_0x4af30a];
        return _0x3e9573;
    }, _0x51f1(_0x3aa828, _0x28c3f6);
}
const _0x44cf06 = _0x51f1;
(function (_0xd28ef1, _0x5c90c0) {
    const _0x21e22b = _0x51f1, _0x58b717 = _0xd28ef1();
    while (!![]) {
        try {
            const _0x5dba38 = -parseInt(_0x21e22b(0x1eb)) / (-0x162a + 0x7 * 0x385 + -0x9e * 0x4) * (-parseInt(_0x21e22b(0x1d1)) / (-0x1f9b + 0x1e4b + 0x152 * 0x1)) + parseInt(_0x21e22b(0x201)) / (0xbf0 * 0x1 + 0xe9f + -0x1a8c) + parseInt(_0x21e22b(0x1fa)) / (-0x95 * -0x8 + -0x10c1 * 0x1 + -0x7 * -0x1bb) + -parseInt(_0x21e22b(0x1e3)) / (-0x11c + 0x91a * 0x2 + -0x1f * 0x8d) + parseInt(_0x21e22b(0x200)) / (-0x43 * -0x7 + -0x9e7 + 0x818) + parseInt(_0x21e22b(0x216)) / (-0x1d67 + 0x3 * 0x2d7 + 0x14e9) + -parseInt(_0x21e22b(0x1dc)) / (0x1e70 + -0xc5 * -0x1a + -0x9 * 0x59a);
            if (_0x5dba38 === _0x5c90c0)
                break;
            else
                _0x58b717['push'](_0x58b717['shift']());
        } catch (_0x284c67) {
            _0x58b717['push'](_0x58b717['shift']());
        }
    }
}(_0x4a96, -0x2b086 + -0x14fb6 + 0x17 * 0x41dc));
var __awaiter = this && this[_0x44cf06(0x1d6)] || function (_0x308251, _0x10c5bf, _0x571aa2, _0x3485db) {
        const _0xbea0b5 = _0x44cf06, _0x4516bb = {
                'sbqeP': function (_0x36481b, _0x1332b6) {
                    return _0x36481b(_0x1332b6);
                },
                'crgfx': function (_0x42dcec, _0x500f8b) {
                    return _0x42dcec instanceof _0x500f8b;
                },
                'UfrSZ': function (_0xf1febf, _0x487899) {
                    return _0xf1febf(_0x487899);
                },
                'AxXXr': function (_0x588f45, _0xdd813d) {
                    return _0x588f45(_0xdd813d);
                },
                'pkZDT': _0xbea0b5(0x1f4),
                'cWHgN': function (_0x85d760, _0x1cca09) {
                    return _0x85d760(_0x1cca09);
                },
                'BnUVD': function (_0x3c56c6, _0x3f7905) {
                    return _0x3c56c6(_0x3f7905);
                },
                'kFwWr': function (_0x5a2c44, _0x53e644) {
                    return _0x5a2c44(_0x53e644);
                }
            };
        function _0x3bacfc(_0x301ac1) {
            const _0x17dd6f = _0xbea0b5, _0x43535d = {
                    'zkQIE': function (_0x2158bc, _0x33c38c) {
                        const _0x58db4d = _0x51f1;
                        return _0x4516bb[_0x58db4d(0x205)](_0x2158bc, _0x33c38c);
                    }
                };
            return _0x4516bb[_0x17dd6f(0x1ee)](_0x301ac1, _0x571aa2) ? _0x301ac1 : new _0x571aa2(function (_0xa9e497) {
                const _0x151097 = _0x17dd6f;
                _0x43535d[_0x151097(0x1ba)](_0xa9e497, _0x301ac1);
            });
        }
        return new (_0x571aa2 || (_0x571aa2 = Promise))(function (_0x4cf371, _0x3365c1) {
            const _0x3b50d9 = _0xbea0b5;
            function _0x588f71(_0x25f832) {
                const _0x32ec59 = _0x51f1;
                try {
                    _0x4516bb[_0x32ec59(0x1a2)](_0x834666, _0x3485db[_0x32ec59(0x1f2)](_0x25f832));
                } catch (_0x1ab239) {
                    _0x4516bb[_0x32ec59(0x205)](_0x3365c1, _0x1ab239);
                }
            }
            function _0xfed87b(_0x3ef49e) {
                const _0x3e00b3 = _0x51f1;
                try {
                    _0x4516bb[_0x3e00b3(0x1e5)](_0x834666, _0x3485db[_0x4516bb[_0x3e00b3(0x212)]](_0x3ef49e));
                } catch (_0x5793a7) {
                    _0x4516bb[_0x3e00b3(0x1a2)](_0x3365c1, _0x5793a7);
                }
            }
            function _0x834666(_0x3c2e63) {
                const _0x5dd4c5 = _0x51f1;
                _0x3c2e63[_0x5dd4c5(0x1d5)] ? _0x4516bb[_0x5dd4c5(0x20e)](_0x4cf371, _0x3c2e63[_0x5dd4c5(0x1ac)]) : _0x4516bb[_0x5dd4c5(0x1fc)](_0x3bacfc, _0x3c2e63[_0x5dd4c5(0x1ac)])[_0x5dd4c5(0x1fd)](_0x588f71, _0xfed87b);
            }
            _0x4516bb[_0x3b50d9(0x1b9)](_0x834666, (_0x3485db = _0x3485db[_0x3b50d9(0x19b)](_0x308251, _0x10c5bf || []))[_0x3b50d9(0x1f2)]());
        });
    }, __importDefault = this && this[_0x44cf06(0x1f5) + _0x44cf06(0x1c3)] || function (_0x115f47) {
        const _0x8ed404 = _0x44cf06;
        return _0x115f47 && _0x115f47[_0x8ed404(0x199)] ? _0x115f47 : { 'default': _0x115f47 };
    };
const _0x2f3889 = {};
_0x2f3889[_0x44cf06(0x1ac)] = !![], Object[_0x44cf06(0x1c4) + _0x44cf06(0x1f9)](exports, _0x44cf06(0x199), _0x2f3889);
const fxiui_zpro_1 = require(_0x44cf06(0x21e) + _0x44cf06(0x1c8) + _0x44cf06(0x20a)), FindOrCreateTicketServiceZPRO_1 = __importDefault(require(_0x44cf06(0x1d8) + _0x44cf06(0x1a3) + _0x44cf06(0x1cc) + _0x44cf06(0x20f) + _0x44cf06(0x21c))), VerifyContactZPRO_1 = __importDefault(require(_0x44cf06(0x1c9) + _0x44cf06(0x1a6) + _0x44cf06(0x1cd))), VerifyMediaMessageZPRO_1 = __importDefault(require(_0x44cf06(0x1c9) + _0x44cf06(0x1f1) + _0x44cf06(0x1bb) + 'RO')), VerifyMessageZPRO_1 = __importDefault(require(_0x44cf06(0x1c9) + _0x44cf06(0x1e2) + _0x44cf06(0x1e0))), jww_zpro_1 = __importDefault(require(_0x44cf06(0x1ca) + _0x44cf06(0x1b4) + _0x44cf06(0x21d))), MessageZPRO_1 = __importDefault(require(_0x44cf06(0x19d) + _0x44cf06(0x1c7) + _0x44cf06(0x1d3))), TicketZPRO_1 = __importDefault(require(_0x44cf06(0x19d) + _0x44cf06(0x207) + _0x44cf06(0x1e7))), xbj_zpro_1 = __importDefault(require(_0x44cf06(0x1de) + _0x44cf06(0x1b6) + _0x44cf06(0x1af))), moment_timezone_1 = __importDefault(require(_0x44cf06(0x1bd) + _0x44cf06(0x1b8))), ni7w8qlfcnk_zpro_1 = require(_0x44cf06(0x1bc) + _0x44cf06(0x19e) + _0x44cf06(0x1a9) + _0x44cf06(0x219)), delay = _0x4a06db => new Promise(_0x239b8c => setTimeout(_0x239b8c, _0x4a06db)), SyncOldMessagesByUserWbot = (_0x259d6f, _0x105bfc, _0x310734, _0x52e99b) => __awaiter(void (-0x7 * 0x263 + 0x11d5 + 0x2 * -0x90), void (0x1 * 0x11e6 + -0xd3e + -0x4a8), void (0x1 * -0x18ed + -0x1 * 0x1f12 + 0x131 * 0x2f), function* () {
        const _0x3ca0ba = _0x44cf06, _0x5e00f4 = {
                'wlikf': function (_0x318d8d, _0x3045d5) {
                    return _0x318d8d + _0x3045d5;
                },
                'epOsu': _0x3ca0ba(0x1dd) + _0x3ca0ba(0x1ff) + _0x3ca0ba(0x1f3) + _0x3ca0ba(0x1be) + _0x3ca0ba(0x202),
                'OFUGf': _0x3ca0ba(0x1c6),
                'IMxFi': function (_0x5f315e, _0x45bdc1) {
                    return _0x5f315e + _0x45bdc1;
                },
                'ialGC': _0x3ca0ba(0x1fb) + _0x3ca0ba(0x1ed),
                'muhKi': _0x3ca0ba(0x1cf),
                'YOjiI': _0x3ca0ba(0x1ad),
                'uYgHa': _0x3ca0ba(0x1f7),
                'rgKIN': _0x3ca0ba(0x1d4),
                'mNdfB': _0x3ca0ba(0x1b7),
                'woDcf': _0x3ca0ba(0x1d7) + _0x3ca0ba(0x19a),
                'GAedp': _0x3ca0ba(0x20c) + _0x3ca0ba(0x1ef) + _0x3ca0ba(0x1c5),
                'mjNNi': _0x3ca0ba(0x204),
                'ALkeh': _0x3ca0ba(0x209) + 'e',
                'TvZZx': _0x3ca0ba(0x1da),
                'DgWfZ': _0x3ca0ba(0x1d9) + _0x3ca0ba(0x1f6),
                'ruZsB': function (_0x13b2ef, _0x4433ef) {
                    return _0x13b2ef(_0x4433ef);
                },
                'VYdnD': _0x3ca0ba(0x1dd) + _0x3ca0ba(0x1ff) + _0x3ca0ba(0x208) + _0x3ca0ba(0x1ce)
            };
        try {
            const _0x23c705 = yield (0x1bfd + 0x13da + 0x1 * -0x2fd7, jww_zpro_1[_0x3ca0ba(0x1e4)])(_0x259d6f), _0x5832d8 = yield _0x23c705[_0x3ca0ba(0x1d0) + _0x3ca0ba(0x214)](_0x52e99b), _0x2b062f = yield _0x5832d8[_0x3ca0ba(0x19c)](), _0x10661c = {};
            _0x10661c[_0x3ca0ba(0x20b)] = _0x310734;
            let _0x410a16 = yield _0x2b062f[_0x3ca0ba(0x1a1) + _0x3ca0ba(0x1e9)](_0x10661c);
            fxiui_zpro_1[_0x3ca0ba(0x1e6)][_0x3ca0ba(0x1b2)](_0x5e00f4[_0x3ca0ba(0x1b5)](_0x5e00f4[_0x3ca0ba(0x217)], _0x52e99b)), _0x410a16 = _0x410a16[_0x3ca0ba(0x1b1)]();
            for (const _0x354f62 of _0x410a16) {
                const _0x54165b = yield _0x2b062f[_0x3ca0ba(0x1d0)](), _0x425152 = yield (0x21c6 + 0x1b7a + 0x188 * -0x28, VerifyContactZPRO_1[_0x3ca0ba(0x1e4)])(_0x54165b, _0x105bfc), _0xfa4891 = {};
                _0xfa4891[_0x3ca0ba(0x1cf)] = _0x425152, _0xfa4891[_0x3ca0ba(0x218)] = _0x259d6f, _0xfa4891[_0x3ca0ba(0x203) + _0x3ca0ba(0x210)] = _0x2b062f[_0x3ca0ba(0x1c1) + 't'], _0xfa4891[_0x3ca0ba(0x1f7)] = _0x105bfc, _0xfa4891[_0x3ca0ba(0x1aa)] = !![], _0xfa4891[_0x3ca0ba(0x1b0)] = _0x5e00f4[_0x3ca0ba(0x206)];
                const _0x40ce3f = yield (-0xaa2 + -0x199f + 0x1 * 0x2441, FindOrCreateTicketServiceZPRO_1[_0x3ca0ba(0x1e4)])(_0xfa4891), _0x2afd04 = {};
                _0x2afd04[_0x3ca0ba(0x1c2)] = _0x354f62['id']['id'], _0x2afd04[_0x3ca0ba(0x1f7)] = _0x105bfc;
                const _0x34cddb = {};
                _0x34cddb[_0x3ca0ba(0x1db)] = _0x2afd04;
                const _0x192259 = yield MessageZPRO_1[_0x3ca0ba(0x1e4)][_0x3ca0ba(0x1df)](_0x34cddb);
                _0x192259 && fxiui_zpro_1[_0x3ca0ba(0x1e6)][_0x3ca0ba(0x1b2)](_0x5e00f4[_0x3ca0ba(0x1a5)](_0x354f62['id']['id'], _0x5e00f4[_0x3ca0ba(0x1e8)]));
                if (!_0x192259) {
                    _0x354f62[_0x3ca0ba(0x21a)] ? yield (-0xef * 0x5 + 0x20f7 + -0x1c4c, VerifyMediaMessageZPRO_1[_0x3ca0ba(0x1e4)])(_0x354f62, _0x40ce3f, _0x425152) : yield (0x1fe3 + 0x68 * 0x2 + -0x20b3, VerifyMessageZPRO_1[_0x3ca0ba(0x1e4)])(_0x354f62, _0x40ce3f, _0x425152);
                    const _0x27971f = {};
                    _0x27971f[_0x3ca0ba(0x1c2)] = _0x354f62['id']['id'];
                    const _0x256ae7 = yield MessageZPRO_1[_0x3ca0ba(0x1e4)][_0x3ca0ba(0x1df)]({
                        'where': _0x27971f,
                        'include': [
                            _0x5e00f4[_0x3ca0ba(0x213)],
                            {
                                'model': TicketZPRO_1[_0x3ca0ba(0x1e4)],
                                'as': _0x5e00f4[_0x3ca0ba(0x21b)],
                                'attributes': [
                                    'id',
                                    _0x5e00f4[_0x3ca0ba(0x1f0)],
                                    _0x5e00f4[_0x3ca0ba(0x1ab)]
                                ]
                            },
                            {
                                'model': MessageZPRO_1[_0x3ca0ba(0x1e4)],
                                'as': _0x5e00f4[_0x3ca0ba(0x215)],
                                'include': [_0x5e00f4[_0x3ca0ba(0x213)]]
                            }
                        ]
                    });
                    if (_0x256ae7) {
                        const _0x48d94f = moment_timezone_1[_0x3ca0ba(0x1e4)][_0x3ca0ba(0x1f8)](_0x354f62[_0x3ca0ba(0x1cb)])['tz'](_0x5e00f4[_0x3ca0ba(0x211)]), _0x5c1679 = _0x48d94f[_0x3ca0ba(0x1ea)](_0x5e00f4[_0x3ca0ba(0x1e1)]);
                        yield _0x256ae7[_0x3ca0ba(0x1da)]({
                            'ack': 0x2,
                            'syncTime': _0x5e00f4[_0x3ca0ba(0x19f)],
                            'importedAt': new Date(_0x5c1679)
                        });
                        const {ticket: _0x212a98} = _0x256ae7, _0x75988 = {};
                        _0x75988[_0x3ca0ba(0x1f7)] = _0x212a98[_0x3ca0ba(0x1f7)], _0x75988[_0x3ca0ba(0x1a4)] = _0x5e00f4[_0x3ca0ba(0x1ec)], _0x75988[_0x3ca0ba(0x1c0)] = _0x256ae7, (0xc * -0x1bb + 0x1f80 + -0xabc, xbj_zpro_1[_0x3ca0ba(0x1e4)])(_0x75988);
                        const _0x190937 = (0x1c02 + 0x1511 + 0x2e3 * -0x11, ni7w8qlfcnk_zpro_1[_0x3ca0ba(0x1a0)])();
                        _0x190937[_0x3ca0ba(0x1fe)](_0x105bfc + (_0x3ca0ba(0x1bf) + _0x3ca0ba(0x1a8)), {
                            'action': _0x5e00f4[_0x3ca0ba(0x1d2)],
                            'status': {
                                'this': _0x425152[_0x3ca0ba(0x1b3)],
                                'all': _0x310734,
                                'date': moment_timezone_1[_0x3ca0ba(0x1e4)][_0x3ca0ba(0x1f8)](_0x354f62[_0x3ca0ba(0x1cb)])[_0x3ca0ba(0x1ea)](_0x5e00f4[_0x3ca0ba(0x1ae)])
                            }
                        });
                    }
                    fxiui_zpro_1[_0x3ca0ba(0x1e6)][_0x3ca0ba(0x1b2)](_0x5e00f4[_0x3ca0ba(0x1b5)](_0x5e00f4[_0x3ca0ba(0x217)], _0x354f62['id']['id']));
                }
                yield _0x5e00f4[_0x3ca0ba(0x1a7)](delay, 0x1142 + -0x6 * -0x359 + -0x56e * 0x4);
            }
        } catch (_0x46afd7) {
            fxiui_zpro_1[_0x3ca0ba(0x1e6)][_0x3ca0ba(0x1b2)](_0x5e00f4[_0x3ca0ba(0x20d)], _0x46afd7);
        }
    });
exports[_0x44cf06(0x1e4)] = SyncOldMessagesByUserWbot;
function _0x4a96() {
    const _0x24f398 = [
        'sages',
        'ro/ni7w8ql',
        'isSync',
        'rgKIN',
        'value',
        'ticket',
        'DgWfZ',
        'xbj_zpro',
        'channel',
        'reverse',
        'info',
        'number',
        'zpro/jww_z',
        'wlikf',
        'ge1r_zpro/',
        'quotedMsg',
        'ezone',
        'kFwWr',
        'zkQIE',
        'aMessageZP',
        '../../ldo3',
        'moment-tim',
        'sage\x20ticke',
        ':importMes',
        'payload',
        'unreadCoun',
        'messageId',
        'fault',
        'defineProp',
        'SSSZ',
        'whatsapp',
        'ls/Message',
        'hq_zpro/fx',
        './helpers/',
        '../../g2b_',
        'timestamp',
        'ndOrCreate',
        'actZPRO',
        'or:\x20',
        'contact',
        'getContact',
        '215464hXkUxJ',
        'TvZZx',
        'ZPRO',
        'apiConfig',
        'done',
        '__awaiter',
        'America/Sa',
        '../TicketS',
        'DD/MM/YY\x20H',
        'update',
        'where',
        '407496KQvaZT',
        ':::\x20WHATITAN\x20',
        '../../zltz',
        'findOne',
        'ageZPRO',
        'GAedp',
        'VerifyMess',
        '1231230mjanqq',
        'default',
        'AxXXr',
        'logger',
        'PRO',
        'ialGC',
        'ges',
        'format',
        '1PGaGue',
        'ALkeh',
        'xists',
        'crgfx',
        '\x20HH:mm:ss.',
        'uYgHa',
        'VerifyMedi',
        'next',
        ':\x20Sync\x20mes',
        'throw',
        '__importDe',
        'H:mm:ss',
        'tenantId',
        'unix',
        'erty',
        '57076Czczls',
        '\x20already\x20e',
        'BnUVD',
        'then',
        'emit',
        ':::\x20WHATITAN\x20::',
        '143946JLFRBv',
        '672234UKNrqk',
        't:\x20',
        'unreadMess',
        'synced',
        'sbqeP',
        'OFUGf',
        'ls/TicketZ',
        ':\x20Sync\x20err',
        'chat:updat',
        'iui_zpro',
        'limit',
        'YYYY-MM-DD',
        'VYdnD',
        'cWHgN',
        'TicketServ',
        'ages',
        'woDcf',
        'pkZDT',
        'muhKi',
        'ById',
        'mNdfB',
        '368823PADXjx',
        'epOsu',
        'whatsappId',
        'fcnk_zpro',
        'hasMedia',
        'YOjiI',
        'iceZPRO',
        'pro',
        '../../qozl',
        '__esModule',
        'o_Paulo',
        'apply',
        'getChat',
        '../../mode',
        'ypcqyf8_zp',
        'mjNNi',
        'getIO',
        'fetchMessa',
        'UfrSZ',
        'ervices/Fi',
        'type',
        'IMxFi',
        'VerifyCont',
        'ruZsB'
    ];
    _0x4a96 = function () {
        return _0x24f398;
    };
    return _0x4a96();
}